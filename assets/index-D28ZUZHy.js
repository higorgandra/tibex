(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Sd={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function Tb(){if(V_)return Al;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Al.Fragment=t,Al.jsx=i,Al.jsxs=i,Al}var M_;function Ab(){return M_||(M_=1,Sd.exports=Tb()),Sd.exports}var S=Ab(),wd={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function bb(){if(U_)return bt;U_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.iterator;function K(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,J={};function dt(O,G,nt){this.props=O,this.context=G,this.refs=J,this.updater=nt||W}dt.prototype.isReactComponent={},dt.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},dt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function gt(){}gt.prototype=dt.prototype;function mt(O,G,nt){this.props=O,this.context=G,this.refs=J,this.updater=nt||W}var qt=mt.prototype=new gt;qt.constructor=mt,st(qt,dt.prototype),qt.isPureReactComponent=!0;var Ht=Array.isArray;function xt(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(O,G,nt){var ot=nt.ref;return{$$typeof:r,type:O,key:G,ref:ot!==void 0?ot:null,props:nt}}function M(O,G){return R(O.type,G,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return G[nt]})}var C=/\/+/g;function Wt(O,G){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):G.toString(36)}function ve(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(xt,xt):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,G,nt,ot,_t){var yt=typeof O;(yt==="undefined"||yt==="boolean")&&(O=null);var Dt=!1;if(O===null)Dt=!0;else switch(yt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(O.$$typeof){case r:case t:Dt=!0;break;case A:return Dt=O._init,H(Dt(O._payload),G,nt,ot,_t)}}if(Dt)return _t=_t(O),Dt=ot===""?"."+Wt(O,0):ot,Ht(_t)?(nt="",Dt!=null&&(nt=Dt.replace(C,"$&/")+"/"),H(_t,G,nt,"",function(Gn){return Gn})):_t!=null&&(D(_t)&&(_t=M(_t,nt+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(C,"$&/")+"/")+Dt)),G.push(_t)),1;Dt=0;var ce=ot===""?".":ot+":";if(Ht(O))for(var Xt=0;Xt<O.length;Xt++)ot=O[Xt],yt=ce+Wt(ot,Xt),Dt+=H(ot,G,nt,yt,_t);else if(Xt=K(O),typeof Xt=="function")for(O=Xt.call(O),Xt=0;!(ot=O.next()).done;)ot=ot.value,yt=ce+Wt(ot,Xt++),Dt+=H(ot,G,nt,yt,_t);else if(yt==="object"){if(typeof O.then=="function")return H(ve(O),G,nt,ot,_t);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function it(O,G,nt){if(O==null)return O;var ot=[],_t=0;return H(O,ot,"","",function(yt){return G.call(nt,yt,_t++)}),ot}function et(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var Mt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Nt={map:it,forEach:function(O,G,nt){it(O,function(){G.apply(this,arguments)},nt)},count:function(O){var G=0;return it(O,function(){G++}),G},toArray:function(O){return it(O,function(G){return G})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return bt.Activity=b,bt.Children=Nt,bt.Component=dt,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=mt,bt.StrictMode=a,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,bt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},bt.cache=function(O){return function(){return O.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(O,G,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ot=st({},O.props),_t=O.key;if(G!=null)for(yt in G.key!==void 0&&(_t=""+G.key),G)!w.call(G,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&G.ref===void 0||(ot[yt]=G[yt]);var yt=arguments.length-2;if(yt===1)ot.children=nt;else if(1<yt){for(var Dt=Array(yt),ce=0;ce<yt;ce++)Dt[ce]=arguments[ce+2];ot.children=Dt}return R(O.type,_t,ot)},bt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},bt.createElement=function(O,G,nt){var ot,_t={},yt=null;if(G!=null)for(ot in G.key!==void 0&&(yt=""+G.key),G)w.call(G,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(_t[ot]=G[ot]);var Dt=arguments.length-2;if(Dt===1)_t.children=nt;else if(1<Dt){for(var ce=Array(Dt),Xt=0;Xt<Dt;Xt++)ce[Xt]=arguments[Xt+2];_t.children=ce}if(O&&O.defaultProps)for(ot in Dt=O.defaultProps,Dt)_t[ot]===void 0&&(_t[ot]=Dt[ot]);return R(O,yt,_t)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(O){return{$$typeof:p,render:O}},bt.isValidElement=D,bt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:et}},bt.memo=function(O,G){return{$$typeof:_,type:O,compare:G===void 0?null:G}},bt.startTransition=function(O){var G=N.T,nt={};N.T=nt;try{var ot=O(),_t=N.S;_t!==null&&_t(nt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(xt,Mt)}catch(yt){Mt(yt)}finally{G!==null&&nt.types!==null&&(G.types=nt.types),N.T=G}},bt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},bt.use=function(O){return N.H.use(O)},bt.useActionState=function(O,G,nt){return N.H.useActionState(O,G,nt)},bt.useCallback=function(O,G){return N.H.useCallback(O,G)},bt.useContext=function(O){return N.H.useContext(O)},bt.useDebugValue=function(){},bt.useDeferredValue=function(O,G){return N.H.useDeferredValue(O,G)},bt.useEffect=function(O,G){return N.H.useEffect(O,G)},bt.useEffectEvent=function(O){return N.H.useEffectEvent(O)},bt.useId=function(){return N.H.useId()},bt.useImperativeHandle=function(O,G,nt){return N.H.useImperativeHandle(O,G,nt)},bt.useInsertionEffect=function(O,G){return N.H.useInsertionEffect(O,G)},bt.useLayoutEffect=function(O,G){return N.H.useLayoutEffect(O,G)},bt.useMemo=function(O,G){return N.H.useMemo(O,G)},bt.useOptimistic=function(O,G){return N.H.useOptimistic(O,G)},bt.useReducer=function(O,G,nt){return N.H.useReducer(O,G,nt)},bt.useRef=function(O){return N.H.useRef(O)},bt.useState=function(O){return N.H.useState(O)},bt.useSyncExternalStore=function(O,G,nt){return N.H.useSyncExternalStore(O,G,nt)},bt.useTransition=function(){return N.H.useTransition()},bt.version="19.2.0",bt}var P_;function vm(){return P_||(P_=1,wd.exports=bb()),wd.exports}var Ct=vm(),Rd={exports:{}},bl={},Cd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function Sb(){return L_||(L_=1,(function(r){function t(H,it){var et=H.length;H.push(it);t:for(;0<et;){var Mt=et-1>>>1,Nt=H[Mt];if(0<l(Nt,it))H[Mt]=it,H[et]=Nt,et=Mt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var it=H[0],et=H.pop();if(et!==it){H[0]=et;t:for(var Mt=0,Nt=H.length,O=Nt>>>1;Mt<O;){var G=2*(Mt+1)-1,nt=H[G],ot=G+1,_t=H[ot];if(0>l(nt,et))ot<Nt&&0>l(_t,nt)?(H[Mt]=_t,H[ot]=et,Mt=ot):(H[Mt]=nt,H[G]=et,Mt=G);else if(ot<Nt&&0>l(_t,et))H[Mt]=_t,H[ot]=et,Mt=ot;else break t}}return it}function l(H,it){var et=H.sortIndex-it.sortIndex;return et!==0?et:H.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,b=null,V=3,K=!1,W=!1,st=!1,J=!1,dt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function qt(H){for(var it=i(_);it!==null;){if(it.callback===null)a(_);else if(it.startTime<=H)a(_),it.sortIndex=it.expirationTime,t(y,it);else break;it=i(_)}}function Ht(H){if(st=!1,qt(H),!W)if(i(y)!==null)W=!0,xt||(xt=!0,P());else{var it=i(_);it!==null&&ve(Ht,it.startTime-H)}}var xt=!1,N=-1,w=5,R=-1;function M(){return J?!0:!(r.unstable_now()-R<w)}function D(){if(J=!1,xt){var H=r.unstable_now();R=H;var it=!0;try{t:{W=!1,st&&(st=!1,gt(N),N=-1),K=!0;var et=V;try{e:{for(qt(H),b=i(y);b!==null&&!(b.expirationTime>H&&M());){var Mt=b.callback;if(typeof Mt=="function"){b.callback=null,V=b.priorityLevel;var Nt=Mt(b.expirationTime<=H);if(H=r.unstable_now(),typeof Nt=="function"){b.callback=Nt,qt(H),it=!0;break e}b===i(y)&&a(y),qt(H)}else a(y);b=i(y)}if(b!==null)it=!0;else{var O=i(_);O!==null&&ve(Ht,O.startTime-H),it=!1}}break t}finally{b=null,V=et,K=!1}it=void 0}}finally{it?P():xt=!1}}}var P;if(typeof mt=="function")P=function(){mt(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Wt=C.port2;C.port1.onmessage=D,P=function(){Wt.postMessage(null)}}else P=function(){dt(D,0)};function ve(H,it){N=dt(function(){H(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(H){switch(V){case 1:case 2:case 3:var it=3;break;default:it=V}var et=V;V=it;try{return H()}finally{V=et}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,it){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var et=V;V=H;try{return it()}finally{V=et}},r.unstable_scheduleCallback=function(H,it,et){var Mt=r.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?Mt+et:Mt):et=Mt,H){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=et+Nt,H={id:A++,callback:it,priorityLevel:H,startTime:et,expirationTime:Nt,sortIndex:-1},et>Mt?(H.sortIndex=et,t(_,H),i(y)===null&&H===i(_)&&(st?(gt(N),N=-1):st=!0,ve(Ht,et-Mt))):(H.sortIndex=Nt,t(y,H),W||K||(W=!0,xt||(xt=!0,P()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var it=V;return function(){var et=V;V=it;try{return H.apply(this,arguments)}finally{V=et}}}})(Id)),Id}var k_;function wb(){return k_||(k_=1,Cd.exports=Sb()),Cd.exports}var Nd={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function Rb(){if(z_)return tn;z_=1;var r=vm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},tn.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},tn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},tn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},tn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:V,fetchPriority:K}):A==="script"&&a.d.X(y,{crossOrigin:b,integrity:V,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},tn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},tn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},tn.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},tn.requestFormReset=function(y){a.d.r(y)},tn.unstable_batchedUpdates=function(y,_){return y(_)},tn.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.0",tn}var j_;function Cb(){if(j_)return Nd.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=Rb(),Nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function Ib(){if(B_)return bl;B_=1;var r=wb(),t=vm(),i=Cb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,V=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),Ht=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case dt:return"Profiler";case J:return"StrictMode";case Ht:return"Suspense";case xt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case mt:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Wt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Wt(e(n))}catch{}}return null}var ve=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},Mt=[],Nt=-1;function O(e){return{current:e}}function G(e){0>Nt||(e.current=Mt[Nt],Mt[Nt]=null,Nt--)}function nt(e,n){Nt++,Mt[Nt]=e.current,e.current=n}var ot=O(null),_t=O(null),yt=O(null),Dt=O(null);function ce(e,n){switch(nt(yt,n),nt(_t,e),nt(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?n_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=n_(n),e=i_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(ot),nt(ot,e)}function Xt(){G(ot),G(_t),G(yt)}function Gn(e){e.memoizedState!==null&&nt(Dt,e);var n=ot.current,s=i_(n,e.type);n!==s&&(nt(_t,e),nt(ot,s))}function ds(e){_t.current===e&&(G(ot),G(_t)),Dt.current===e&&(G(Dt),_l._currentValue=et)}var Qn,ki;function _n(e){if(Qn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Qn=n&&n[1]||"",ki=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qn+e+ki}var zi=!1;function vn(e,n){if(!e||zi)return"";zi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var j=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){j=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){j=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var F=`
`+I[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{zi=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?_n(s):""}function ms(e,n){switch(e.tag){case 26:case 27:case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return e.child!==n&&n!==null?_n("Suspense Fallback"):_n("Suspense");case 19:return _n("SuspenseList");case 0:case 15:return vn(e.type,!1);case 11:return vn(e.type.render,!1);case 1:return vn(e.type,!0);case 31:return _n("Activity");default:return""}}function Kn(e){try{var n="",s=null;do n+=ms(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,pe=r.unstable_scheduleCallback,ui=r.unstable_cancelCallback,pr=r.unstable_shouldYield,ra=r.unstable_requestPaint,ze=r.unstable_now,Yn=r.unstable_getCurrentPriorityLevel,ci=r.unstable_ImmediatePriority,gs=r.unstable_UserBlockingPriority,hi=r.unstable_NormalPriority,aa=r.unstable_LowPriority,ps=r.unstable_IdlePriority,yr=r.log,ys=r.unstable_setDisableYieldValue,je=null,Me=null;function ln(e){if(typeof yr=="function"&&ys(e),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(je,e)}catch{}}var de=Math.clz32?Math.clz32:la,oa=Math.log,_s=Math.LN2;function la(e){return e>>>=0,e===0?32:31-(oa(e)/_s|0)|0}var Dn=256,$=262144,rt=4194304;function Et(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function re(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Et(o):(g&=E,g!==0?h=Et(g):s||(s=E&~e,s!==0&&(h=Et(s))))):(E=o&~f,E!==0?h=Et(E):g!==0?h=Et(g):s||(s=o&~e,s!==0&&(h=Et(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ge(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ua(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=rt;return rt<<=1,(rt&62914560)===0&&(rt=4194304),e}function fi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function _r(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ih(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-de(s),X=1<<F;E[F]=0,I[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}s&=~X}o!==0&&vr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function vr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function bo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-de(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function So(e,n){var s=n&-n;return s=(s&42)!==0?1:Er(s),(s&(e.suspendedLanes|n))!==0?0:s}function Er(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ji(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:R_(e.type))}function Xn(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var $n=Math.random().toString(36).slice(2),Se="__reactFiber$"+$n,Be="__reactProps$"+$n,di="__reactContainer$"+$n,ca="__reactEvents$"+$n,Nh="__reactListeners$"+$n,su="__reactHandles$"+$n,ru="__reactResources$"+$n,mi="__reactMarker$"+$n;function ha(e){delete e[Se],delete e[Be],delete e[ca],delete e[Nh],delete e[su]}function gi(e){var n=e[Se];if(n)return n;for(var s=e.parentNode;s;){if(n=s[di]||s[Se]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=c_(e);e!==null;){if(s=e[Se])return s;e=c_(e)}return n}e=s,s=e.parentNode}return null}function On(e){if(e=e[Se]||e[di]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function En(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function pi(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function we(e){e[mi]=!0}var wo=new Set,Ro={};function yi(e,n){_i(e,n),_i(e+"Capture",n)}function _i(e,n){for(Ro[e]=n,e=0;e<n.length;e++)wo.add(n[e])}var Co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},No={};function au(e){return ge.call(No,e)?!0:ge.call(Io,e)?!1:Co.test(e)?No[e]=!0:(Io[e]=!0,!1)}function fa(e,n,s){if(au(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Tn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Re(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $t(e){if(!e._valueTracker){var n=vs(e)?"checked":"value";e._valueTracker=xo(e,n,""+e[n])}}function Tr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=vs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ar=/[\n"\\]/g;function un(e){return e.replace(Ar,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qe(n)):e.value!==""+qe(n)&&(e.value=""+qe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Do(e,g,qe(n)):s!=null?Do(e,g,qe(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+qe(E):e.removeAttribute("name")}function ou(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$t(e);return}s=s!=null?""+qe(s):"",n=n!=null?""+qe(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),$t(e)}function Do(e,n,s){n==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Es(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+qe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,s){if(n!=null&&(n=""+qe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+qe(s):""}function Ts(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ve(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=qe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),$t(e)}function cn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||uu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Vo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Oo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Oo(e,f,n[f])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(e){return As.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zn(){}var Mo=null;function Vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bs=null,Ei=null;function br(e){var n=On(e);if(n&&(e=n.stateNode)){var s=e[Be]||null;t:switch(e=n.stateNode,n.type){case"input":if(da(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Be]||null;if(!h)throw Error(a(90));da(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Tr(o)}break t;case"textarea":lu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Es(e,!!s.multiple,n,!1)}}}var pa=!1;function Ss(e,n,s){if(pa)return e(n,s);pa=!0;try{var o=e(n);return o}finally{if(pa=!1,(bs!==null||Ei!==null)&&(ic(),bs&&(n=bs,e=Ei,Ei=bs=null,br(n),e)))for(n=0;n<e.length;n++)br(e[n])}}function Jn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Be]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(Mn)try{var te={};Object.defineProperty(te,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Sr=!1}var Ti=null,Uo=null,wr=null;function Po(){if(wr)return wr;var e,n=Uo,s=n.length,o,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return wr=h.slice(e,1<o?1-o:void 0)}function Rr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function Wn(){return!1}function Qe(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:Wn,this.isPropagationStopped=Wn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Qe(qi),ws=b({},qi,{view:0,detail:0}),Lo=Qe(ws),Rs,ya,bi,_a=b({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(Rs=e.screenX-bi.screenX,ya=e.screenY-bi.screenY):ya=Rs=0,bi=e),Rs)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),ko=Qe(_a),Cr=b({},_a,{dataTransfer:0}),hu=Qe(Cr),fu=b({},ws,{relatedTarget:0}),Ir=Qe(fu),zo=b({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),du=Qe(zo),va=b({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=Qe(va),gu=b({},qi,{data:0}),Si=Qe(gu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function Cs(){return vu}var an=b({},ws,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?Rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=Qe(an),Tu=b({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Qe(Tu),u=b({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),m=Qe(u),v=b({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Qe(v),L=b({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Qe(L),tt=b({},qi,{newState:0,oldState:0}),wt=Qe(tt),Ee=[9,13,27,32],Qt=Mn&&"CompositionEvent"in window,he=null;Mn&&"documentMode"in document&&(he=document.documentMode);var Un=Mn&&"TextEvent"in window&&!he,wi=Mn&&(!Qt||he&&8<he&&11>=he),ti=" ",ei=!1;function Nr(e,n){switch(e){case"keyup":return Ee.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function GT(e,n){switch(e){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(ei=!0,ti);case"textInput":return e=n.data,e===ti&&ei?null:e;default:return null}}function QT(e,n){if(Ta)return e==="compositionend"||!Qt&&Nr(e,n)?(e=Po(),wr=Uo=Ti=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wi&&n.locale!=="ko"?null:n.data;default:return null}}var KT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!KT[e.type]:n==="textarea"}function mg(e,n,s,o){bs?Ei?Ei.push(o):Ei=[o]:bs=o,n=cc(n,"onChange"),0<n.length&&(s=new Ai("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var jo=null,Bo=null;function YT(e){$y(e,0)}function Au(e){var n=En(e);if(Tr(n))return e}function gg(e,n){if(e==="change")return n}var pg=!1;if(Mn){var xh;if(Mn){var Dh="oninput"in document;if(!Dh){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Dh=typeof yg.oninput=="function"}xh=Dh}else xh=!1;pg=xh&&(!document.documentMode||9<document.documentMode)}function _g(){jo&&(jo.detachEvent("onpropertychange",vg),Bo=jo=null)}function vg(e){if(e.propertyName==="value"&&Au(Bo)){var n=[];mg(n,Bo,e,Vn(e)),Ss(YT,n)}}function XT(e,n,s){e==="focusin"?(_g(),jo=n,Bo=s,jo.attachEvent("onpropertychange",vg)):e==="focusout"&&_g()}function $T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Bo)}function ZT(e,n){if(e==="click")return Au(n)}function JT(e,n){if(e==="input"||e==="change")return Au(n)}function WT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:WT;function qo(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ge.call(n,h)||!An(e[h],n[h]))return!1}return!0}function Eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tg(e,n){var s=Eg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Eg(s)}}function Ag(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ag(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function bg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=vi(e.document)}return n}function Oh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var tA=Mn&&"documentMode"in document&&11>=document.documentMode,Aa=null,Vh=null,Ho=null,Mh=!1;function Sg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Mh||Aa==null||Aa!==vi(o)||(o=Aa,"selectionStart"in o&&Oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ho&&qo(Ho,o)||(Ho=o,o=cc(Vh,"onSelect"),0<o.length&&(n=new Ai("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=Aa)))}function xr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ba={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},Uh={},wg={};Mn&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Dr(e){if(Uh[e])return Uh[e];if(!ba[e])return e;var n=ba[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in wg)return Uh[e]=n[s];return e}var Rg=Dr("animationend"),Cg=Dr("animationiteration"),Ig=Dr("animationstart"),eA=Dr("transitionrun"),nA=Dr("transitionstart"),iA=Dr("transitioncancel"),Ng=Dr("transitionend"),xg=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function ni(e,n){xg.set(e,n),yi(n,[e])}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pn=[],Sa=0,Lh=0;function Su(){for(var e=Sa,n=Lh=Sa=0;n<e;){var s=Pn[n];Pn[n++]=null;var o=Pn[n];Pn[n++]=null;var h=Pn[n];Pn[n++]=null;var f=Pn[n];if(Pn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Dg(s,h,f)}}function wu(e,n,s,o){Pn[Sa++]=e,Pn[Sa++]=n,Pn[Sa++]=s,Pn[Sa++]=o,Lh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function kh(e,n,s,o){return wu(e,n,s,o),Ru(e)}function Or(e,n){return wu(e,null,null,n),Ru(e)}function Dg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Ru(e){if(50<hl)throw hl=0,Yf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var wa={};function sA(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,n,s,o){return new sA(e,n,s,o)}function zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fi(e,n){var s=e.alternate;return s===null?(s=bn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Og(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")zh(e)&&(g=1);else if(typeof e=="string")g=ub(e,s,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=bn(31,s,n,h),e.elementType=R,e.lanes=f,e;case st:return Vr(s.children,h,f,n);case J:g=8,h|=24;break;case dt:return e=bn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case Ht:return e=bn(13,s,n,h),e.elementType=Ht,e.lanes=f,e;case xt:return e=bn(19,s,n,h),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case gt:g=9;break t;case qt:g=11;break t;case N:g=14;break t;case w:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=bn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Vr(e,n,s,o){return e=bn(7,e,o,n),e.lanes=s,e}function jh(e,n,s){return e=bn(6,e,null,n),e.lanes=s,e}function Vg(e){var n=bn(18,null,null,0);return n.stateNode=e,n}function Bh(e,n,s){return n=bn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Mg=new WeakMap;function Ln(e,n){if(typeof e=="object"&&e!==null){var s=Mg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Kn(n)},Mg.set(e,n),n)}return{value:e,source:n,stack:Kn(n)}}var Ra=[],Ca=0,Iu=null,Fo=0,kn=[],zn=0,Is=null,Ri=1,Ci="";function Gi(e,n){Ra[Ca++]=Fo,Ra[Ca++]=Iu,Iu=e,Fo=n}function Ug(e,n,s){kn[zn++]=Ri,kn[zn++]=Ci,kn[zn++]=Is,Is=e;var o=Ri;e=Ci;var h=32-de(o)-1;o&=~(1<<h),s+=1;var f=32-de(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ri=1<<32-de(n)+h|s<<h|o,Ci=f+e}else Ri=1<<f|s<<h|o,Ci=e}function qh(e){e.return!==null&&(Gi(e,1),Ug(e,1,0))}function Hh(e){for(;e===Iu;)Iu=Ra[--Ca],Ra[Ca]=null,Fo=Ra[--Ca],Ra[Ca]=null;for(;e===Is;)Is=kn[--zn],kn[zn]=null,Ci=kn[--zn],kn[zn]=null,Ri=kn[--zn],kn[zn]=null}function Pg(e,n){kn[zn++]=Ri,kn[zn++]=Ci,kn[zn++]=Is,Ri=n.id,Ci=n.overflow,Is=e}var Ke=null,le=null,jt=!1,Ns=null,jn=!1,Fh=Error(a(519));function xs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(Ln(n,e)),Fh}function Lg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Se]=e,n[Be]=o,s){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(s=0;s<dl.length;s++)Vt(dl[s],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Ts(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||t_(n.textContent,s)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=Zn),n=!0):n=!1,n||xs(e,!0)}function kg(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ke=Ke.return}}function Ia(e){if(e!==Ke)return!1;if(!jt)return kg(e),jt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ud(e.type,e.memoizedProps)),s=!s),s&&le&&xs(e),kg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=u_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=u_(e)}else n===27?(n=le,Fs(e.type)?(e=md,md=null,le=e):le=n):le=Ke?qn(e.stateNode.nextSibling):null;return!0}function Mr(){le=Ke=null,jt=!1}function Gh(){var e=Ns;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),Ns=null),e}function Go(e){Ns===null?Ns=[e]:Ns.push(e)}var Qh=O(null),Ur=null,Qi=null;function Ds(e,n,s){nt(Qh,n._currentValue),n._currentValue=s}function Ki(e){e._currentValue=Qh.current,G(Qh)}function Kh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Yh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Kh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Kh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Na(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;An(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Dt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}h=h.return}e!==null&&Yh(n,e,s,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pr(e){Ur=e,Qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return zg(Ur,e)}function xu(e,n){return Ur===null&&Pr(e),zg(e,n)}function zg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Qi===null){if(e===null)throw Error(a(308));Qi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Qi=Qi.next=n;return s}var rA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},aA=r.unstable_scheduleCallback,oA=r.unstable_NormalPriority,Ce={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new rA,data:new Map,refCount:0}}function Qo(e){e.refCount--,e.refCount===0&&aA(oA,function(){e.controller.abort()})}var Ko=null,$h=0,xa=0,Da=null;function lA(e,n){if(Ko===null){var s=Ko=[];$h=0,xa=td(),Da={status:"pending",value:void 0,then:function(o){s.push(o)}}}return $h++,n.then(jg,jg),n}function jg(){if(--$h===0&&Ko!==null){Da!==null&&(Da.status="fulfilled");var e=Ko;Ko=null,xa=0,Da=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function uA(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Bg=H.S;H.S=function(e,n){Sy=ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&lA(e,n),Bg!==null&&Bg(e,n)};var Lr=O(null);function Zh(){var e=Lr.current;return e!==null?e:se.pooledCache}function Du(e,n){n===null?nt(Lr,Lr.current):nt(Lr,n.pool)}function qg(){var e=Zh();return e===null?null:{parent:Ce._currentValue,pool:e}}var Oa=Error(a(460)),Jh=Error(a(474)),Ou=Error(a(542)),Vu={then:function(){}};function Hg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Zn,Zn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qg(e),e;default:if(typeof n.status=="string")n.then(Zn,Zn);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qg(e),e}throw zr=n,Oa}}function kr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(zr=s,Oa):s}}var zr=null;function Gg(){if(zr===null)throw Error(a(459));var e=zr;return zr=null,e}function Qg(e){if(e===Oa||e===Ou)throw Error(a(483))}var Va=null,Yo=0;function Mu(e){var n=Yo;return Yo+=1,Va===null&&(Va=[]),Fg(Va,e,n)}function Xo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Kg(e){function n(U,x){if(e){var k=U.deletions;k===null?(U.deletions=[x],U.flags|=16):k.push(x)}}function s(U,x){if(!e)return null;for(;x!==null;)n(U,x),x=x.sibling;return null}function o(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function h(U,x){return U=Fi(U,x),U.index=0,U.sibling=null,U}function f(U,x,k){return U.index=k,e?(k=U.alternate,k!==null?(k=k.index,k<x?(U.flags|=67108866,x):k):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,x,k,Q){return x===null||x.tag!==6?(x=jh(k,U.mode,Q),x.return=U,x):(x=h(x,k),x.return=U,x)}function I(U,x,k,Q){var ht=k.type;return ht===st?F(U,x,k.props.children,Q,k.key):x!==null&&(x.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&kr(ht)===x.type)?(x=h(x,k.props),Xo(x,k),x.return=U,x):(x=Cu(k.type,k.key,k.props,null,U.mode,Q),Xo(x,k),x.return=U,x)}function z(U,x,k,Q){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=Bh(k,U.mode,Q),x.return=U,x):(x=h(x,k.children||[]),x.return=U,x)}function F(U,x,k,Q,ht){return x===null||x.tag!==7?(x=Vr(k,U.mode,Q,ht),x.return=U,x):(x=h(x,k),x.return=U,x)}function X(U,x,k){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=jh(""+x,U.mode,k),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case K:return k=Cu(x.type,x.key,x.props,null,U.mode,k),Xo(k,x),k.return=U,k;case W:return x=Bh(x,U.mode,k),x.return=U,x;case w:return x=kr(x),X(U,x,k)}if(ve(x)||P(x))return x=Vr(x,U.mode,k,null),x.return=U,x;if(typeof x.then=="function")return X(U,Mu(x),k);if(x.$$typeof===mt)return X(U,xu(U,x),k);Uu(U,x)}return null}function j(U,x,k,Q){var ht=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ht!==null?null:E(U,x,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case K:return k.key===ht?I(U,x,k,Q):null;case W:return k.key===ht?z(U,x,k,Q):null;case w:return k=kr(k),j(U,x,k,Q)}if(ve(k)||P(k))return ht!==null?null:F(U,x,k,Q,null);if(typeof k.then=="function")return j(U,x,Mu(k),Q);if(k.$$typeof===mt)return j(U,x,xu(U,k),Q);Uu(U,k)}return null}function q(U,x,k,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(k)||null,E(x,U,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:return U=U.get(Q.key===null?k:Q.key)||null,I(x,U,Q,ht);case W:return U=U.get(Q.key===null?k:Q.key)||null,z(x,U,Q,ht);case w:return Q=kr(Q),q(U,x,k,Q,ht)}if(ve(Q)||P(Q))return U=U.get(k)||null,F(x,U,Q,ht,null);if(typeof Q.then=="function")return q(U,x,k,Mu(Q),ht);if(Q.$$typeof===mt)return q(U,x,k,xu(x,Q),ht);Uu(x,Q)}return null}function ut(U,x,k,Q){for(var ht=null,Ft=null,ct=x,It=x=0,Pt=null;ct!==null&&It<k.length;It++){ct.index>It?(Pt=ct,ct=null):Pt=ct.sibling;var Gt=j(U,ct,k[It],Q);if(Gt===null){ct===null&&(ct=Pt);break}e&&ct&&Gt.alternate===null&&n(U,ct),x=f(Gt,x,It),Ft===null?ht=Gt:Ft.sibling=Gt,Ft=Gt,ct=Pt}if(It===k.length)return s(U,ct),jt&&Gi(U,It),ht;if(ct===null){for(;It<k.length;It++)ct=X(U,k[It],Q),ct!==null&&(x=f(ct,x,It),Ft===null?ht=ct:Ft.sibling=ct,Ft=ct);return jt&&Gi(U,It),ht}for(ct=o(ct);It<k.length;It++)Pt=q(ct,U,It,k[It],Q),Pt!==null&&(e&&Pt.alternate!==null&&ct.delete(Pt.key===null?It:Pt.key),x=f(Pt,x,It),Ft===null?ht=Pt:Ft.sibling=Pt,Ft=Pt);return e&&ct.forEach(function(Xs){return n(U,Xs)}),jt&&Gi(U,It),ht}function pt(U,x,k,Q){if(k==null)throw Error(a(151));for(var ht=null,Ft=null,ct=x,It=x=0,Pt=null,Gt=k.next();ct!==null&&!Gt.done;It++,Gt=k.next()){ct.index>It?(Pt=ct,ct=null):Pt=ct.sibling;var Xs=j(U,ct,Gt.value,Q);if(Xs===null){ct===null&&(ct=Pt);break}e&&ct&&Xs.alternate===null&&n(U,ct),x=f(Xs,x,It),Ft===null?ht=Xs:Ft.sibling=Xs,Ft=Xs,ct=Pt}if(Gt.done)return s(U,ct),jt&&Gi(U,It),ht;if(ct===null){for(;!Gt.done;It++,Gt=k.next())Gt=X(U,Gt.value,Q),Gt!==null&&(x=f(Gt,x,It),Ft===null?ht=Gt:Ft.sibling=Gt,Ft=Gt);return jt&&Gi(U,It),ht}for(ct=o(ct);!Gt.done;It++,Gt=k.next())Gt=q(ct,U,It,Gt.value,Q),Gt!==null&&(e&&Gt.alternate!==null&&ct.delete(Gt.key===null?It:Gt.key),x=f(Gt,x,It),Ft===null?ht=Gt:Ft.sibling=Gt,Ft=Gt);return e&&ct.forEach(function(Eb){return n(U,Eb)}),jt&&Gi(U,It),ht}function ie(U,x,k,Q){if(typeof k=="object"&&k!==null&&k.type===st&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case K:t:{for(var ht=k.key;x!==null;){if(x.key===ht){if(ht=k.type,ht===st){if(x.tag===7){s(U,x.sibling),Q=h(x,k.props.children),Q.return=U,U=Q;break t}}else if(x.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&kr(ht)===x.type){s(U,x.sibling),Q=h(x,k.props),Xo(Q,k),Q.return=U,U=Q;break t}s(U,x);break}else n(U,x);x=x.sibling}k.type===st?(Q=Vr(k.props.children,U.mode,Q,k.key),Q.return=U,U=Q):(Q=Cu(k.type,k.key,k.props,null,U.mode,Q),Xo(Q,k),Q.return=U,U=Q)}return g(U);case W:t:{for(ht=k.key;x!==null;){if(x.key===ht)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){s(U,x.sibling),Q=h(x,k.children||[]),Q.return=U,U=Q;break t}else{s(U,x);break}else n(U,x);x=x.sibling}Q=Bh(k,U.mode,Q),Q.return=U,U=Q}return g(U);case w:return k=kr(k),ie(U,x,k,Q)}if(ve(k))return ut(U,x,k,Q);if(P(k)){if(ht=P(k),typeof ht!="function")throw Error(a(150));return k=ht.call(k),pt(U,x,k,Q)}if(typeof k.then=="function")return ie(U,x,Mu(k),Q);if(k.$$typeof===mt)return ie(U,x,xu(U,k),Q);Uu(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,x!==null&&x.tag===6?(s(U,x.sibling),Q=h(x,k),Q.return=U,U=Q):(s(U,x),Q=jh(k,U.mode,Q),Q.return=U,U=Q),g(U)):s(U,x)}return function(U,x,k,Q){try{Yo=0;var ht=ie(U,x,k,Q);return Va=null,ht}catch(ct){if(ct===Oa||ct===Ou)throw ct;var Ft=bn(29,ct,null,U.mode);return Ft.lanes=Q,Ft.return=U,Ft}finally{}}}var jr=Kg(!0),Yg=Kg(!1),Os=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ms(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Dg(e,null,s),n}return wu(e,o,n,s),Ru(e)}function $o(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,bo(e,s)}}function ef(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var nf=!1;function Zo(){if(nf){var e=Da;if(e!==null)throw e}}function Jo(e,n,s,o){nf=!1;var h=e.updateQueue;Os=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;g=0,F=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ut&j)===j:(o&j)===j){j!==0&&j===xa&&(nf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=e,pt=E;j=n;var ie=s;switch(pt.tag){case 1:if(ut=pt.payload,typeof ut=="function"){X=ut.call(ie,X,j);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=pt.payload,j=typeof ut=="function"?ut.call(ie,X,j):ut,j==null)break t;X=b({},X,j);break t;case 2:Os=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,I=X):F=F.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),zs|=g,e.lanes=g,e.memoizedState=X}}function Xg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function $g(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Xg(s[e],n)}var Ma=O(null),Pu=O(0);function Zg(e,n){e=ns,nt(Pu,e),nt(Ma,n),ns=e|n.baseLanes}function sf(){nt(Pu,ns),nt(Ma,Ma.current)}function rf(){ns=Pu.current,G(Ma),G(Pu)}var Sn=O(null),Bn=null;function Us(e){var n=e.alternate;nt(Te,Te.current&1),nt(Sn,e),Bn===null&&(n===null||Ma.current!==null||n.memoizedState!==null)&&(Bn=e)}function af(e){nt(Te,Te.current),nt(Sn,e),Bn===null&&(Bn=e)}function Jg(e){e.tag===22?(nt(Te,Te.current),nt(Sn,e),Bn===null&&(Bn=e)):Ps()}function Ps(){nt(Te,Te.current),nt(Sn,Sn.current)}function wn(e){G(Sn),Bn===e&&(Bn=null),G(Te)}var Te=O(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||fd(s)||dd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yi=0,Rt=null,ee=null,Ie=null,ku=!1,Ua=!1,Br=!1,zu=0,Wo=0,Pa=null,cA=0;function ye(){throw Error(a(321))}function of(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!An(e[s],n[s]))return!1;return!0}function lf(e,n,s,o,h,f){return Yi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Up:bf,Br=!1,f=s(o,h),Br=!1,Ua&&(f=tp(n,s,o,h)),Wg(e),f}function Wg(e){H.H=nl;var n=ee!==null&&ee.next!==null;if(Yi=0,Ie=ee=Rt=null,ku=!1,Wo=0,Pa=null,n)throw Error(a(300));e===null||Ne||(e=e.dependencies,e!==null&&Nu(e)&&(Ne=!0))}function tp(e,n,s,o){Rt=e;var h=0;do{if(Ua&&(Pa=null),Wo=0,Ua=!1,25<=h)throw Error(a(301));if(h+=1,Ie=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Pp,f=n(s,o)}while(Ua);return f}function hA(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?tl(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Rt.flags|=1024),n}function uf(){var e=zu!==0;return zu=0,e}function cf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function hf(e){if(ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ku=!1}Yi=0,Ie=ee=Rt=null,Ua=!1,Wo=zu=0,Pa=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Rt.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Ae(){if(ee===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Ie===null?Rt.memoizedState:Ie.next;if(n!==null)Ie=n,ee=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ie===null?Rt.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var n=Wo;return Wo+=1,Pa===null&&(Pa=[]),e=Fg(Pa,e,n),n=Rt,(Ie===null?n.memoizedState:Ie.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Up:bf),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===mt)return Ye(e)}throw Error(a(438,String(e)))}function ff(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ju(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function Xi(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=Ae();return df(n,ee,e)}function df(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ut&X)===X:(Yi&X)===X){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===xa&&(F=!0);else if((Yi&j)===j){z=z.next,j===xa&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=X,g=f):I=I.next=X,Rt.lanes|=j,zs|=j;X=z.action,Br&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,g=f):I=I.next=j,Rt.lanes|=X,zs|=X;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!An(f,e.memoizedState)&&(Ne=!0,F&&(s=Da,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function mf(e){var n=Ae(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);An(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function ep(e,n,s){var o=Rt,h=Ae(),f=jt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!An((ee||h).memoizedState,s);if(g&&(h.memoizedState=s,Ne=!0),h=h.queue,yf(sp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ie!==null&&Ie.memoizedState.tag&1){if(o.flags|=2048,La(9,{destroy:void 0},ip.bind(null,o,h,s,n),null),se===null)throw Error(a(349));f||(Yi&127)!==0||np(o,n,s)}return s}function np(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=ju(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ip(e,n,s,o){n.value=s,n.getSnapshot=o,rp(n)&&ap(e)}function sp(e,n,s){return s(function(){rp(n)&&ap(e)})}function rp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!An(e,s)}catch{return!0}}function ap(e){var n=Or(e,2);n!==null&&gn(n,e,2)}function gf(e){var n=on();if(typeof e=="function"){var s=e;if(e=s(),Br){ln(!0);try{s()}finally{ln(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},n}function op(e,n,s,o){return e.baseState=s,df(e,ee,typeof o=="function"?o:Xi)}function fA(e,n,s,o,h){if(Gu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,lp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function lp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(h,o),I=H.S;I!==null&&I(g,E),up(e,n,E)}catch(z){pf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,o),up(e,n,f)}catch(z){pf(e,n,z)}}function up(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){cp(e,n,o)},function(o){return pf(e,n,o)}):cp(e,n,s)}function cp(e,n,s){n.status="fulfilled",n.value=s,hp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,lp(e,s)))}function pf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,hp(n),n=n.next;while(n!==o)}e.action=null}function hp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function fp(e,n){return n}function dp(e,n){if(jt){var s=se.formState;if(s!==null){t:{var o=Rt;if(jt){if(le){e:{for(var h=le,f=jn;h.nodeType!==8;){if(!f){h=null;break e}if(h=qn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){le=qn(h.nextSibling),o=h.data==="F!";break t}}xs(o)}o=!1}o&&(n=s[0])}}return s=on(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:n},s.queue=o,s=Op.bind(null,Rt,o),o.dispatch=s,o=gf(!1),f=Af.bind(null,Rt,!1,o.queue),o=on(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=fA.bind(null,Rt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function mp(e){var n=Ae();return gp(n,ee,e)}function gp(e,n,s){if(n=df(e,n,fp)[0],e=qu(Xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=tl(n)}catch(g){throw g===Oa?Ou:g}else o=n;n=Ae();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,La(9,{destroy:void 0},dA.bind(null,h,s),null)),[o,f,e]}function dA(e,n){e.action=n}function pp(e){var n=Ae(),s=ee;if(s!==null)return gp(n,s,e);Ae(),n=n.memoizedState,s=Ae();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function La(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=ju(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function yp(){return Ae().memoizedState}function Hu(e,n,s,o){var h=on();Rt.flags|=e,h.memoizedState=La(1|n,{destroy:void 0},s,o===void 0?null:o)}function Fu(e,n,s,o){var h=Ae();o=o===void 0?null:o;var f=h.memoizedState.inst;ee!==null&&o!==null&&of(o,ee.memoizedState.deps)?h.memoizedState=La(n,f,s,o):(Rt.flags|=e,h.memoizedState=La(1|n,f,s,o))}function _p(e,n){Hu(8390656,8,e,n)}function yf(e,n){Fu(2048,8,e,n)}function mA(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=ju(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function vp(e){var n=Ae().memoizedState;return mA({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ep(e,n){return Fu(4,2,e,n)}function Tp(e,n){return Fu(4,4,e,n)}function Ap(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function bp(e,n,s){s=s!=null?s.concat([e]):null,Fu(4,4,Ap.bind(null,n,e),s)}function _f(){}function Sp(e,n){var s=Ae();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&of(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function wp(e,n){var s=Ae();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&of(n,o[1]))return o[0];if(o=e(),Br){ln(!0);try{e()}finally{ln(!1)}}return s.memoizedState=[o,n],o}function vf(e,n,s){return s===void 0||(Yi&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ry(),Rt.lanes|=e,zs|=e,s)}function Rp(e,n,s,o){return An(s,n)?s:Ma.current!==null?(e=vf(e,s,o),An(e,n)||(Ne=!0),e):(Yi&42)===0||(Yi&1073741824)!==0&&(Ut&261930)===0?(Ne=!0,e.memoizedState=s):(e=Ry(),Rt.lanes|=e,zs|=e,n)}function Cp(e,n,s,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Af(e,!1,n,s);try{var I=h(),z=H.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=uA(I,o);el(e,n,F,In(e))}else el(e,n,o,In(e))}catch(X){el(e,n,{then:function(){},status:"rejected",reason:X},In())}finally{it.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function gA(){}function Ef(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Ip(e).queue;Cp(e,h,n,et,s===null?gA:function(){return Np(e),s(o)})}function Ip(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:et},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Np(e){var n=Ip(e);n.next===null&&(n=e.alternate.memoizedState),el(e,n.next.queue,{},In())}function Tf(){return Ye(_l)}function xp(){return Ae().memoizedState}function Dp(){return Ae().memoizedState}function pA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=In();e=Vs(s);var o=Ms(n,e,s);o!==null&&(gn(o,n,s),$o(o,n,s)),n={cache:Xh()},e.payload=n;return}n=n.return}}function yA(e,n,s){var o=In();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Vp(n,s):(s=kh(e,n,s,o),s!==null&&(gn(s,e,o),Mp(s,n,o)))}function Op(e,n,s){var o=In();el(e,n,s,o)}function el(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Vp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,An(E,g))return wu(e,n,h,0),se===null&&Su(),!1}catch{}finally{}if(s=kh(e,n,h,o),s!==null)return gn(s,e,o),Mp(s,n,o),!0}return!1}function Af(e,n,s,o){if(o={lane:2,revertLane:td(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(a(479))}else n=kh(e,s,o,2),n!==null&&gn(n,e,2)}function Gu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Vp(e,n){Ua=ku=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Mp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,bo(e,s)}}var nl={readContext:Ye,use:Bu,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};nl.useEffectEvent=ye;var Up={readContext:Ye,use:Bu,useCallback:function(e,n){return on().memoizedState=[e,n===void 0?null:n],e},useContext:Ye,useEffect:_p,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Hu(4194308,4,Ap.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var s=on();n=n===void 0?null:n;var o=e();if(Br){ln(!0);try{e()}finally{ln(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=on();if(s!==void 0){var h=s(n);if(Br){ln(!0);try{s(n)}finally{ln(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=yA.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=on();return e={current:e},n.memoizedState=e},useState:function(e){e=gf(e);var n=e.queue,s=Op.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:_f,useDeferredValue:function(e,n){var s=on();return vf(s,e,n)},useTransition:function(){var e=gf(!1);return e=Cp.bind(null,Rt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=on();if(jt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),se===null)throw Error(a(349));(Ut&127)!==0||np(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,_p(sp.bind(null,o,f,e),[e]),o.flags|=2048,La(9,{destroy:void 0},ip.bind(null,o,f,s,n),null),s},useId:function(){var e=on(),n=se.identifierPrefix;if(jt){var s=Ci,o=Ri;s=(o&~(1<<32-de(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=zu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=cA++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Tf,useFormState:dp,useActionState:dp,useOptimistic:function(e){var n=on();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Af.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:ff,useCacheRefresh:function(){return on().memoizedState=pA.bind(null,Rt)},useEffectEvent:function(e){var n=on(),s={impl:e};return n.memoizedState=s,function(){if((Kt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},bf={readContext:Ye,use:Bu,useCallback:Sp,useContext:Ye,useEffect:yf,useImperativeHandle:bp,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:qu,useRef:yp,useState:function(){return qu(Xi)},useDebugValue:_f,useDeferredValue:function(e,n){var s=Ae();return Rp(s,ee.memoizedState,e,n)},useTransition:function(){var e=qu(Xi)[0],n=Ae().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:ep,useId:xp,useHostTransitionStatus:Tf,useFormState:mp,useActionState:mp,useOptimistic:function(e,n){var s=Ae();return op(s,ee,e,n)},useMemoCache:ff,useCacheRefresh:Dp};bf.useEffectEvent=vp;var Pp={readContext:Ye,use:Bu,useCallback:Sp,useContext:Ye,useEffect:yf,useImperativeHandle:bp,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:mf,useRef:yp,useState:function(){return mf(Xi)},useDebugValue:_f,useDeferredValue:function(e,n){var s=Ae();return ee===null?vf(s,e,n):Rp(s,ee.memoizedState,e,n)},useTransition:function(){var e=mf(Xi)[0],n=Ae().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:ep,useId:xp,useHostTransitionStatus:Tf,useFormState:pp,useActionState:pp,useOptimistic:function(e,n){var s=Ae();return ee!==null?op(s,ee,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:ff,useCacheRefresh:Dp};Pp.useEffectEvent=vp;function Sf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var wf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=In(),h=Vs(o);h.payload=n,s!=null&&(h.callback=s),n=Ms(e,h,o),n!==null&&(gn(n,e,o),$o(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=In(),h=Vs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ms(e,h,o),n!==null&&(gn(n,e,o),$o(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=In(),o=Vs(s);o.tag=2,n!=null&&(o.callback=n),n=Ms(e,o,s),n!==null&&(gn(n,e,s),$o(n,e,s))}};function Lp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!qo(s,o)||!qo(h,f):!0}function kp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&wf.enqueueReplaceState(n,n.state,null)}function qr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function zp(e){bu(e)}function jp(e){console.error(e)}function Bp(e){bu(e)}function Qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rf(e,n,s){return s=Vs(s),s.tag=3,s.payload={element:null},s.callback=function(){Qu(e,n)},s}function Hp(e){return e=Vs(e),e.tag=3,e}function Fp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){qp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){qp(n,s,o),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function _A(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Na(n,s,h,!0),s=Sn.current,s!==null){switch(s.tag){case 31:case 13:return Bn===null?sc():s.alternate===null&&_e===0&&(_e=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Zf(e,o,h)),!1;case 22:return s.flags|=65536,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Zf(e,o,h)),!1}throw Error(a(435,s.tag))}return Zf(e,o,h),sc(),!1}if(jt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Fh&&(e=Error(a(422),{cause:o}),Go(Ln(e,s)))):(o!==Fh&&(n=Error(a(423),{cause:o}),Go(Ln(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Ln(o,s),h=Rf(e.stateNode,o,h),ef(e,h),_e!==4&&(_e=2)),!1;var f=Error(a(520),{cause:o});if(f=Ln(f,s),cl===null?cl=[f]:cl.push(f),_e!==4&&(_e=2),n===null)return!0;o=Ln(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Rf(s.stateNode,o,e),ef(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(js===null||!js.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Hp(h),Fp(h,e,s,o),ef(s,h),!1}s=s.return}while(s!==null);return!1}var Cf=Error(a(461)),Ne=!1;function Xe(e,n,s,o){n.child=e===null?Yg(n,null,s,o):jr(n,e.child,s,o)}function Gp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Pr(n),o=lf(e,n,s,g,f,h),E=uf(),e!==null&&!Ne?(cf(e,n,h),$i(e,n,h)):(jt&&E&&qh(n),n.flags|=1,Xe(e,n,o,h),n.child)}function Qp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!zh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Kp(e,n,f,o,h)):(e=Cu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Uf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:qo,s(g,o)&&e.ref===n.ref)return $i(e,n,h)}return n.flags|=1,e=Fi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Kp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(qo(f,o)&&e.ref===n.ref)if(Ne=!1,n.pendingProps=o=f,Uf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return n.lanes=e.lanes,$i(e,n,h)}return If(e,n,s,o,h)}function Yp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Xp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,f!==null?f.cachePool:null),f!==null?Zg(n,f):sf(),Jg(n);else return o=n.lanes=536870912,Xp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Du(n,f.cachePool),Zg(n,f),Ps(),n.memoizedState=null):(e!==null&&Du(n,null),sf(),Ps());return Xe(e,n,h,s),n.child}function il(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xp(e,n,s,o,h){var f=Zh();return f=f===null?null:{parent:Ce._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Du(n,null),sf(),Jg(n),e!==null&&Na(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function $p(e,n,s){return jr(n,e.child,null,s),e=Ku(n,n.pendingProps),e.flags|=2,wn(n),n.memoizedState=null,e}function vA(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,il(null,e);if(af(n),(e=le)?(e=l_(e,jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,Ke=n,le=null)):e=null,e===null)throw xs(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(af(n),h)if(n.flags&256)n.flags&=-257,n=$p(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ne||Na(e,n,s,!1),h=(s&e.childLanes)!==0,Ne||h){if(o=se,o!==null&&(g=So(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Or(e,g),gn(o,e,g),Cf;sc(),n=$p(e,n,s)}else e=f.treeContext,le=qn(g.nextSibling),Ke=n,jt=!0,Ns=null,jn=!1,e!==null&&Pg(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=Fi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function If(e,n,s,o,h){return Pr(n),s=lf(e,n,s,o,void 0,h),o=uf(),e!==null&&!Ne?(cf(e,n,h),$i(e,n,h)):(jt&&o&&qh(n),n.flags|=1,Xe(e,n,s,h),n.child)}function Zp(e,n,s,o,h,f){return Pr(n),n.updateQueue=null,s=tp(n,o,s,h),Wg(e),o=uf(),e!==null&&!Ne?(cf(e,n,f),$i(e,n,f)):(jt&&o&&qh(n),n.flags|=1,Xe(e,n,s,f),n.child)}function Jp(e,n,s,o,h){if(Pr(n),n.stateNode===null){var f=wa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ye(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Wh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ye(g):wa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Sf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&wf.enqueueReplaceState(f,f.state,null),Jo(n,o,f,h),Zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=qr(s,E);f.props=I;var z=f.context,F=s.contextType;g=wa,typeof F=="object"&&F!==null&&(g=Ye(F));var X=s.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&kp(n,f,o,g),Os=!1;var j=n.memoizedState;f.state=j,Jo(n,o,f,h),Zo(),z=n.memoizedState,E||j!==z||Os?(typeof X=="function"&&(Sf(n,s,X,o),z=n.memoizedState),(I=Os||Lp(n,s,I,o,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,tf(e,n),g=n.memoizedProps,F=qr(s,g),f.props=F,X=n.pendingProps,j=f.context,z=s.contextType,I=wa,typeof z=="object"&&z!==null&&(I=Ye(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||j!==I)&&kp(n,f,o,I),Os=!1,j=n.memoizedState,f.state=j,Jo(n,o,f,h),Zo();var q=n.memoizedState;g!==X||j!==q||Os||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(Sf(n,s,E,o),q=n.memoizedState),(F=Os||Lp(n,s,F,o,j,q,I)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=jr(n,e.child,null,h),n.child=jr(n,null,s,h)):Xe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=$i(e,n,h),e}function Wp(e,n,s,o){return Mr(),n.flags|=256,Xe(e,n,s,o),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:qg()}}function Df(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Cn),e}function ty(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?Us(n):Ps(),(e=le)?(e=l_(e,jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,Ke=n,le=null)):e=null,e===null)throw xs(n);return dd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ps(),h=n.mode,E=Xu({mode:"hidden",children:E},h),o=Vr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=xf(s),o.childLanes=Df(e,g,s),n.memoizedState=Nf,il(null,o)):(Us(n),Of(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Us(n),n.flags&=-257,n=Vf(e,n,s)):n.memoizedState!==null?(Ps(),n.child=e.child,n.flags|=128,n=null):(Ps(),E=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),E=Vr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,jr(n,e.child,null,s),o=n.child,o.memoizedState=xf(s),o.childLanes=Df(e,g,s),n.memoizedState=Nf,n=il(null,o));else if(Us(n),dd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Go({value:o,source:null,stack:null}),n=Vf(e,n,s)}else if(Ne||Na(e,n,s,!1),g=(s&e.childLanes)!==0,Ne||g){if(g=se,g!==null&&(o=So(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,Or(e,o),gn(g,e,o),Cf;fd(E)||sc(),n=Vf(e,n,s)}else fd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,le=qn(E.nextSibling),Ke=n,jt=!0,Ns=null,jn=!1,e!==null&&Pg(n,e),n=Of(n,o.children),n.flags|=4096);return n}return h?(Ps(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=Fi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Fi(z,E):(E=Vr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,il(null,o),o=n.child,E=e.child.memoizedState,E===null?E=xf(s):(h=E.cachePool,h!==null?(I=Ce._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=qg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Df(e,g,s),n.memoizedState=Nf,il(e.child,o)):(Us(n),s=e.child,e=s.sibling,s=Fi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Of(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=bn(22,e,null,n),e.lanes=0,e}function Vf(e,n,s){return jr(n,e.child,null,s),e=Of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ey(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Kh(e.return,n,s)}function Mf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ny(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Te.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(Te,g),Xe(e,n,o,s),o=jt?Fo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ey(e,s,n);else if(e.tag===19)ey(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Lu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Mf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Mf(n,!0,s,null,f,o);break;case"together":Mf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function $i(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),zs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Na(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Fi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Fi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Uf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function EA(e,n,s){switch(n.tag){case 3:ce(n,n.stateNode.containerInfo),Ds(n,Ce,e.memoizedState.cache),Mr();break;case 27:case 5:Gn(n);break;case 4:ce(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Us(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ty(e,n,s):(Us(n),e=$i(e,n,s),e!==null?e.sibling:null);Us(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Na(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ny(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Te,Te.current),o)break;return null;case 22:return n.lanes=0,Yp(e,n,s,n.pendingProps);case 24:Ds(n,Ce,e.memoizedState.cache)}return $i(e,n,s)}function iy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Uf(e,s)&&(n.flags&128)===0)return Ne=!1,EA(e,n,s);Ne=(e.flags&131072)!==0}else Ne=!1,jt&&(n.flags&1048576)!==0&&Ug(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=kr(n.elementType),n.type=e,typeof e=="function")zh(e)?(o=qr(e,o),n.tag=1,n=Jp(null,n,e,o,s)):(n.tag=0,n=If(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=Gp(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=Qp(null,n,e,o,s);break t}}throw n=Wt(e)||e,Error(a(306,n,""))}}return n;case 0:return If(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=qr(o,n.pendingProps),Jp(e,n,o,h,s);case 3:t:{if(ce(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,tf(e,n),Jo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Ds(n,Ce,o),o!==f.cache&&Yh(n,[Ce],s,!0),Zo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wp(e,n,o,s);break t}else if(o!==h){h=Ln(Error(a(424)),n),Go(h),n=Wp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=qn(e.firstChild),Ke=n,jt=!0,Ns=null,jn=!0,s=Yg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Mr(),o===h){n=$i(e,n,s);break t}Xe(e,n,o,s)}n=n.child}return n;case 26:return Yu(e,n),e===null?(s=m_(n.type,null,n.pendingProps,null))?n.memoizedState=s:jt||(s=n.type,e=n.pendingProps,o=hc(yt.current).createElement(s),o[Se]=n,o[Be]=e,$e(o,s,e),we(o),n.stateNode=o):n.memoizedState=m_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Gn(n),e===null&&jt&&(o=n.stateNode=h_(n.type,n.pendingProps,yt.current),Ke=n,jn=!0,h=le,Fs(n.type)?(md=h,le=qn(o.firstChild)):le=h),Xe(e,n,n.pendingProps.children,s),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=le)&&(o=$A(o,n.type,n.pendingProps,jn),o!==null?(n.stateNode=o,Ke=n,le=qn(o.firstChild),jn=!1,h=!0):h=!1),h||xs(n)),Gn(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,ud(h,f)?o=null:g!==null&&ud(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=lf(e,n,hA,null,null,s),_l._currentValue=h),Yu(e,n),Xe(e,n,o,s),n.child;case 6:return e===null&&jt&&((e=s=le)&&(s=ZA(s,n.pendingProps,jn),s!==null?(n.stateNode=s,Ke=n,le=null,e=!0):e=!1),e||xs(n)),null;case 13:return ty(e,n,s);case 4:return ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=jr(n,null,o,s):Xe(e,n,o,s),n.child;case 11:return Gp(e,n,n.type,n.pendingProps,s);case 7:return Xe(e,n,n.pendingProps,s),n.child;case 8:return Xe(e,n,n.pendingProps.children,s),n.child;case 12:return Xe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ds(n,n.type,o.value),Xe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Pr(n),h=Ye(h),o=o(h),n.flags|=1,Xe(e,n,o,s),n.child;case 14:return Qp(e,n,n.type,n.pendingProps,s);case 15:return Kp(e,n,n.type,n.pendingProps,s);case 19:return ny(e,n,s);case 31:return vA(e,n,s);case 22:return Yp(e,n,s,n.pendingProps);case 24:return Pr(n),o=Ye(Ce),e===null?(h=Zh(),h===null&&(h=se,f=Xh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Wh(n),Ds(n,Ce,h)):((e.lanes&s)!==0&&(tf(e,n),Jo(n,null,null,s),Zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ds(n,Ce,o)):(o=f.cache,Ds(n,Ce,o),o!==h.cache&&Yh(n,[Ce],s,!0))),Xe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Zi(e){e.flags|=4}function Pf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(xy())e.flags|=8192;else throw zr=Vu,Jh}else e.flags&=-16777217}function sy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!v_(n))if(xy())e.flags|=8192;else throw zr=Vu,Jh}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,Ba|=n)}function sl(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ue(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function TA(e,n,s){var o=n.pendingProps;switch(Hh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(n),null;case 1:return ue(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ki(Ce),Xt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ia(n)?Zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gh())),ue(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Zi(n),f!==null?(ue(n),sy(n,f)):(ue(n),Pf(n,h,null,o,s))):f?f!==e.memoizedState?(Zi(n),ue(n),sy(n,f)):(ue(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Zi(n),ue(n),Pf(n,h,e,o,s)),null;case 27:if(ds(n),s=yt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ue(n),null}e=ot.current,Ia(n)?Lg(n):(e=h_(h,o,s),n.stateNode=e,Zi(n))}return ue(n),null;case 5:if(ds(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ue(n),null}if(f=ot.current,Ia(n))Lg(n);else{var g=hc(yt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Se]=n,f[Be]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch($e(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Zi(n)}}return ue(n),Pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=yt.current,Ia(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Se]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||t_(e.nodeValue,s)),e||xs(n,!0)}else e=hc(e).createTextNode(o),e[Se]=n,n.stateNode=e}return ue(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ia(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Se]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),e=!1}else s=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(wn(n),n):(wn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ue(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ia(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Se]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),h=!1}else h=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wn(n),n):(wn(n),null)}return wn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),$u(n,n.updateQueue),ue(n),null);case 4:return Xt(),e===null&&sd(n.stateNode.containerInfo),ue(n),null;case 10:return Ki(n.type),ue(n),null;case 19:if(G(Te),o=n.memoizedState,o===null)return ue(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,sl(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Og(s,e),s=s.sibling;return nt(Te,Te.current&1|2),jt&&Gi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ze()>ec&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!jt)return ue(n),null}else 2*ze()-o.renderingStartTime>ec&&s!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ze(),e.sibling=null,s=Te.current,nt(Te,h?s&1|2:s&1),jt&&Gi(n,o.treeForkCount),e):(ue(n),null);case 22:case 23:return wn(n),rf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ue(n),n.subtreeFlags&6&&(n.flags|=8192)):ue(n),s=n.updateQueue,s!==null&&$u(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&G(Lr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ki(Ce),ue(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function AA(e,n){switch(Hh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ki(Ce),Xt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ds(n),null;case 31:if(n.memoizedState!==null){if(wn(n),n.alternate===null)throw Error(a(340));Mr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(wn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Mr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return G(Te),null;case 4:return Xt(),null;case 10:return Ki(n.type),null;case 22:case 23:return wn(n),rf(),e!==null&&G(Lr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ki(Ce),null;case 25:return null;default:return null}}function ry(e,n){switch(Hh(n),n.tag){case 3:Ki(Ce),Xt();break;case 26:case 27:case 5:ds(n);break;case 4:Xt();break;case 31:n.memoizedState!==null&&wn(n);break;case 13:wn(n);break;case 19:G(Te);break;case 10:Ki(n.type);break;case 22:case 23:wn(n),rf(),e!==null&&G(Lr);break;case 24:Ki(Ce)}}function rl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Jt(n,n.return,E)}}function Ls(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=s,z=E;try{z()}catch(F){Jt(h,I,F)}}}o=o.next}while(o!==f)}}catch(F){Jt(n,n.return,F)}}function ay(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{$g(n,s)}catch(o){Jt(e,e.return,o)}}}function oy(e,n,s){s.props=qr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Jt(e,n,o)}}function al(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Jt(e,n,h)}}function Ii(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Jt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Jt(e,n,h)}else s.current=null}function ly(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Jt(e,e.return,h)}}function Lf(e,n,s){try{var o=e.stateNode;FA(o,e.type,s,n),o[Be]=n}catch(h){Jt(e,e.return,h)}}function uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fs(e.type)||e.tag===4}function kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Zn));else if(o!==4&&(o===27&&Fs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(zf(e,n,s),e=e.sibling;e!==null;)zf(e,n,s),e=e.sibling}function Zu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Fs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Zu(e,n,s),e=e.sibling;e!==null;)Zu(e,n,s),e=e.sibling}function cy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$e(n,o,s),n[Se]=e,n[Be]=s}catch(f){Jt(e,e.return,f)}}var Ji=!1,xe=!1,jf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,He=null;function bA(e,n){if(e=e.containerInfo,od=_c,e=bg(e),Oh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,z=0,F=0,X=e,j=null;e:for(;;){for(var q;X!==s||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(I=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)j=X,X=q;for(;;){if(X===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++F===o&&(I=g),(q=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=q}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(ld={focusedElem:e,selectionRange:s},_c=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ut=qr(s.type,h);e=o.getSnapshotBeforeUpdate(ut,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Jt(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)hd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function fy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ts(e,s),o&4&&rl(5,s);break;case 1:if(ts(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Jt(s,s.return,g)}else{var h=qr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Jt(s,s.return,g)}}o&64&&ay(s),o&512&&al(s,s.return);break;case 3:if(ts(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{$g(e,n)}catch(g){Jt(s,s.return,g)}}break;case 27:n===null&&o&4&&cy(s);case 26:case 5:ts(e,s),n===null&&o&4&&ly(s),o&512&&al(s,s.return);break;case 12:ts(e,s);break;case 31:ts(e,s),o&4&&gy(e,s);break;case 13:ts(e,s),o&4&&py(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=OA.bind(null,s),JA(e,s))));break;case 22:if(o=s.memoizedState!==null||Ji,!o){n=n!==null&&n.memoizedState!==null||xe,h=Ji;var f=xe;Ji=o,(xe=n)&&!f?es(e,s,(s.subtreeFlags&8772)!==0):ts(e,s),Ji=h,xe=f}break;case 30:break;default:ts(e,s)}}function dy(e){var n=e.alternate;n!==null&&(e.alternate=null,dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ha(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,hn=!1;function Wi(e,n,s){for(s=s.child;s!==null;)my(e,n,s),s=s.sibling}function my(e,n,s){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(je,s)}catch{}switch(s.tag){case 26:xe||Ii(s,n),Wi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xe||Ii(s,n);var o=fe,h=hn;Fs(s.type)&&(fe=s.stateNode,hn=!1),Wi(e,n,s),gl(s.stateNode),fe=o,hn=h;break;case 5:xe||Ii(s,n);case 6:if(o=fe,h=hn,fe=null,Wi(e,n,s),fe=o,hn=h,fe!==null)if(hn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(s.stateNode)}catch(f){Jt(s,n,f)}else try{fe.removeChild(s.stateNode)}catch(f){Jt(s,n,f)}break;case 18:fe!==null&&(hn?(e=fe,a_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Xa(e)):a_(fe,s.stateNode));break;case 4:o=fe,h=hn,fe=s.stateNode.containerInfo,hn=!0,Wi(e,n,s),fe=o,hn=h;break;case 0:case 11:case 14:case 15:Ls(2,s,n),xe||Ls(4,s,n),Wi(e,n,s);break;case 1:xe||(Ii(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&oy(s,n,o)),Wi(e,n,s);break;case 21:Wi(e,n,s);break;case 22:xe=(o=xe)||s.memoizedState!==null,Wi(e,n,s),xe=o;break;default:Wi(e,n,s)}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(s){Jt(n,n.return,s)}}}function py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(s){Jt(n,n.return,s)}}function SA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new hy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new hy),n;default:throw Error(a(435,e.tag))}}function Ju(e,n){var s=SA(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=VA.bind(null,e,o);o.then(h,h)}})}function fn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Fs(E.type)){fe=E.stateNode,hn=!1;break t}break;case 5:fe=E.stateNode,hn=!1;break t;case 3:case 4:fe=E.stateNode.containerInfo,hn=!0;break t}E=E.return}if(fe===null)throw Error(a(160));my(f,g,h),fe=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yy(n,e),n=n.sibling}var ii=null;function yy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(n,e),dn(e),o&4&&(Ls(3,e,e.return),rl(3,e),Ls(5,e,e.return));break;case 1:fn(n,e),dn(e),o&512&&(xe||s===null||Ii(s,s.return)),o&64&&Ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ii;if(fn(n,e),dn(e),o&512&&(xe||s===null||Ii(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[mi]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),$e(f,o,s),f[Se]=e,we(f),o=f;break t;case"link":var g=y_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),$e(f,o,s),h.head.appendChild(f);break;case"meta":if(g=y_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),$e(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Se]=e,we(f),o=f}e.stateNode=o}else __(h,e.type,e.stateNode);else e.stateNode=p_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?__(h,e.type,e.stateNode):p_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Lf(e,e.memoizedProps,s.memoizedProps)}break;case 27:fn(n,e),dn(e),o&512&&(xe||s===null||Ii(s,s.return)),s!==null&&o&4&&Lf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(fn(n,e),dn(e),o&512&&(xe||s===null||Ii(s,s.return)),e.flags&32){h=e.stateNode;try{cn(h,"")}catch(ut){Jt(e,e.return,ut)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Lf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(jf=!0);break;case 6:if(fn(n,e),dn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ut){Jt(e,e.return,ut)}}break;case 3:if(mc=null,h=ii,ii=fc(n.containerInfo),fn(n,e),ii=h,dn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(ut){Jt(e,e.return,ut)}jf&&(jf=!1,_y(e));break;case 4:o=ii,ii=fc(e.stateNode.containerInfo),fn(n,e),dn(e),ii=o;break;case 12:fn(n,e),dn(e);break;case 31:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 13:fn(n,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tc=ze()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=Ji,F=xe;if(Ji=z||h,xe=F||I,fn(n,e),xe=F,Ji=z,dn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Ji||xe||Hr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ut){Jt(I,I.return,ut)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ut){Jt(I,I.return,ut)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;h?o_(q,!0):o_(I.stateNode,!1)}catch(ut){Jt(I,I.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Ju(e,s))));break;case 19:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 30:break;case 21:break;default:fn(n,e),dn(e)}}function dn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(uy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=kf(e);Zu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(cn(g,""),s.flags&=-33);var E=kf(e);Zu(e,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,z=kf(e);zf(e,z,I);break;default:throw Error(a(161))}}catch(F){Jt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function _y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ts(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(e,n.alternate,n),n=n.sibling}function Hr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Hr(n);break;case 1:Ii(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&oy(n,n.return,s),Hr(n);break;case 27:gl(n.stateNode);case 26:case 5:Ii(n,n.return),Hr(n);break;case 22:n.memoizedState===null&&Hr(n);break;case 30:Hr(n);break;default:Hr(n)}e=e.sibling}}function es(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:es(h,f,s),rl(4,f);break;case 1:if(es(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Jt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Xg(I[h],E)}catch(z){Jt(o,o.return,z)}}s&&g&64&&ay(f),al(f,f.return);break;case 27:cy(f);case 26:case 5:es(h,f,s),s&&o===null&&g&4&&ly(f),al(f,f.return);break;case 12:es(h,f,s);break;case 31:es(h,f,s),s&&g&4&&gy(h,f);break;case 13:es(h,f,s),s&&g&4&&py(h,f);break;case 22:f.memoizedState===null&&es(h,f,s),al(f,f.return);break;case 30:break;default:es(h,f,s)}n=n.sibling}}function Bf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Qo(s))}function qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e))}function si(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(e,n,s,o),n=n.sibling}function vy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:si(e,n,s,o),h&2048&&rl(9,n);break;case 1:si(e,n,s,o);break;case 3:si(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e)));break;case 12:if(h&2048){si(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Jt(n,n.return,I)}}else si(e,n,s,o);break;case 31:si(e,n,s,o);break;case 13:si(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?si(e,n,s,o):ol(e,n):f._visibility&2?si(e,n,s,o):(f._visibility|=2,ka(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Bf(g,n);break;case 24:si(e,n,s,o),h&2048&&qf(n.alternate,n);break;default:si(e,n,s,o)}}function ka(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,I=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:ka(f,g,E,I,h),rl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?ka(f,g,E,I,h):ol(f,g):(F._visibility|=2,ka(f,g,E,I,h)),h&&z&2048&&Bf(g.alternate,g);break;case 24:ka(f,g,E,I,h),h&&z&2048&&qf(g.alternate,g);break;default:ka(f,g,E,I,h)}n=n.sibling}}function ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:ol(s,o),h&2048&&Bf(o.alternate,o);break;case 24:ol(s,o),h&2048&&qf(o.alternate,o);break;default:ol(s,o)}n=n.sibling}}var ll=8192;function za(e,n,s){if(e.subtreeFlags&ll)for(e=e.child;e!==null;)Ey(e,n,s),e=e.sibling}function Ey(e,n,s){switch(e.tag){case 26:za(e,n,s),e.flags&ll&&e.memoizedState!==null&&cb(s,ii,e.memoizedState,e.memoizedProps);break;case 5:za(e,n,s);break;case 3:case 4:var o=ii;ii=fc(e.stateNode.containerInfo),za(e,n,s),ii=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,za(e,n,s),ll=o):za(e,n,s));break;default:za(e,n,s)}}function Ty(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];He=o,by(o,e)}Ty(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ay(e),e=e.sibling}function Ay(e){switch(e.tag){case 0:case 11:case 15:ul(e),e.flags&2048&&Ls(9,e,e.return);break;case 3:ul(e);break;case 12:ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):ul(e);break;default:ul(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];He=o,by(o,e)}Ty(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),Wu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function by(e,n){for(;He!==null;){var s=He;switch(s.tag){case 0:case 11:case 15:Ls(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,He=o;else t:for(s=e;He!==null;){o=He;var h=o.sibling,f=o.return;if(dy(o),o===s){He=null;break t}if(h!==null){h.return=f,He=h;break t}He=f}}}var wA={getCacheForType:function(e){var n=Ye(Ce),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ye(Ce).controller.signal}},RA=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,Ot=null,Ut=0,Zt=0,Rn=null,ks=!1,ja=!1,Hf=!1,ns=0,_e=0,zs=0,Fr=0,Ff=0,Cn=0,Ba=0,cl=null,mn=null,Gf=!1,tc=0,Sy=0,ec=1/0,nc=null,js=null,Ue=0,Bs=null,qa=null,is=0,Qf=0,Kf=null,wy=null,hl=0,Yf=null;function In(){return(Kt&2)!==0&&Ut!==0?Ut&-Ut:H.T!==null?td():iu()}function Ry(){if(Cn===0)if((Ut&536870912)===0||jt){var e=$;$<<=1,($&3932160)===0&&($=262144),Cn=e}else Cn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),Cn}function gn(e,n,s){(e===se&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),qs(e,Ut,Cn,!1)),_r(e,s),((Kt&2)===0||e!==se)&&(e===se&&((Kt&2)===0&&(Fr|=s),_e===4&&qs(e,Ut,Cn,!1)),Ni(e))}function Cy(e,n,s){if((Kt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ge(e,n),h=o?NA(e,n):$f(e,n,!0),f=o;do{if(h===0){ja&&!o&&qs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!CA(s)){h=$f(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=cl;var I=E.current.memoizedState.isDehydrated;if(I&&(Ha(E,g).flags|=256),g=$f(E,g,!1),g!==2){if(Hf&&!I){E.errorRecoveryDisabledLanes|=f,Fr|=f,h=4;break t}f=mn,mn=h,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ha(e,0),qs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:qs(o,n,Cn,!ks);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-ze(),10<h)){if(qs(o,n,Cn,!ks),re(o,0,!0)!==0)break t;is=n,o.timeoutHandle=s_(Iy.bind(null,o,s,mn,nc,Gf,n,Cn,Fr,Ba,ks,f,"Throttled",-0,0),h);break t}Iy(o,s,mn,nc,Gf,n,Cn,Fr,Ba,ks,f,null,-0,0)}}break}while(!0);Ni(e)}function Iy(e,n,s,o,h,f,g,E,I,z,F,X,j,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},Ey(n,f,X);var ut=(f&62914560)===f?tc-ze():(f&4194048)===f?Sy-ze():0;if(ut=hb(X,ut),ut!==null){is=f,e.cancelPendingCommit=ut(Py.bind(null,e,n,f,s,o,h,g,E,I,F,X,null,j,q)),qs(e,f,g,!z);return}}Py(e,n,f,s,o,h,g,E,I)}function CA(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(e,n,s,o){n&=~Ff,n&=~Fr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&vr(e,s,n)}function ic(){return(Kt&6)===0?(fl(0),!1):!0}function Xf(){if(Ot!==null){if(Zt===0)var e=Ot.return;else e=Ot,Qi=Ur=null,hf(e),Va=null,Yo=0,e=Ot;for(;e!==null;)ry(e.alternate,e),e=e.return;Ot=null}}function Ha(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,KA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),is=0,Xf(),se=e,Ot=s=Fi(e.current,null),Ut=n,Zt=0,Rn=null,ks=!1,ja=Ge(e,n),Hf=!1,Ba=Cn=Ff=Fr=zs=_e=0,mn=cl=null,Gf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return ns=n,Su(),s}function Ny(e,n){Rt=null,H.H=nl,n===Oa||n===Ou?(n=Gg(),Zt=3):n===Jh?(n=Gg(),Zt=4):Zt=n===Cf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,Ot===null&&(_e=1,Qu(e,Ln(n,e.current)))}function xy(){var e=Sn.current;return e===null?!0:(Ut&4194048)===Ut?Bn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===Bn:!1}function Dy(){var e=H.H;return H.H=nl,e===null?nl:e}function Oy(){var e=H.A;return H.A=wA,e}function sc(){_e=4,ks||(Ut&4194048)!==Ut&&Sn.current!==null||(ja=!0),(zs&134217727)===0&&(Fr&134217727)===0||se===null||qs(se,Ut,Cn,!1)}function $f(e,n,s){var o=Kt;Kt|=2;var h=Dy(),f=Oy();(se!==e||Ut!==n)&&(nc=null,Ha(e,n)),n=!1;var g=_e;t:do try{if(Zt!==0&&Ot!==null){var E=Ot,I=Rn;switch(Zt){case 8:Xf(),g=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var z=Zt;if(Zt=0,Rn=null,Fa(e,E,I,z),s&&ja){g=0;break t}break;default:z=Zt,Zt=0,Rn=null,Fa(e,E,I,z)}}IA(),g=_e;break}catch(F){Ny(e,F)}while(!0);return n&&e.shellSuspendCounter++,Qi=Ur=null,Kt=o,H.H=h,H.A=f,Ot===null&&(se=null,Ut=0,Su()),g}function IA(){for(;Ot!==null;)Vy(Ot)}function NA(e,n){var s=Kt;Kt|=2;var o=Dy(),h=Oy();se!==e||Ut!==n?(nc=null,ec=ze()+500,Ha(e,n)):ja=Ge(e,n);t:do try{if(Zt!==0&&Ot!==null){n=Ot;var f=Rn;e:switch(Zt){case 1:Zt=0,Rn=null,Fa(e,n,f,1);break;case 2:case 9:if(Hg(f)){Zt=0,Rn=null,My(n);break}n=function(){Zt!==2&&Zt!==9||se!==e||(Zt=7),Ni(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Hg(f)?(Zt=0,Rn=null,My(n)):(Zt=0,Rn=null,Fa(e,n,f,7));break;case 5:var g=null;switch(Ot.tag){case 26:g=Ot.memoizedState;case 5:case 27:var E=Ot;if(g?v_(g):E.stateNode.complete){Zt=0,Rn=null;var I=E.sibling;if(I!==null)Ot=I;else{var z=E.return;z!==null?(Ot=z,rc(z)):Ot=null}break e}}Zt=0,Rn=null,Fa(e,n,f,5);break;case 6:Zt=0,Rn=null,Fa(e,n,f,6);break;case 8:Xf(),_e=6;break t;default:throw Error(a(462))}}xA();break}catch(F){Ny(e,F)}while(!0);return Qi=Ur=null,H.H=o,H.A=h,Kt=s,Ot!==null?0:(se=null,Ut=0,Su(),_e)}function xA(){for(;Ot!==null&&!pr();)Vy(Ot)}function Vy(e){var n=iy(e.alternate,e,ns);e.memoizedProps=e.pendingProps,n===null?rc(e):Ot=n}function My(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Zp(s,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Zp(s,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:hf(n);default:ry(s,n),n=Ot=Og(n,ns),n=iy(s,n,ns)}e.memoizedProps=e.pendingProps,n===null?rc(e):Ot=n}function Fa(e,n,s,o){Qi=Ur=null,hf(n),Va=null,Yo=0;var h=n.return;try{if(_A(e,h,n,s,Ut)){_e=1,Qu(e,Ln(s,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;_e=1,Qu(e,Ln(s,e.current)),Ot=null;return}n.flags&32768?(jt||o===1?e=!0:ja||(Ut&536870912)!==0?e=!1:(ks=e=!0,(o===2||o===9||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Uy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){Uy(n,ks);return}e=n.return;var s=TA(n.alternate,n,ns);if(s!==null){Ot=s;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);_e===0&&(_e=5)}function Uy(e,n){do{var s=AA(e.alternate,e);if(s!==null){s.flags&=32767,Ot=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=s}while(e!==null);_e=6,Ot=null}function Py(e,n,s,o,h,f,g,E,I){e.cancelPendingCommit=null;do ac();while(Ue!==0);if((Kt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Lh,Ih(e,s,f,g,E,I),e===se&&(Ot=se=null,Ut=0),qa=n,Bs=e,is=s,Qf=f,Kf=h,wy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,MA(hi,function(){return By(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=it.p,it.p=2,g=Kt,Kt|=4;try{bA(e,n,s)}finally{Kt=g,it.p=h,H.T=o}}Ue=1,Ly(),ky(),zy()}}function Ly(){if(Ue===1){Ue=0;var e=Bs,n=qa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=it.p;it.p=2;var h=Kt;Kt|=4;try{yy(n,e);var f=ld,g=bg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Ag(E.ownerDocument.documentElement,E)){if(I!==null&&Oh(E)){var z=I.start,F=I.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var q=j.getSelection(),ut=E.textContent.length,pt=Math.min(I.start,ut),ie=I.end===void 0?pt:Math.min(I.end,ut);!q.extend&&pt>ie&&(g=ie,ie=pt,pt=g);var U=Tg(E,pt),x=Tg(E,ie);if(U&&x&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var k=X.createRange();k.setStart(U.node,U.offset),q.removeAllRanges(),pt>ie?(q.addRange(k),q.extend(x.node,x.offset)):(k.setEnd(x.node,x.offset),q.addRange(k))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}_c=!!od,ld=od=null}finally{Kt=h,it.p=o,H.T=s}}e.current=n,Ue=2}}function ky(){if(Ue===2){Ue=0;var e=Bs,n=qa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=it.p;it.p=2;var h=Kt;Kt|=4;try{fy(e,n.alternate,n)}finally{Kt=h,it.p=o,H.T=s}}Ue=3}}function zy(){if(Ue===4||Ue===3){Ue=0,ra();var e=Bs,n=qa,s=is,o=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,qa=Bs=null,jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(js=null),ji(s),n=n.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(je,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=it.p,it.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,it.p=h}}(is&3)!==0&&ac(),Ni(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Yf?hl++:(hl=0,Yf=e):hl=0,fl(0)}}function jy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Qo(n)))}function ac(){return Ly(),ky(),zy(),By()}function By(){if(Ue!==5)return!1;var e=Bs,n=Qf;Qf=0;var s=ji(is),o=H.T,h=it.p;try{it.p=32>s?32:s,H.T=null,s=Kf,Kf=null;var f=Bs,g=is;if(Ue=0,qa=Bs=null,is=0,(Kt&6)!==0)throw Error(a(331));var E=Kt;if(Kt|=4,Ay(f.current),vy(f,f.current,g,s),Kt=E,fl(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(je,f)}catch{}return!0}finally{it.p=h,H.T=o,jy(e,n)}}function qy(e,n,s){n=Ln(s,n),n=Rf(e.stateNode,n,2),e=Ms(e,n,2),e!==null&&(_r(e,2),Ni(e))}function Jt(e,n,s){if(e.tag===3)qy(e,e,s);else for(;n!==null;){if(n.tag===3){qy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(js===null||!js.has(o))){e=Ln(s,e),s=Hp(2),o=Ms(n,s,2),o!==null&&(Fp(s,o,n,e),_r(o,2),Ni(o));break}}n=n.return}}function Zf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new RA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Hf=!0,h.add(s),e=DA.bind(null,e,n,s),n.then(e,e))}function DA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,se===e&&(Ut&s)===s&&(_e===4||_e===3&&(Ut&62914560)===Ut&&300>ze()-tc?(Kt&2)===0&&Ha(e,0):Ff|=s,Ba===Ut&&(Ba=0)),Ni(e)}function Hy(e,n){n===0&&(n=nu()),e=Or(e,n),e!==null&&(_r(e,n),Ni(e))}function OA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Hy(e,s)}function VA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Hy(e,s)}function MA(e,n){return pe(e,n)}var oc=null,Ga=null,Jf=!1,lc=!1,Wf=!1,Hs=0;function Ni(e){e!==Ga&&e.next===null&&(Ga===null?oc=Ga=e:Ga=Ga.next=e),lc=!0,Jf||(Jf=!0,PA())}function fl(e,n){if(!Wf&&lc){Wf=!0;do for(var s=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ky(o,f))}else f=Ut,f=re(o,o===se?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ge(o,f)||(s=!0,Ky(o,f));o=o.next}while(s);Wf=!1}}function UA(){Fy()}function Fy(){lc=Jf=!1;var e=0;Hs!==0&&QA()&&(e=Hs);for(var n=ze(),s=null,o=oc;o!==null;){var h=o.next,f=Gy(o,n);f===0?(o.next=null,s===null?oc=h:s.next=h,h===null&&(Ga=s)):(s=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}Ue!==0&&Ue!==5||fl(e),Hs!==0&&(Hs=0)}function Gy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,I=h[g];I===-1?((E&s)===0||(E&o)!==0)&&(h[g]=ua(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=se,s=Ut,s=re(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ui(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ge(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ui(o),ji(s)){case 2:case 8:s=gs;break;case 32:s=hi;break;case 268435456:s=ps;break;default:s=hi}return o=Qy.bind(null,e),s=pe(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ui(o),e.callbackPriority=2,e.callbackNode=null,2}function Qy(e,n){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ac()&&e.callbackNode!==s)return null;var o=Ut;return o=re(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Cy(e,o,n),Gy(e,ze()),e.callbackNode!=null&&e.callbackNode===s?Qy.bind(null,e):null)}function Ky(e,n){if(ac())return null;Cy(e,n,!0)}function PA(){YA(function(){(Kt&6)!==0?pe(ci,UA):Fy()})}function td(){if(Hs===0){var e=xa;e===0&&(e=Dn,Dn<<=1,(Dn&261888)===0&&(Dn=256)),Hs=e}return Hs}function Yy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ga(""+e)}function Xy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function LA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Yy((h[Be]||null).action),g=o.submitter;g&&(n=(n=g[Be]||null)?Yy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ai("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hs!==0){var I=g?Xy(h,g):new FormData(h);Ef(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Xy(h,g):new FormData(h),Ef(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var ed=0;ed<Ph.length;ed++){var nd=Ph[ed],kA=nd.toLowerCase(),zA=nd[0].toUpperCase()+nd.slice(1);ni(kA,"on"+zA)}ni(Rg,"onAnimationEnd"),ni(Cg,"onAnimationIteration"),ni(Ig,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(eA,"onTransitionRun"),ni(nA,"onTransitionStart"),ni(iA,"onTransitionCancel"),ni(Ng,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function $y(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){bu(F)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){bu(F)}h.currentTarget=null,f=I}}}}function Vt(e,n){var s=n[ca];s===void 0&&(s=n[ca]=new Set);var o=e+"__bubble";s.has(o)||(Zy(n,e,2,!1),s.add(o))}function id(e,n,s){var o=0;n&&(o|=4),Zy(s,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[uc]){e[uc]=!0,wo.forEach(function(s){s!=="selectionchange"&&(jA.has(s)||id(s,!1,e),id(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,id("selectionchange",!1,n))}}function Zy(e,n,s,o){switch(R_(n)){case 2:var h=mb;break;case 8:h=gb;break;default:h=vd}s=h.bind(null,n,s,e),h=void 0,!Sr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function rd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=gi(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Ss(function(){var z=f,F=Vn(s),X=[];t:{var j=xg.get(e);if(j!==void 0){var q=Ai,ut=e;switch(e){case"keypress":if(Rr(s)===0)break t;case"keydown":case"keyup":q=Eu;break;case"focusin":ut="focus",q=Ir;break;case"focusout":ut="blur",q=Ir;break;case"beforeblur":case"afterblur":q=Ir;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Rg:case Cg:case Ig:q=du;break;case Ng:q=T;break;case"scroll":case"scrollend":q=Lo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Hi;break;case"toggle":case"beforetoggle":q=wt}var pt=(n&4)!==0,ie=!pt&&(e==="scroll"||e==="scrollend"),U=pt?j!==null?j+"Capture":null:j;pt=[];for(var x=z,k;x!==null;){var Q=x;if(k=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||k===null||U===null||(Q=Jn(x,U),Q!=null&&pt.push(ml(x,Q,k))),ie)break;x=x.return}0<pt.length&&(j=new q(j,ut,null,s,F),X.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Mo&&(ut=s.relatedTarget||s.fromElement)&&(gi(ut)||ut[di]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ut=s.relatedTarget||s.toElement,q=z,ut=ut?gi(ut):null,ut!==null&&(ie=c(ut),pt=ut.tag,ut!==ie||pt!==5&&pt!==27&&pt!==6)&&(ut=null)):(q=null,ut=z),q!==ut)){if(pt=ko,Q="onMouseLeave",U="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Hi,Q="onPointerLeave",U="onPointerEnter",x="pointer"),ie=q==null?j:En(q),k=ut==null?j:En(ut),j=new pt(Q,x+"leave",q,s,F),j.target=ie,j.relatedTarget=k,Q=null,gi(F)===z&&(pt=new pt(U,x+"enter",ut,s,F),pt.target=k,pt.relatedTarget=ie,Q=pt),ie=Q,q&&ut)e:{for(pt=BA,U=q,x=ut,k=0,Q=U;Q;Q=pt(Q))k++;Q=0;for(var ht=x;ht;ht=pt(ht))Q++;for(;0<k-Q;)U=pt(U),k--;for(;0<Q-k;)x=pt(x),Q--;for(;k--;){if(U===x||x!==null&&U===x.alternate){pt=U;break e}U=pt(U),x=pt(x)}pt=null}else pt=null;q!==null&&Jy(X,j,q,pt,!1),ut!==null&&ie!==null&&Jy(X,ie,ut,pt,!0)}}t:{if(j=z?En(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Ft=gg;else if(dg(j))if(pg)Ft=JT;else{Ft=$T;var ct=XT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ma(z.elementType)&&(Ft=gg):Ft=ZT;if(Ft&&(Ft=Ft(e,z))){mg(X,Ft,s,F);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Do(j,"number",j.value)}switch(ct=z?En(z):window,e){case"focusin":(dg(ct)||ct.contentEditable==="true")&&(Aa=ct,Vh=z,Ho=null);break;case"focusout":Ho=Vh=Aa=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,Sg(X,s,F);break;case"selectionchange":if(tA)break;case"keydown":case"keyup":Sg(X,s,F)}var It;if(Qt)t:{switch(e){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Ta?Nr(e,s)&&(Pt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Pt="onCompositionStart");Pt&&(wi&&s.locale!=="ko"&&(Ta||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Ta&&(It=Po()):(Ti=F,Uo="value"in Ti?Ti.value:Ti.textContent,Ta=!0)),ct=cc(z,Pt),0<ct.length&&(Pt=new Si(Pt,e,null,s,F),X.push({event:Pt,listeners:ct}),It?Pt.data=It:(It=Ea(s),It!==null&&(Pt.data=It)))),(It=Un?GT(e,s):QT(e,s))&&(Pt=cc(z,"onBeforeInput"),0<Pt.length&&(ct=new Si("onBeforeInput","beforeinput",null,s,F),X.push({event:ct,listeners:Pt}),ct.data=It)),LA(X,e,z,s,F)}$y(X,n)})}function ml(e,n,s){return{instance:e,listener:n,currentTarget:s}}function cc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Jn(e,s),h!=null&&o.unshift(ml(e,h,f)),h=Jn(e,n),h!=null&&o.push(ml(e,h,f))),e.tag===3)return o;e=e.return}return[]}function BA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Jn(s,f),z!=null&&g.unshift(ml(s,z,I))):h||(z=Jn(s,f),z!=null&&g.push(ml(s,z,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var qA=/\r\n?/g,HA=/\u0000|\uFFFD/g;function Wy(e){return(typeof e=="string"?e:""+e).replace(qA,`
`).replace(HA,"")}function t_(e,n){return n=Wy(n),Wy(e)===n}function ne(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||cn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&cn(e,""+o);break;case"className":Tn(e,"class",o);break;case"tabIndex":Tn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,s,o);break;case"style":Vo(e,o,f);break;case"data":if(n!=="object"){Tn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ga(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ga(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ga(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),fa(e,"popover",o);break;case"xlinkActuate":Re(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Re(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Re(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Re(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Re(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Re(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Re(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Re(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Re(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cu.get(s)||s,fa(e,s,o))}}function ad(e,n,s,o,h,f){switch(s){case"style":Vo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?cn(e,o):(typeof o=="number"||typeof o=="bigint")&&cn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Be]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):fa(e,s,o)}}}function $e(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,f,g,s,null)}}h&&ne(e,n,"srcSet",s.srcSet,s,null),o&&ne(e,n,"src",s.src,s,null);return;case"input":Vt("invalid",e);var E=f=g=h=null,I=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":I=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:ne(e,n,o,F,s,null)}}ou(e,f,E,I,z,g,h,!1);return;case"select":Vt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ne(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?Es(e,!!o,n,!1):s!=null&&Es(e,!!o,s,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ne(e,n,g,E,s,null)}Ts(e,o,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ne(e,n,I,o,s,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<dl.length;o++)Vt(dl[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,z,o,s,null)}return;default:if(ma(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&ad(e,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ne(e,n,E,o,s,null))}function FA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,F=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(q)||ne(e,n,q,null,o,X)}}for(var j in o){var q=o[j];if(X=s[j],o.hasOwnProperty(j)&&(q!=null||X!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&ne(e,n,j,q,o,X)}}da(e,g,E,I,z,F,f,h);return;case"select":q=g=E=j=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||ne(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&ne(e,n,h,f,o,I)}n=E,s=g,o=q,j!=null?Es(e,!!s,j,!1):!!o!=!!s&&(n!=null?Es(e,!!s,n,!0):Es(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ne(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ne(e,n,g,h,o,f)}lu(e,j,q);return;case"option":for(var ut in s)if(j=s[ut],s.hasOwnProperty(ut)&&j!=null&&!o.hasOwnProperty(ut))switch(ut){case"selected":e.selected=!1;break;default:ne(e,n,ut,null,o,j)}for(I in o)if(j=o[I],q=s[I],o.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:ne(e,n,I,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)j=s[pt],s.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&ne(e,n,pt,null,o,j);for(z in o)if(j=o[z],q=s[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ne(e,n,z,j,o,q)}return;default:if(ma(n)){for(var ie in s)j=s[ie],s.hasOwnProperty(ie)&&j!==void 0&&!o.hasOwnProperty(ie)&&ad(e,n,ie,void 0,o,j);for(F in o)j=o[F],q=s[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||ad(e,n,F,j,o,q);return}}for(var U in s)j=s[U],s.hasOwnProperty(U)&&j!=null&&!o.hasOwnProperty(U)&&ne(e,n,U,null,o,j);for(X in o)j=o[X],q=s[X],!o.hasOwnProperty(X)||j===q||j==null&&q==null||ne(e,n,X,j,o,q)}function e_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&e_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],z=I.startTime;if(z>E)break;var F=I.transferSize,X=I.initiatorType;F&&e_(X)&&(I=I.responseEnd,g+=F*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var od=null,ld=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function n_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ud(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cd=null;function QA(){var e=window.event;return e&&e.type==="popstate"?e===cd?!1:(cd=e,!0):(cd=null,!1)}var s_=typeof setTimeout=="function"?setTimeout:void 0,KA=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,YA=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(e){return r_.resolve(null).then(e).catch(XA)}:s_;function XA(e){setTimeout(function(){throw e})}function Fs(e){return e==="head"}function a_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Xa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")gl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,gl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[mi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&gl(e.ownerDocument.body);s=h}while(s);Xa(n)}function o_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function hd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":hd(s),ha(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function $A(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[mi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function ZA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=qn(e.nextSibling),e===null))return null;return e}function l_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=qn(e.nextSibling),e===null))return null;return e}function fd(e){return e.data==="$?"||e.data==="$~"}function dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function JA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var md=null;function u_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return qn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function c_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function h_(e,n,s){switch(n=hc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function gl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ha(e)}var Hn=new Map,f_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ss=it.d;it.d={f:WA,r:tb,D:eb,C:nb,L:ib,m:sb,X:ab,S:rb,M:ob};function WA(){var e=ss.f(),n=ic();return e||n}function tb(e){var n=On(e);n!==null&&n.tag===5&&n.type==="form"?Np(n):ss.r(e)}var Qa=typeof document>"u"?null:document;function d_(e,n,s){var o=Qa;if(o&&typeof n=="string"&&n){var h=un(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),f_.has(h)||(f_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),$e(n,"link",e),we(n),o.head.appendChild(n)))}}function eb(e){ss.D(e),d_("dns-prefetch",e,null)}function nb(e,n){ss.C(e,n),d_("preconnect",e,n)}function ib(e,n,s){ss.L(e,n,s);var o=Qa;if(o&&e&&n){var h='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+un(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+un(s.imageSizes)+'"]')):h+='[href="'+un(e)+'"]';var f=h;switch(n){case"style":f=Ka(e);break;case"script":f=Ya(e)}Hn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Hn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(pl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),$e(n,"link",e),we(n),o.head.appendChild(n)))}}function sb(e,n){ss.m(e,n);var s=Qa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ya(e)}if(!Hn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Hn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yl(f)))return}o=s.createElement("link"),$e(o,"link",e),we(o),s.head.appendChild(o)}}}function rb(e,n,s){ss.S(e,n,s);var o=Qa;if(o&&e){var h=pi(o).hoistableStyles,f=Ka(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(pl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Hn.get(f))&&gd(e,s);var I=g=o.createElement("link");we(I),$e(I,"link",e),I._p=new Promise(function(z,F){I.onload=z,I.onerror=F}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,dc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function ab(e,n){ss.X(e,n);var s=Qa;if(s&&e){var o=pi(s).hoistableScripts,h=Ya(e),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(e=b({src:e,async:!0},n),(n=Hn.get(h))&&pd(e,n),f=s.createElement("script"),we(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function ob(e,n){ss.M(e,n);var s=Qa;if(s&&e){var o=pi(s).hoistableScripts,h=Ya(e),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Hn.get(h))&&pd(e,n),f=s.createElement("script"),we(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function m_(e,n,s,o){var h=(h=yt.current)?fc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ka(s.href),s=pi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ka(s.href);var f=pi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(pl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Hn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Hn.set(e,s),f||lb(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ya(s),s=pi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ka(e){return'href="'+un(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function g_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function lb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),$e(n,"link",s),we(n),e.head.appendChild(n))}function Ya(e){return'[src="'+un(e)+'"]'}function yl(e){return"script[async]"+e}function p_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+un(s.href)+'"]');if(o)return n.instance=o,we(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),we(o),$e(o,"style",h),dc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ka(s.href);var f=e.querySelector(pl(h));if(f)return n.state.loading|=4,n.instance=f,we(f),f;o=g_(s),(h=Hn.get(h))&&gd(o,h),f=(e.ownerDocument||e).createElement("link"),we(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),$e(f,"link",o),n.state.loading|=4,dc(f,s.precedence,e),n.instance=f;case"script":return f=Ya(s.src),(h=e.querySelector(yl(f)))?(n.instance=h,we(h),h):(o=s,(h=Hn.get(f))&&(o=b({},s),pd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),we(h),$e(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,s.precedence,e));return n.instance}function dc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function y_(e,n,s){if(mc===null){var o=new Map,h=mc=new Map;h.set(s,o)}else h=mc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[mi]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function __(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function ub(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function v_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ka(o.href),f=n.querySelector(pl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,we(f);return}f=n.ownerDocument||n,o=g_(o),(h=Hn.get(h))&&gd(o,h),f=f.createElement("link"),we(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),$e(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=gc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var yd=0;function hb(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&yd===0&&(yd=62500*GA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>yd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(fb,e),pc=null,gc.call(e))}function fb(e,n){if(!(n.state.loading&4)){var s=pc.get(e);if(s)var o=s.get(null);else{s=new Map,pc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var _l={$$typeof:mt,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function db(e,n,s,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function E_(e,n,s,o,h,f,g,E,I,z,F,X){return e=new db(e,n,s,g,I,z,F,X,E),n=1,f===!0&&(n|=24),f=bn(3,null,null,n),e.current=f,f.stateNode=e,n=Xh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Wh(f),e}function T_(e){return e?(e=wa,e):wa}function A_(e,n,s,o,h,f){h=T_(h),o.context===null?o.context=h:o.pendingContext=h,o=Vs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ms(e,o,n),s!==null&&(gn(s,e,n),$o(s,e,n))}function b_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function _d(e,n){b_(e,n),(e=e.alternate)&&b_(e,n)}function S_(e){if(e.tag===13||e.tag===31){var n=Or(e,67108864);n!==null&&gn(n,e,67108864),_d(e,67108864)}}function w_(e){if(e.tag===13||e.tag===31){var n=In();n=Er(n);var s=Or(e,n);s!==null&&gn(s,e,n),_d(e,n)}}var _c=!0;function mb(e,n,s,o){var h=H.T;H.T=null;var f=it.p;try{it.p=2,vd(e,n,s,o)}finally{it.p=f,H.T=h}}function gb(e,n,s,o){var h=H.T;H.T=null;var f=it.p;try{it.p=8,vd(e,n,s,o)}finally{it.p=f,H.T=h}}function vd(e,n,s,o){if(_c){var h=Ed(o);if(h===null)rd(e,n,o,vc,s),C_(e,o);else if(yb(h,e,n,s,o))o.stopPropagation();else if(C_(e,o),n&4&&-1<pb.indexOf(e)){for(;h!==null;){var f=On(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Et(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-de(g);E.entanglements[1]|=I,g&=~I}Ni(f),(Kt&6)===0&&(ec=ze()+500,fl(0))}}break;case 31:case 13:E=Or(f,2),E!==null&&gn(E,f,2),ic(),_d(f,2)}if(f=Ed(o),f===null&&rd(e,n,o,vc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else rd(e,n,o,null,s)}}function Ed(e){return e=Vn(e),Td(e)}var vc=null;function Td(e){if(vc=null,e=gi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function R_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yn()){case ci:return 2;case gs:return 8;case hi:case aa:return 32;case ps:return 268435456;default:return 32}default:return 32}}var Ad=!1,Gs=null,Qs=null,Ks=null,vl=new Map,El=new Map,Ys=[],pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(e,n){switch(e){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=On(n),n!==null&&S_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function yb(e,n,s,o,h){switch(n){case"focusin":return Gs=Tl(Gs,e,n,s,o,h),!0;case"dragenter":return Qs=Tl(Qs,e,n,s,o,h),!0;case"mouseover":return Ks=Tl(Ks,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,e,n,s,o,h)),!0}return!1}function I_(e){var n=gi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Xn(e.priority,function(){w_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Xn(e.priority,function(){w_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ed(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Mo=o,s.target.dispatchEvent(o),Mo=null}else return n=On(s),n!==null&&S_(n),e.blockedOn=s,!1;n.shift()}return!0}function N_(e,n,s){Ec(e)&&s.delete(n)}function _b(){Ad=!1,Gs!==null&&Ec(Gs)&&(Gs=null),Qs!==null&&Ec(Qs)&&(Qs=null),Ks!==null&&Ec(Ks)&&(Ks=null),vl.forEach(N_),El.forEach(N_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ad||(Ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_b)))}var Ac=null;function x_(e){Ac!==e&&(Ac=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Td(o||s)===null)continue;break}var f=On(s);f!==null&&(e.splice(n,3),n-=3,Ef(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Xa(e){function n(I){return Tc(I,e)}Gs!==null&&Tc(Gs,e),Qs!==null&&Tc(Qs,e),Ks!==null&&Tc(Ks,e),vl.forEach(n),El.forEach(n);for(var s=0;s<Ys.length;s++){var o=Ys[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ys.length&&(s=Ys[0],s.blockedOn===null);)I_(s),s.blockedOn===null&&Ys.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Be]||null;if(typeof f=="function")g||x_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Be]||null)E=g.formAction;else if(Td(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),x_(s)}}}function D_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function bd(e){this._internalRoot=e}bc.prototype.render=bd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=In();A_(s,o,e,n,null,null)},bc.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;A_(e.current,2,null,e,null,null),ic(),n[di]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ys.length&&n!==0&&n<Ys[s].priority;s++);Ys.splice(s,0,e),s===0&&I_(e)}};var O_=t.version;if(O_!=="19.2.0")throw Error(a(527,O_,"19.2.0"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var vb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{je=Sc.inject(vb),Me=Sc}catch{}}return bl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=zp,f=jp,g=Bp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=E_(e,1,!1,null,null,s,o,null,h,f,g,D_),e[di]=n.current,sd(e),new bd(n)},bl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=zp,g=jp,E=Bp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=E_(e,1,!0,n,s??null,o,h,I,f,g,E,D_),n.context=T_(null),s=n.current,o=In(),o=Er(o),h=Vs(o),h.callback=null,Ms(s,h,o),s=o,n.current.lanes=s,_r(n,s),Ni(n),e[di]=n.current,sd(e),new bc(n)},bl.version="19.2.0",bl}var q_;function Nb(){if(q_)return Rd.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Rd.exports=Ib(),Rd.exports}var xb=Nb();/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ob=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),H_=r=>{const t=Ob(r);return t.charAt(0).toUpperCase()+t.slice(1)},T0=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),Vb=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=Ct.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>Ct.createElement("svg",{ref:y,...Mb,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:T0("lucide",l),...!c&&!Vb(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>Ct.createElement(_,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=(r,t)=>{const i=Ct.forwardRef(({className:a,...l},c)=>Ct.createElement(Ub,{ref:c,iconNode:t,className:T0(`lucide-${Db(H_(r))}`,`lucide-${r}`,a),...l}));return i.displayName=H_(r),i};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],xd=A0("copy",Pb);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kb=A0("user",Lb),zb=()=>{};var F_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},jb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},S0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,K=_&63;y||(K=64,d||(V=64)),a.push(i[A],i[b],i[V],i[K])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(b0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):jb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||b==null)throw new Bb;const V=c<<2|p>>4;if(a.push(V),_!==64){const K=p<<4&240|_>>2;if(a.push(K),b!==64){const W=_<<6&192|b;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Bb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qb=function(r){const t=b0(r);return S0.encodeByteArray(t,!0)},qc=function(r){return qb(r).replace(/\./g,"")},w0=function(r){try{return S0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=()=>Hb().__FIREBASE_DEFAULTS__,Gb=()=>{if(typeof process>"u"||typeof F_>"u")return;const r=F_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Qb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&w0(r[1]);return t&&JSON.parse(t)},oh=()=>{try{return zb()||Fb()||Gb()||Qb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},R0=r=>oh()?.emulatorHosts?.[r],Kb=r=>{const t=R0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},C0=()=>oh()?.config,I0=r=>oh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Il={};function $b(){const r={prod:[],emulator:[]};for(const t of Object.keys(Il))Il[t]?r.emulator.push(t):r.prod.push(t);return r}function Zb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let G_=!1;function x0(r,t){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Il[r]===t||Il[r]||G_)return;Il[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=$b().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,K){V.setAttribute("width","24"),V.setAttribute("id",K),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{G_=!0,d()},V}function A(V,K){V.setAttribute("id",K),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function b(){const V=Zb(a),K=i("text"),W=document.getElementById(K)||document.createElement("span"),st=i("learnmore"),J=document.getElementById(st)||document.createElement("a"),dt=i("preprendIcon"),gt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const mt=V.element;p(mt),A(J,st);const qt=_();y(gt,dt),mt.append(gt,W,J,qt),document.body.appendChild(mt)}c?(W.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function Wb(){const r=oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iS(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function sS(){return!Wb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rS(){try{return typeof indexedDB=="object"}catch{return!1}}function aS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="FirebaseError";class fs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=oS,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?lS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new fs(l,p,a)}}function lS(r,t){return r.replace(uS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const uS=/\{\$([^}]+)}/g;function cS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function $r(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(Q_(c)&&Q_(d)){if(!$r(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function hS(r,t){const i=new fS(r,t);return i.subscribe.bind(i)}class fS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");dS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Dd),l.error===void 0&&(l.error=Dd),l.complete===void 0&&(l.complete=Dd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(r){return r&&r._delegate?r._delegate:r}class Zr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Yb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pS(t))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qr){return this.instances.has(t)}getOptions(t=Qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:gS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Qr){return this.component?this.component.multipleInstances?t:Qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gS(r){return r===Qr?void 0:r}function pS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new mS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const _S={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},vS=Lt.INFO,ES={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},TS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=ES[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Em{constructor(t){this.name=t,this._logLevel=vS,this._logHandler=TS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_S[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const AS=(r,t)=>t.some(i=>r instanceof i);let K_,Y_;function bS(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SS(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D0=new WeakMap,Kd=new WeakMap,O0=new WeakMap,Od=new WeakMap,Tm=new WeakMap;function wS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(nr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&D0.set(i,r)}).catch(()=>{}),Tm.set(t,r),t}function RS(r){if(Kd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Kd.set(r,t)}let Yd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Kd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||O0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return nr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function CS(r){Yd=r(Yd)}function IS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Vd(this),t,...i);return O0.set(a,t.sort?t.sort():[t]),nr(a)}:SS().includes(r)?function(...t){return r.apply(Vd(this),t),nr(D0.get(this))}:function(...t){return nr(r.apply(Vd(this),t))}}function NS(r){return typeof r=="function"?IS(r):(r instanceof IDBTransaction&&RS(r),AS(r,bS())?new Proxy(r,Yd):r)}function nr(r){if(r instanceof IDBRequest)return wS(r);if(Od.has(r))return Od.get(r);const t=NS(r);return t!==r&&(Od.set(r,t),Tm.set(t,r)),t}const Vd=r=>Tm.get(r);function xS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=nr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(nr(d.result),y.oldVersion,y.newVersion,nr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const DS=["get","getKey","getAll","getAllKeys","count"],OS=["put","add","delete","clear"],Md=new Map;function X_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Md.get(t))return Md.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=OS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||DS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Md.set(t,c),c}CS(r=>({...r,get:(t,i,a)=>X_(t,i)||r.get(t,i,a),has:(t,i)=>!!X_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(MS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function MS(r){return r.getComponent()?.type==="VERSION"}const Xd="@firebase/app",$_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Em("@firebase/app"),US="@firebase/app-compat",PS="@firebase/analytics-compat",LS="@firebase/analytics",kS="@firebase/app-check-compat",zS="@firebase/app-check",jS="@firebase/auth",BS="@firebase/auth-compat",qS="@firebase/database",HS="@firebase/data-connect",FS="@firebase/database-compat",GS="@firebase/functions",QS="@firebase/functions-compat",KS="@firebase/installations",YS="@firebase/installations-compat",XS="@firebase/messaging",$S="@firebase/messaging-compat",ZS="@firebase/performance",JS="@firebase/performance-compat",WS="@firebase/remote-config",t1="@firebase/remote-config-compat",e1="@firebase/storage",n1="@firebase/storage-compat",i1="@firebase/firestore",s1="@firebase/ai",r1="@firebase/firestore-compat",a1="firebase",o1="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]",l1={[Xd]:"fire-core",[US]:"fire-core-compat",[LS]:"fire-analytics",[PS]:"fire-analytics-compat",[zS]:"fire-app-check",[kS]:"fire-app-check-compat",[jS]:"fire-auth",[BS]:"fire-auth-compat",[qS]:"fire-rtdb",[HS]:"fire-data-connect",[FS]:"fire-rtdb-compat",[GS]:"fire-fn",[QS]:"fire-fn-compat",[KS]:"fire-iid",[YS]:"fire-iid-compat",[XS]:"fire-fcm",[$S]:"fire-fcm-compat",[ZS]:"fire-perf",[JS]:"fire-perf-compat",[WS]:"fire-rc",[t1]:"fire-rc-compat",[e1]:"fire-gcs",[n1]:"fire-gcs-compat",[i1]:"fire-fst",[r1]:"fire-fst-compat",[s1]:"fire-vertex","fire-js":"fire-js",[a1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,u1=new Map,Zd=new Map;function Z_(r,t){try{r.container.addComponent(t)}catch(i){ls.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function ao(r){const t=r.name;if(Zd.has(t))return ls.debug(`There were multiple attempts to register component ${t}.`),!1;Zd.set(t,r);for(const i of Hc.values())Z_(i,r);for(const i of u1.values())Z_(i,r);return!0}function Am(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ri(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new Hl("app","Firebase",c1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=o1;function V0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:$d,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(i||(i=C0()),!i)throw ir.create("no-options");const c=Hc.get(l);if(c){if($r(i,c.options)&&$r(a,c.config))return c;throw ir.create("duplicate-app",{appName:l})}const d=new yS(l);for(const y of Zd.values())d.addComponent(y);const p=new h1(i,a,d);return Hc.set(l,p),p}function M0(r=$d){const t=Hc.get(r);if(!t&&r===$d&&C0())return V0();if(!t)throw ir.create("no-app",{appName:r});return t}function sr(r,t,i){let a=l1[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ls.warn(d.join(" "));return}ao(new Zr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="firebase-heartbeat-database",d1=1,Ml="firebase-heartbeat-store";let Ud=null;function U0(){return Ud||(Ud=xS(f1,d1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ml)}catch(i){console.warn(i)}}}}).catch(r=>{throw ir.create("idb-open",{originalErrorMessage:r.message})})),Ud}async function m1(r){try{const i=(await U0()).transaction(Ml),a=await i.objectStore(Ml).get(P0(r));return await i.done,a}catch(t){if(t instanceof fs)ls.warn(t.message);else{const i=ir.create("idb-get",{originalErrorMessage:t?.message});ls.warn(i.message)}}}async function J_(r,t){try{const a=(await U0()).transaction(Ml,"readwrite");await a.objectStore(Ml).put(t,P0(r)),await a.done}catch(i){if(i instanceof fs)ls.warn(i.message);else{const a=ir.create("idb-set",{originalErrorMessage:i?.message});ls.warn(a.message)}}}function P0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=1024,p1=30;class y1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new v1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>p1){const l=E1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ls.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:i,unsentEntries:a}=_1(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ls.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function _1(r,t=g1){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),tv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),tv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class v1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rS()?aS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await m1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function tv(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}function E1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(r){ao(new Zr("platform-logger",t=>new VS(t),"PRIVATE")),ao(new Zr("heartbeat",t=>new y1(t),"PRIVATE")),sr(Xd,$_,r),sr(Xd,$_,"esm2020"),sr("fire-js","")}T1("");var ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rr,L0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,w){function R(){}R.prototype=w.prototype,N.F=w.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(M,D,P){for(var C=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)C[Wt-2]=arguments[Wt];return w.prototype[D].apply(M,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,R){R||(R=0);const M=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)M[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;D<16;++D)M[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=N.g[0],R=N.g[1],D=N.g[2];let P=N.g[3],C;C=w+(P^R&(D^P))+M[0]+3614090360&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(D^w&(R^D))+M[1]+3905402710&4294967295,P=w+(C<<12&4294967295|C>>>20),C=D+(R^P&(w^R))+M[2]+606105819&4294967295,D=P+(C<<17&4294967295|C>>>15),C=R+(w^D&(P^w))+M[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(P^R&(D^P))+M[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(D^w&(R^D))+M[5]+1200080426&4294967295,P=w+(C<<12&4294967295|C>>>20),C=D+(R^P&(w^R))+M[6]+2821735955&4294967295,D=P+(C<<17&4294967295|C>>>15),C=R+(w^D&(P^w))+M[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(P^R&(D^P))+M[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(D^w&(R^D))+M[9]+2336552879&4294967295,P=w+(C<<12&4294967295|C>>>20),C=D+(R^P&(w^R))+M[10]+4294925233&4294967295,D=P+(C<<17&4294967295|C>>>15),C=R+(w^D&(P^w))+M[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(P^R&(D^P))+M[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(D^w&(R^D))+M[13]+4254626195&4294967295,P=w+(C<<12&4294967295|C>>>20),C=D+(R^P&(w^R))+M[14]+2792965006&4294967295,D=P+(C<<17&4294967295|C>>>15),C=R+(w^D&(P^w))+M[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(D^P&(R^D))+M[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^D&(w^R))+M[6]+3225465664&4294967295,P=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(P^w))+M[11]+643717713&4294967295,D=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(D^P))+M[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^P&(R^D))+M[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^D&(w^R))+M[10]+38016083&4294967295,P=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(P^w))+M[15]+3634488961&4294967295,D=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(D^P))+M[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^P&(R^D))+M[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^D&(w^R))+M[14]+3275163606&4294967295,P=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(P^w))+M[3]+4107603335&4294967295,D=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(D^P))+M[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^P&(R^D))+M[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^D&(w^R))+M[2]+4243563512&4294967295,P=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(P^w))+M[7]+1735328473&4294967295,D=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(D^P))+M[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(R^D^P)+M[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^D)+M[8]+2272392833&4294967295,P=w+(C<<11&4294967295|C>>>21),C=D+(P^w^R)+M[11]+1839030562&4294967295,D=P+(C<<16&4294967295|C>>>16),C=R+(D^P^w)+M[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^P)+M[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^D)+M[4]+1272893353&4294967295,P=w+(C<<11&4294967295|C>>>21),C=D+(P^w^R)+M[7]+4139469664&4294967295,D=P+(C<<16&4294967295|C>>>16),C=R+(D^P^w)+M[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^P)+M[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^D)+M[0]+3936430074&4294967295,P=w+(C<<11&4294967295|C>>>21),C=D+(P^w^R)+M[3]+3572445317&4294967295,D=P+(C<<16&4294967295|C>>>16),C=R+(D^P^w)+M[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^P)+M[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^D)+M[12]+3873151461&4294967295,P=w+(C<<11&4294967295|C>>>21),C=D+(P^w^R)+M[15]+530742520&4294967295,D=P+(C<<16&4294967295|C>>>16),C=R+(D^P^w)+M[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(D^(R|~P))+M[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~D))+M[7]+1126891415&4294967295,P=w+(C<<10&4294967295|C>>>22),C=D+(w^(P|~R))+M[14]+2878612391&4294967295,D=P+(C<<15&4294967295|C>>>17),C=R+(P^(D|~w))+M[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~P))+M[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~D))+M[3]+2399980690&4294967295,P=w+(C<<10&4294967295|C>>>22),C=D+(w^(P|~R))+M[10]+4293915773&4294967295,D=P+(C<<15&4294967295|C>>>17),C=R+(P^(D|~w))+M[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~P))+M[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~D))+M[15]+4264355552&4294967295,P=w+(C<<10&4294967295|C>>>22),C=D+(w^(P|~R))+M[6]+2734768916&4294967295,D=P+(C<<15&4294967295|C>>>17),C=R+(P^(D|~w))+M[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~P))+M[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~D))+M[11]+3174756917&4294967295,P=w+(C<<10&4294967295|C>>>22),C=D+(w^(P|~R))+M[2]+718787259&4294967295,D=P+(C<<15&4294967295|C>>>17),C=R+(P^(D|~w))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+P&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const R=w-this.blockSize,M=this.C;let D=this.h,P=0;for(;P<w;){if(D==0)for(;P<=R;)l(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<w;)if(M[D++]=N.charCodeAt(P++),D==this.blockSize){l(this,M),D=0;break}}else for(;P<w;)if(M[D++]=N[P++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)N[w++]=this.g[R]>>>M&255;return N};function c(N,w){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=w(N)}function d(N,w){this.h=w;const R=[];let M=!0;for(let D=N.length-1;D>=0;D--){const P=N[D]|0;M&&P==w||(R[D]=P,M=!1)}this.g=R}var p={};function y(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return J(_(-N));const w=[];let R=1;for(let M=0;N>=R;M++)w[M]=N/R|0,R*=4294967296;return new d(w,0)}function A(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return J(A(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(w,8));let M=b;for(let P=0;P<N.length;P+=8){var D=Math.min(8,N.length-P);const C=parseInt(N.substring(P,P+D),w);D<8?(D=_(Math.pow(w,D)),M=M.j(D).add(_(C))):(M=M.j(R),M=M.add(_(C)))}return M}var b=y(0),V=y(1),K=y(16777216);r=d.prototype,r.m=function(){if(st(this))return-J(this).m();let N=0,w=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);N+=(M>=0?M:4294967296+M)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(st(this))return"-"+J(this).toString(N);const w=_(Math.pow(N,6));var R=this;let M="";for(;;){const D=qt(R,w).g;R=dt(R,D.j(w));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,W(R))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function st(N){return N.h==-1}r.l=function(N){return N=dt(this,N),st(N)?-1:W(N)?0:1};function J(N){const w=N.g.length,R=[];for(let M=0;M<w;M++)R[M]=~N.g[M];return new d(R,~N.h).add(V)}r.abs=function(){return st(this)?J(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),R=[];let M=0;for(let D=0;D<=w;D++){let P=M+(this.i(D)&65535)+(N.i(D)&65535),C=(P>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);M=C>>>16,P&=65535,C&=65535,R[D]=C<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function dt(N,w){return N.add(J(w))}r.j=function(N){if(W(this)||W(N))return b;if(st(this))return st(N)?J(this).j(J(N)):J(J(this).j(N));if(st(N))return J(this.j(J(N)));if(this.l(K)<0&&N.l(K)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,R=[];for(var M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<N.g.length;D++){const P=this.i(M)>>>16,C=this.i(M)&65535,Wt=N.i(D)>>>16,ve=N.i(D)&65535;R[2*M+2*D]+=C*ve,gt(R,2*M+2*D),R[2*M+2*D+1]+=P*ve,gt(R,2*M+2*D+1),R[2*M+2*D+1]+=C*Wt,gt(R,2*M+2*D+1),R[2*M+2*D+2]+=P*Wt,gt(R,2*M+2*D+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new d(R,0)};function gt(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function mt(N,w){this.g=N,this.h=w}function qt(N,w){if(W(w))throw Error("division by zero");if(W(N))return new mt(b,b);if(st(N))return w=qt(J(N),w),new mt(J(w.g),J(w.h));if(st(w))return w=qt(N,J(w)),new mt(J(w.g),w.h);if(N.g.length>30){if(st(N)||st(w))throw Error("slowDivide_ only works with positive integers.");for(var R=V,M=w;M.l(N)<=0;)R=Ht(R),M=Ht(M);var D=xt(R,1),P=xt(M,1);for(M=xt(M,2),R=xt(R,2);!W(M);){var C=P.add(M);C.l(N)<=0&&(D=D.add(R),P=C),M=xt(M,1),R=xt(R,1)}return w=dt(N,D.j(w)),new mt(D,w)}for(D=b;N.l(w)>=0;){for(R=Math.max(1,Math.floor(N.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=_(R),C=P.j(w);st(C)||C.l(N)>0;)R-=M,P=_(R),C=P.j(w);W(P)&&(P=V),D=D.add(P),N=dt(N,C)}return new mt(D,N)}r.B=function(N){return qt(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)&N.i(M);return new d(R,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)|N.i(M);return new d(R,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)^N.i(M);return new d(R,this.h^N.h)};function Ht(N){const w=N.g.length+1,R=[];for(let M=0;M<w;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(R,N.h)}function xt(N,w){const R=w>>5;w%=32;const M=N.g.length-R,D=[];for(let P=0;P<M;P++)D[P]=w>0?N.i(P+R)>>>w|N.i(P+R+1)<<32-w:N.i(P+R);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,L0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,rr=d}).apply(typeof ev<"u"?ev:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var k0,Sl,z0,Oc,Jd,j0,B0,q0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)tt[wt-2]=arguments[wt];return m.prototype[L].apply(T,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,v){const T=mt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new st(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ht,xt=!1,N=new gt,w=()=>{const u=Promise.resolve(void 0);Ht=()=>{u.then(R)}};function R(){for(var u;u=dt();){try{u.h.call(u.g)}catch(v){J(v)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function Wt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(Wt,D),Wt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),H=0;function it(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function et(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Nt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<G.length;B++)v=G[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ot(u){this.src=u,this.g={},this.h=0}ot.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=yt(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new it(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(et(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function yt(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),ce={};function Xt(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Xt(u,m[B],v,T,L);return null}return v=Kn(v),u&&u[ve]?u.J(m,v,p(T)?!!T.capture:!1,L):Gn(u,m,v,!1,T,L)}function Gn(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let wt=vn(u);if(wt||(u[Dt]=wt=new ot(u)),v=wt.add(m,v,T,tt,B),v.proxy)return v;if(T=ds(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)P||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(_n(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ds(){function u(v){return m.call(u.src,u.listener,v)}const m=zi;return u}function Qn(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Qn(u,m[B],v,T,L);else T=p(T)?!!T.capture:!!T,v=Kn(v),u&&u[ve]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=yt(m,v,T,L),v>-1&&(et(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=vn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=yt(m,v,T,L)),(v=u>-1?m[u]:null)&&ki(v))}function ki(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ve])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(_n(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=vn(m))?(_t(v,u),v.h==0&&(v.src=null,m[Dt]=null)):et(u)}}}function _n(u){return u in ce?ce[u]:ce[u]="on"+u}function zi(u,m){if(u.da)u=!0;else{m=new Wt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ki(u),u=v.call(T,m)}return u}function vn(u){return u=u[Dt],u instanceof ot?u:null}var ms="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kn(u){return typeof u=="function"?u:(u[ms]||(u[ms]=function(m){return u.handleEvent(m)}),u[ms])}function ge(){M.call(this),this.i=new ot(this),this.M=this,this.G=null}b(ge,M),ge.prototype[ve]=!0,ge.prototype.removeEventListener=function(u,m,v,T){Qn(this,u,m,v,T)};function pe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),nt(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=ui(B,T,!0,m)&&L;if(B=m.g=u,L=ui(B,T,!0,m)&&L,L=ui(B,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=ui(B,T,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)et(v[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ge.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ui(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const wt=tt.listener,Ee=tt.ha||tt.src;tt.fa&&_t(u.i,tt),L=wt.call(Ee,T)!==!1&&L}}return L&&!T.defaultPrevented}function pr(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ra(u){u.g=pr(()=>{u.g=null,u.i&&(u.i=!1,ra(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ze extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ra(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(u){M.call(this),this.h=u,this.g={}}b(Yn,M);var ci=[];function gs(u){Mt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ki(m)},u),u.g={}}Yn.prototype.N=function(){Yn.Z.N.call(this),gs(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hi=d.JSON.stringify,aa=d.JSON.parse,ps=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function yr(){}function ys(){}var je={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Me(){D.call(this,"d")}b(Me,D);function ln(){D.call(this,"c")}b(ln,D);var de={},oa=null;function _s(){return oa=oa||new ge}de.Ia="serverreachability";function la(u){D.call(this,de.Ia,u)}b(la,D);function Dn(u){const m=_s();pe(m,new la(m))}de.STAT_EVENT="statevent";function $(u,m){D.call(this,de.STAT_EVENT,u),this.stat=m}b($,D);function rt(u){const m=_s();pe(m,new $(m,u))}de.Ja="timingevent";function Et(u,m){D.call(this,de.Ja,u),this.size=m}b(Et,D);function re(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ge(){this.g=!0}Ge.prototype.ua=function(){this.g=!1};function ua(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var tt="",wt=B.split("&");for(let Qt=0;Qt<wt.length;Qt++){var Ee=wt[Qt].split("=");if(Ee.length>1){const he=Ee[0];Ee=Ee[1];const Un=he.split("_");tt=Un.length>=2&&Un[1]=="type"?tt+(he+"="+Ee+"&"):tt+(he+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function nu(u,m,v,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function fi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ih(u,v)+(T?" "+T:"")})}function _r(u,m){u.info(function(){return"TIMEOUT: "+m})}Ge.prototype.info=function(){};function Ih(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return hi(B)}catch{return m}}var vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function Er(){}b(Er,yr),Er.prototype.g=function(){return new XMLHttpRequest},So=new Er;function ji(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Xn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var Se={},Be={};function di(u,m,v){u.M=1,u.A=Tr(Re(m)),u.u=v,u.R=!0,ca(u,null)}function ca(u,m){u.F=Date.now(),mi(u),u.B=Re(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ma(v.i,"t",T),u.C=0,v=u.j.L,u.h=new $n,u.g=_u(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ze(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ci[0]=L.toString()),L=ci);for(let B=0;B<L.length;B++){const tt=Xt(v,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Dn(),ua(u.i,u.v,u.B,u.l,u.S,u.u)}Xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Wn(u)==3?m.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Wn(this.g),Ee=this.g.ya(),Qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||wt!=4||Ee==7||(Ee==8||Qt<=0?Dn(3):Dn(2)),gi(this);var m=this.g.ca();this.X=m;var v=Nh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var B=T;break e}}B=null}if(u=B)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,u);else{this.o=!1,this.m=3,rt(12),En(this),On(this);break t}}if(this.R){u=!0;let he;for(;!this.K&&this.C<v.length;)if(he=ru(this,v),he==Be){wt==4&&(this.m=4,rt(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Se){this.m=4,rt(15),fi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,he,null),pi(this,he);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,rt(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,v,"[Invalid Chunked Response]"),En(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(tt),tt.P=!0,rt(11))}}else fi(this.i,this.l,v,null),pi(this,v);wt==4&&En(this),this.o&&!this.K&&(wt==4?mu(this.j,this):(this.o=!1,mi(this)))}else qi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,rt(12)):(this.m=0,rt(13)),En(this),On(this)}}}catch{}finally{}};function Nh(u){if(!su(u))return u.g.la();const m=Qe(u.g);if(m==="")return"";let v="";const T=m.length,L=Wn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),On(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Be:(v=Number(m.substring(v,T)),isNaN(v)?Se:(T+=1,T+v>m.length?Be:(m=m.slice(T,T+v),u.C=T+v,m)))}Xn.prototype.cancel=function(){this.K=!0,En(this)};function mi(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=re(_(u.aa,u),m)}function gi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(_r(this.i,this.B),this.M!=2&&(Dn(),rt(17)),En(this),this.m=2,On(this)):ha(this,this.T-u)};function On(u){u.j.I==0||u.K||mu(u.j,u)}function En(u){gi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,gs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function pi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||_i(v.h,u))){if(!u.L&&_i(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)va(v),Rs(v);else break t;Ir(v),rt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=re(_(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((u.L||v.g==u)&&va(v),!C(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Qt=L[m];const he=Qt[0];if(!(he<=v.K))if(v.K=he,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const Un=Qt[3];Un!=null&&(v.ka=Un,v.j.info("VER="+v.ka));const wi=Qt[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const ti=Qt[5];ti!=null&&typeof ti=="number"&&ti>0&&(T=1.5*ti,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ei=u.g;if(ei){const Nr=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var B=T.h;B.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Co(B,B.h),B.h=null))}if(T.G){const Ea=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(T.wa=Ea,$t(T.J,T.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=yu(T,T.L?T.ba:null,T.W),tt.L){Io(T.h,tt);var wt=tt,Ee=T.O;Ee&&(wt.H=Ee),wt.D&&(gi(wt),mi(wt)),T.g=tt}else fu(T);v.i.length>0&&bi(v)}else Qt[0]!="stop"&&Qt[0]!="close"||Si(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Si(v,7):Lo(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}Dn(4)}catch{}}var we=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yi(u){return u.h?1:u.g?u.g.size:0}function _i(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Co(u,m){u.g?u.g.add(m):u.h=m}function Io(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function No(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Tn?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,vs(this,u.u),this.h=u.h,xo(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,qe(this,m[1]||"",!0),this.o=vi(m[2]||""),this.g=vi(m[3]||"",!0),vs(this,m[4]),this.h=vi(m[5]||"",!0),xo(this,m[6]||"",!0),this.m=vi(m[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}Tn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ar(m,da,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ar(m,da,!0),"@"),u.push(ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ar(v,v.charAt(0)=="/"?Do:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ar(v,lu)),u.join("")},Tn.prototype.resolve=function(u){const m=Re(this);let v=!!u.j;v?qe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)vs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const wt=L[tt++];wt=="."?T&&tt==L.length&&B.push(""):wt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(wt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?xo(m,cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Re(u){return new Tn(u)}function qe(u,m,v){u.j=v?vi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function xo(u,m,v){m instanceof Ts?(u.i=m,ga(u.i,u.l)):(v||(m=Ar(m,Es)),u.i=new Ts(m,u.l))}function $t(u,m,v){u.i.set(m,v)}function Tr(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ar(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,un),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var da=/[#\/\?@]/g,ou=/[#\?:]/g,Do=/[#\?]/g,Es=/[#\?@]/g,lu=/#/g;function Ts(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&fa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ts.prototype,r.add=function(u,m){cn(this),this.i=null,u=As(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function uu(u,m){cn(u),m=As(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return cn(u),m=As(u,m),u.g.has(m)}r.forEach=function(u,m){cn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Vo(u,m){cn(u);let v=[];if(typeof m=="string")Oo(u,m)&&(v=v.concat(u.g.get(As(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return cn(this),this.i=null,u=As(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Vo(this,u),u.length>0?String(u[0]):m):m};function ma(u,m,v){uu(u,m),v.length>0&&(u.i=null,u.g.set(As(u,m),K(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=ji(v);v=Vo(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+ji(v[B])),u.push(tt)}}return this.i=u.join("&")};function cu(u){const m=new Ts;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function As(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ga(u,m){m&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(uu(this,T),ma(this,L,v))},u)),u.j=m}function Zn(u,m){const v=new Ge;if(d.Image){const T=new Image;T.onload=A(Vn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Vn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Vn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Vn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Mo(u,m){const v=new Ge,T=new AbortController,L=setTimeout(()=>{T.abort(),Vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Vn(v,"TestPingServer: ok",!0,m):Vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Vn(v,"TestPingServer: error",!1,m)})}function Vn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function bs(){this.g=new ps}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Ei,yr),Ei.prototype.g=function(){return new br(this.i,this.h)};function br(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(br,ge),r=br.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ss(this):Jn(this),this.readyState==3&&pa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ss(this))},r.Na=function(u){this.g&&(this.response=u,Ss(this))},r.ga=function(){this.g&&Ss(this)};function Ss(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Jn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let m="";return Mt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Sr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Mn(v),typeof u=="string"?v!=null&&ji(v):$t(u,m,v))}function te(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(te,ge);var Ti=/^https?$/i,Uo=["POST","PUT"];r=te.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){wr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Uo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){wr(this,B)}};function wr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Po(u),Bi(u)}function Po(u){u.A||(u.A=!0,pe(u,"complete"),pe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,pe(this,"complete"),pe(this,"abort"),Bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),te.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Rr(this):this.Xa())},r.Xa=function(){Rr(this)};function Rr(u){if(u.h&&typeof c<"u"){if(u.v&&Wn(u)==4)setTimeout(u.Ca.bind(u),0);else if(pe(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(au)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!Ti.test(tt?tt.toLowerCase():"")}v=T}if(v)pe(u,"complete"),pe(u,"success");else{u.o=6;try{var L=Wn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Po(u)}}finally{Bi(u)}}}}function Bi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||pe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),aa(m)}};function Qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(u){const m={};u=(u.g&&Wn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var v=iu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Nt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ws(u){this.za=0,this.i=[],this.j=new Ge,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,u),this.Za=Ai("retryDelaySeedMs",1e4,u),this.Ta=Ai("forwardChannelMaxRetries",2,u),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new bs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ws.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){rt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=yu(this,null,this.W),bi(this)};function Lo(u){if(ya(u),u.I==3){var m=u.V++,v=Re(u.J);if($t(v,"SID",u.M),$t(v,"RID",m),$t(v,"TYPE","terminate"),Cr(u,v),m=new Xn(u,u.j,m),m.M=2,m.A=Tr(Re(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),mi(m)}pu(u)}function Rs(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function ya(u){Rs(u),u.v&&(d.clearTimeout(u.v),u.v=null),va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function bi(u){if(!Ro(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ht||w(),xt||(Ht(),xt=!0),N.add(m,u),u.D=0}}function _a(u,m){return yi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=re(_(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Xn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=hu(this,L,m),v=Re(this.J),$t(v,"RID",u),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),Cr(this,v),B&&(this.R?m="headers="+ji(Mn(B))+"&"+m:this.u&&Sr(v,this.u,B)),Co(this.h,L),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",m),$t(v,"SID","null"),L.U=!0,di(L,v,null)):di(L,v,m),this.I=2}}else this.I==3&&(u?ko(this,u):this.i.length==0||Ro(this.h)||ko(this))};function ko(u,m){var v;m?v=m.l:v=u.V++;const T=Re(u.J);$t(T,"SID",u.M),$t(T,"RID",v),$t(T,"AID",u.K),Cr(u,T),u.u&&u.o&&Sr(T,u.u,u.o),v=new Xn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Co(u.h,v),di(v,T,m)}function Cr(u,m){u.H&&Mt(u.H,function(v,T){$t(m,T,v)}),u.l&&Mt({},function(v,T){$t(m,T,v)})}function hu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let wt=-1;for(;;){const Ee=["count="+v];wt==-1?v>0?(wt=L[0].g,Ee.push("ofs="+wt)):wt=0:Ee.push("ofs="+wt);let Qt=!0;for(let he=0;he<v;he++){var B=L[he].g;const Un=L[he].map;if(B-=wt,B<0)wt=Math.max(0,L[he].g-100),Qt=!1;else try{B="req"+B+"_"||"";try{var tt=Un instanceof Map?Un:Object.entries(Un);for(const[wi,ti]of tt){let ei=ti;p(ti)&&(ei=hi(ti)),Ee.push(B+wi+"="+encodeURIComponent(ei))}}catch(wi){throw Ee.push(B+"type="+encodeURIComponent("_badmap")),wi}}catch{T&&T(Un)}}if(Qt){tt=Ee.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ht||w(),xt||(Ht(),xt=!0),N.add(m,u),u.A=0}}function Ir(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=re(_(u.Da,u),gu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=re(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rt(10),Rs(this),du(this))};function zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Re(u.na);$t(m,"RID","rpc"),$t(m,"SID",u.M),$t(m,"AID",u.K),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(m,"TO",u.ia),$t(m,"TYPE","xmlhttp"),Cr(u,m),u.u&&u.o&&Sr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Tr(Re(m)),v.u=null,v.R=!0,ca(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Rs(this),Ir(this),rt(19))};function va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var v=null;if(u.g==m){va(u),zo(u),u.g=null;var T=2}else if(_i(u.h,m))v=m.G,Io(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=_s(),pe(T,new Et(T,v)),bi(u)}else fu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&_a(u,m)||T==2&&Ir(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new Tn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(T,"https"),Tr(T),L?Zn(T.toString(),v):Mo(T.toString(),v)}else rt(2);u.I=0,u.l&&u.l.pa(m),pu(u),ya(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=No(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var T=v instanceof Tn?Re(v):new Tn(v);if(T.g!="")m&&(T.g=m+"."+T.g),vs(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Tn(null);T&&qe(B,T),m&&(B.g=m),L&&vs(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&$t(T,v,m),$t(T,"VER",u.ka),Cr(u,T),T}function _u(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new Ei({ab:v})):new te(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cs(){}Cs.prototype.g=function(u,m){return new an(u,m)};function an(u,m){ge.call(this),this.g=new ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Hi(this)}b(an,ge),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Lo(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=hi(u),u=v);m.i.push(new we(m.Ya++,u)),m.I==3&&bi(m)},an.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,an.Z.N.call(this)};function Eu(u){Me.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Eu,Me);function Tu(){ln.call(this),this.status=1}b(Tu,ln);function Hi(u){this.g=u}b(Hi,vu),Hi.prototype.ra=function(){pe(this.g,"a")},Hi.prototype.qa=function(u){pe(this.g,new Eu(u))},Hi.prototype.pa=function(u){pe(this.g,new Tu)},Hi.prototype.oa=function(){pe(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,q0=function(){return new Cs},B0=function(){return _s()},j0=de,Jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,Oc=vr,bo.COMPLETE="complete",z0=bo,ys.EventType=je,je.OPEN="a",je.CLOSE="b",je.ERROR="c",je.MESSAGE="d",ge.prototype.listen=ge.prototype.J,Sl=ys,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,k0=te}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const nv="@firebase/firestore",iv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new Em("@firebase/firestore");function $a(){return Jr.logLevel}function lt(r,...t){if(Jr.logLevel<=Lt.DEBUG){const i=t.map(bm);Jr.debug(`Firestore (${yo}): ${r}`,...i)}}function us(r,...t){if(Jr.logLevel<=Lt.ERROR){const i=t.map(bm);Jr.error(`Firestore (${yo}): ${r}`,...i)}}function oo(r,...t){if(Jr.logLevel<=Lt.WARN){const i=t.map(bm);Jr.warn(`Firestore (${yo}): ${r}`,...i)}}function bm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,H0(r,a,i)}function H0(r,t,i){let a=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw us(a),new Error(a)}function Yt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||H0(t,l,a)}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends fs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class A1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(nn.UNAUTHENTICATED)))}shutdown(){}}class b1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class S1{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ar,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ar)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new F0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class w1{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R1{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new w1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const a=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new sv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=I1(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function kt(r,t){return r<t?-1:r>t?1:0}function Wd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Pd(l)===Pd(c)?kt(l,c):Pd(l)?1:-1}return kt(r.length,t.length)}const N1=55296,x1=57343;function Pd(r){const t=r.charCodeAt(0);return t>=N1&&t<=x1}function lo(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="__name__";class xi{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return xi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof xi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=xi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const a=xi.isNumericId(t),l=xi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?xi.extractNumericId(t).compare(xi.extractNumericId(i)):Wd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rr.fromString(t.substring(4,t.length-2))}}class ae extends xi{construct(t,i,a){return new ae(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new at(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ae(i)}static emptyPath(){return new ae([])}}const D1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends xi{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return D1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rv}static keyField(){return new Je([rv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new at(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new at(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new at(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ae.fromString(t))}static fromName(t){return new ft(ae.fromString(t).popFirst(5))}static empty(){return new ft(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ae.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ae(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(r,t,i){if(!i)throw new at(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function O1(r,t,i,a){if(t===!0&&a===!0)throw new at(Y.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function av(r){if(!ft.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ov(r){if(ft.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Q0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function lh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Wr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lh(r);throw new at(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(r,t){const i={typeString:r};return t&&(i.value=t),i}function Gl(r,t){if(!Q0(r))throw new at(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new at(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=-62135596800,uv=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*uv);return new oe(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<lv)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uv}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gl(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-lv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Ve("string",oe._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new oe(0,0))}static max(){return new At(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=-1;function V1(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new oe(i+1,0):new oe(i,a));return new lr(l,ft.empty(),t)}function M1(r){return new lr(r.readTime,r.key,Ul)}class lr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new lr(At.min(),ft.empty(),Ul)}static max(){return new lr(At.max(),ft.empty(),Ul)}}function U1(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,t.documentKey),i!==0?i:kt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==P1)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function k1(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=-1;function ch(r){return r==null}function Fc(r){return r===0&&1/r==-1/0}function z1(r){return typeof r=="number"&&Number.isInteger(r)&&!Fc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="";function j1(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=cv(t)),t=B1(r.get(i),t);return cv(t)}function B1(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case K0:i+="";break;default:i+=c}}return i}function cv(r){return r+K0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function mr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function Y0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ze.RED,this.left=l??Ze.EMPTY,this.right=c??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ze(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ze.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new fv(this.data.getIterator())}getIteratorFrom(t){return new fv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Le(this.comparator);return i.data=t,i}}class fv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Nn([])}unionWith(t){let i=new Le(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Nn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return lo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new X0("Invalid base64 string: "+c):c}})(t);return new We(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new We(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const q1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const i=q1.exec(r);if(Yt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:be(r.seconds),nanos:be(r.nanos)}}function be(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cr(r){return typeof r=="string"?We.fromBase64String(r):We.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="server_timestamp",Z0="__type__",J0="__previous_value__",W0="__local_write_time__";function Rm(r){return(r?.mapValue?.fields||{})[Z0]?.stringValue===$0}function hh(r){const t=r.mapValue.fields[J0];return Rm(t)?hh(t):t}function Pl(r){const t=ur(r.mapValue.fields[W0].timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t,i,a,l,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Gc="(default)";class Ll{constructor(t,i){this.projectId=t,this.database=i||Gc}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===Gc}isEqual(t){return t instanceof Ll&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="__type__",F1="__max__",Cc={mapValue:{}},eE="__vector__",Qc="value";function hr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Rm(r)?4:Q1(r)?9007199254740991:G1(r)?10:11:vt(28295,{value:r})}function Pi(r,t){if(r===t)return!0;const i=hr(r);if(i!==hr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Pl(r).isEqual(Pl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ur(l.timestampValue),p=ur(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return cr(l.bytesValue).isEqual(cr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return be(l.geoPointValue.latitude)===be(c.geoPointValue.latitude)&&be(l.geoPointValue.longitude)===be(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return be(l.integerValue)===be(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=be(l.doubleValue),p=be(c.doubleValue);return d===p?Fc(d)===Fc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return lo(r.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(hv(d)!==hv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Pi(d[y],p[y])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function kl(r,t){return(r.values||[]).find((i=>Pi(i,t)))!==void 0}function uo(r,t){if(r===t)return 0;const i=hr(r),a=hr(t);if(i!==a)return kt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=be(c.integerValue||c.doubleValue),y=be(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return dv(r.timestampValue,t.timestampValue);case 4:return dv(Pl(r),Pl(t));case 5:return Wd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=cr(c),y=cr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=kt(p[_],y[_]);if(A!==0)return A}return kt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=kt(be(c.latitude),be(d.latitude));return p!==0?p:kt(be(c.longitude),be(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return mv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Qc]?.arrayValue,A=y[Qc]?.arrayValue,b=kt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:mv(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let b=0;b<y.length&&b<A.length;++b){const V=Wd(y[b],A[b]);if(V!==0)return V;const K=uo(p[y[b]],_[A[b]]);if(K!==0)return K}return kt(y.length,A.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function dv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const i=ur(r),a=ur(t),l=kt(i.seconds,a.seconds);return l!==0?l:kt(i.nanos,a.nanos)}function mv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=uo(i[l],a[l]);if(c)return c}return kt(i.length,a.length)}function co(r){return tm(r)}function tm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ur(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return cr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=tm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${tm(i.fields[d])}`;return l+"}"})(r.mapValue):vt(61005,{value:r})}function Vc(r){switch(hr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(r);return t?16+Vc(t):16;case 5:return 2*r.stringValue.length;case 6:return cr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Vc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return mr(a.fields,((c,d)=>{l+=c.length+Vc(d)})),l})(r.mapValue);default:throw vt(13486,{value:r})}}function gv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function em(r){return!!r&&"integerValue"in r}function Cm(r){return!!r&&"arrayValue"in r}function pv(r){return!!r&&"nullValue"in r}function yv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mc(r){return!!r&&"mapValue"in r}function G1(r){return(r?.mapValue?.fields||{})[tE]?.stringValue===eE}function Nl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return mr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Nl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Nl(r.arrayValue.values[i]);return t}return{...r}}function Q1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===F1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Mc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nl(i)}setAll(t){let i=Je.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Nl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Mc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){mr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new yn(Nl(this.value))}}function nE(r){const t=[];return mr(r.fields,((i,a)=>{const l=new Je([i]);if(Mc(a)){const c=nE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Nn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new sn(t,0,At.min(),At.min(),At.min(),yn.empty(),0)}static newFoundDocument(t,i,a,l){return new sn(t,1,i,At.min(),a,l,0)}static newNoDocument(t,i){return new sn(t,2,i,At.min(),At.min(),yn.empty(),0)}static newUnknownDocument(t,i){return new sn(t,3,i,At.min(),At.min(),yn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,i){this.position=t,this.inclusive=i}}function _v(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=uo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function vv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Pi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,i="asc"){this.field=t,this.dir=i}}function K1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{}class Oe extends iE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new X1(t,i,a):i==="array-contains"?new J1(t,a):i==="in"?new W1(t,a):i==="not-in"?new tw(t,a):i==="array-contains-any"?new ew(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new $1(t,a):new Z1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(uo(i,this.value)):i!==null&&hr(this.value)===hr(i)&&this.matchesComparison(uo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends iE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new li(t,i)}matches(t){return sE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sE(r){return r.op==="and"}function rE(r){return Y1(r)&&sE(r)}function Y1(r){for(const t of r.filters)if(t instanceof li)return!1;return!0}function nm(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+co(r.value);if(rE(r))return r.filters.map((t=>nm(t))).join(",");{const t=r.filters.map((i=>nm(i))).join(",");return`${r.op}(${t})`}}function aE(r,t){return r instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Pi(a.value,l.value)})(r,t):r instanceof li?(function(a,l){return l instanceof li&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&aE(d,l.filters[p])),!0):!1})(r,t):void vt(19439)}function oE(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${co(i.value)}`})(r):r instanceof li?(function(i){return i.op.toString()+" {"+i.getFilters().map(oE).join(" ,")+"}"})(r):"Filter"}class X1 extends Oe{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class $1 extends Oe{constructor(t,i){super(t,"in",i),this.keys=lE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Z1 extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=lE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function lE(r,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class J1 extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Cm(i)&&kl(i.arrayValue,this.value)}}class W1 extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class tw extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class ew extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Cm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>kl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Ev(r,t=null,i=[],a=[],l=null,c=null,d=null){return new nw(r,t,i,a,l,c,d)}function Im(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>nm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>co(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>co(a))).join(",")),t.Te=i}return t.Te}function Nm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!K1(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!aE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!vv(r.startAt,t.startAt)&&vv(r.endAt,t.endAt)}function im(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iw(r,t,i,a,l,c,d,p){return new Eo(r,t,i,a,l,c,d,p)}function uE(r){return new Eo(r)}function Tv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cE(r){return r.collectionGroup!==null}function xl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Le(Je.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new zl(c,a))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new zl(Je.keyField(),a))}return t.Ie}function Di(r){const t=St(r);return t.Ee||(t.Ee=sw(t,xl(r))),t.Ee}function sw(r,t){if(r.limitType==="F")return Ev(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new zl(l.field,c)}));const i=r.endAt?new Kc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Kc(r.startAt.position,r.startAt.inclusive):null;return Ev(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function sm(r,t){const i=r.filters.concat([t]);return new Eo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function rm(r,t,i){return new Eo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function fh(r,t){return Nm(Di(r),Di(t))&&r.limitType===t.limitType}function hE(r){return`${Im(Di(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>oE(l))).join(", ")}]`),ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>co(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>co(l))).join(",")),`Target(${a})`})(Di(r))}; limitType=${r.limitType})`}function dh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of xl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=_v(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,xl(a),l)||a.endAt&&!(function(d,p,y){const _=_v(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,xl(a),l))})(r,t)}function rw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fE(r){return(t,i)=>{let a=!1;for(const l of xl(r)){const c=aw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function aw(r,t,i){const a=r.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?uo(y,_):vt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){mr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return Y0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new me(ft.comparator);function cs(){return ow}const dE=new me(ft.comparator);function wl(...r){let t=dE;for(const i of r)t=t.insert(i.key,i);return t}function mE(r){let t=dE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Kr(){return Dl()}function gE(){return Dl()}function Dl(){return new na((r=>r.toString()),((r,t)=>r.isEqual(t)))}const lw=new me(ft.comparator),uw=new Le(ft.comparator);function zt(...r){let t=uw;for(const i of r)t=t.add(i);return t}const cw=new Le(kt);function hw(){return cw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(t)?"-0":t}}function pE(r){return{integerValue:""+r}}function fw(r,t){return z1(t)?pE(t):xm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this._=void 0}}function dw(r,t,i){return r instanceof Yc?(function(l,c){const d={fields:{[Z0]:{stringValue:$0},[W0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Rm(c)&&(c=hh(c)),c&&(d.fields[J0]=c),{mapValue:d}})(i,t):r instanceof jl?_E(r,t):r instanceof Bl?vE(r,t):(function(l,c){const d=yE(l,c),p=Av(d)+Av(l.Ae);return em(d)&&em(l.Ae)?pE(p):xm(l.serializer,p)})(r,t)}function mw(r,t,i){return r instanceof jl?_E(r,t):r instanceof Bl?vE(r,t):i}function yE(r,t){return r instanceof Xc?(function(a){return em(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Yc extends mh{}class jl extends mh{constructor(t){super(),this.elements=t}}function _E(r,t){const i=EE(t);for(const a of r.elements)i.some((l=>Pi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Bl extends mh{constructor(t){super(),this.elements=t}}function vE(r,t){let i=EE(t);for(const a of r.elements)i=i.filter((l=>!Pi(l,a)));return{arrayValue:{values:i}}}class Xc extends mh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Av(r){return be(r.integerValue||r.doubleValue)}function EE(r){return Cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function gw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof jl&&l instanceof jl||a instanceof Bl&&l instanceof Bl?lo(a.elements,l.elements,Pi):a instanceof Xc&&l instanceof Xc?Pi(a.Ae,l.Ae):a instanceof Yc&&l instanceof Yc})(r.transform,t.transform)}class pw{constructor(t,i){this.version=t,this.transformResults=i}}class xn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new xn}static exists(t){return new xn(void 0,t)}static updateTime(t){return new xn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class gh{}function TE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Dm(r.key,xn.none()):new Ql(r.key,r.data,xn.none());{const i=r.data,a=yn.empty();let l=new Le(Je.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new gr(r.key,a,new Nn(l.toArray()),xn.none())}}function yw(r,t,i){r instanceof Ql?(function(l,c,d){const p=l.value.clone(),y=Sv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof gr?(function(l,c,d){if(!Uc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Sv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(AE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ol(r,t,i,a){return r instanceof Ql?(function(c,d,p,y){if(!Uc(c.precondition,d))return p;const _=c.value.clone(),A=wv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof gr?(function(c,d,p,y){if(!Uc(c.precondition,d))return p;const _=wv(c.fieldTransforms,y,d),A=d.data;return A.setAll(AE(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,p){return Uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function _w(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=yE(a.transform,l||null);c!=null&&(i===null&&(i=yn.empty()),i.set(a.field,c))}return i||null}function bv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&lo(a,l,((c,d)=>gw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ql extends gh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class gr extends gh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function AE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Sv(r,t,i){const a=new Map;Yt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,mw(d,p,i[l]))}return a}function wv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,dw(c,d,t))}return a}class Dm extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vw extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&yw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=gE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=TE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&lo(this.mutations,t.mutations,((i,a)=>bv(i,a)))&&lo(this.baseMutations,t.baseMutations,((i,a)=>bv(i,a)))}}class Om{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return lw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Om(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,Bt;function bw(r){switch(r){case Y.OK:return vt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function bE(r){if(r===void 0)return us("GRPC error has no .code"),Y.UNKNOWN;switch(r){case De.OK:return Y.OK;case De.CANCELLED:return Y.CANCELLED;case De.UNKNOWN:return Y.UNKNOWN;case De.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case De.INTERNAL:return Y.INTERNAL;case De.UNAVAILABLE:return Y.UNAVAILABLE;case De.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case De.NOT_FOUND:return Y.NOT_FOUND;case De.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case De.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case De.ABORTED:return Y.ABORTED;case De.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case De.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case De.DATA_LOSS:return Y.DATA_LOSS;default:return vt(39323,{code:r})}}(Bt=De||(De={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=new rr([4294967295,4294967295],0);function Rv(r){const t=Sw().encode(r),i=new L0;return i.update(t),new Uint8Array(i.digest())}function Cv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new rr([i,a],0),new rr([l,c],0)]}class Vm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(a<0)throw new Rl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=rr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(rr.fromNumber(a)));return l.compare(ww)===1&&(l=new rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Rv(t),[a,l]=Cv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Vm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Rv(t),[a,l]=Cv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new ph(At.min(),l,new me(kt),cs(),zt())}}class Kl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Kl(a,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class SE{constructor(t,i){this.targetId=t,this.Ce=i}}class wE{constructor(t,i,a=We.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Iv{constructor(){this.ve=0,this.Fe=Nv(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new Kl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Nv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Rw{constructor(t){this.Ge=t,this.ze=new Map,this.je=cs(),this.Je=Ic(),this.He=Ic(),this.Ye=new me(kt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(im(c))if(a===0){const d=new ft(c.path);this.et(i,d,sn.newNoDocument(d,At.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=cr(a).toUint8Array()}catch(y){if(y instanceof X0)return oo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Vm(d,l,c)}catch(y){return oo(y instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&im(p.target)){const y=new ft(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,sn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=zt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new ph(t,i,this.Ye,this.je,a);return this.je=cs(),this.Je=Ic(),this.He=Ic(),this.Ye=new me(kt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Iv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Le(kt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Le(kt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Iv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new me(ft.comparator)}function Nv(){return new me(ft.comparator)}const Cw={asc:"ASCENDING",desc:"DESCENDING"},Iw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nw={and:"AND",or:"OR"};class xw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function am(r,t){return r.useProto3Json||ch(t)?t:{value:t}}function $c(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Dw(r,t){return $c(r,t.toTimestamp())}function Oi(r){return Yt(!!r,49232),At.fromTimestamp((function(i){const a=ur(i);return new oe(a.seconds,a.nanos)})(r))}function Mm(r,t){return om(r,t).canonicalString()}function om(r,t){const i=(function(l){return new ae(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function CE(r){const t=ae.fromString(r);return Yt(OE(t),10190,{key:t.toString()}),t}function lm(r,t){return Mm(r.databaseId,t.path)}function Ld(r,t){const i=CE(t);if(i.get(1)!==r.databaseId.projectId)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(NE(i))}function IE(r,t){return Mm(r.databaseId,t)}function Ow(r){const t=CE(r);return t.length===4?ae.emptyPath():NE(t)}function um(r){return new ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function NE(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function xv(r,t,i){return{name:lm(r,t),fields:i.value.mapValue.fields}}function Vw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Yt(A===void 0||typeof A=="string",58123),We.fromBase64String(A||"")):(Yt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),We.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?Y.UNKNOWN:bE(_.code);return new at(A,_.message||"")})(d);i=new wE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Ld(r,a.document.name),c=Oi(a.document.updateTime),d=a.document.createTime?Oi(a.document.createTime):At.min(),p=new yn({mapValue:{fields:a.document.fields}}),y=sn.newFoundDocument(l,c,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Pc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Ld(r,a.document),c=a.readTime?Oi(a.readTime):At.min(),d=sn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Pc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Ld(r,a.document),c=a.removedTargetIds||[];i=new Pc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Aw(l,c),p=a.targetId;i=new SE(p,d)}}return i}function Mw(r,t){let i;if(t instanceof Ql)i={update:xv(r,t.key,t.value)};else if(t instanceof Dm)i={delete:lm(r,t.key)};else if(t instanceof gr)i={update:xv(r,t.key,t.data),updateMask:Hw(t.fieldMask)};else{if(!(t instanceof vw))return vt(16599,{Vt:t.type});i={verify:lm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Xc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Dw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(r,t.precondition)),i}function Uw(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Oi(l.updateTime):Oi(c);return d.isEqual(At.min())&&(d=Oi(c)),new pw(d,l.transformResults||[])})(i,t)))):[]}function Pw(r,t){return{documents:[IE(r,t.path)]}}function Lw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=IE(r,l);const c=(function(_){if(_.length!==0)return DE(li.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(V){return{field:Ja(V.field),direction:jw(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=am(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function kw(r){let t=Ow(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Yt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const V=xE(b);return V instanceof li&&rE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((V=>(function(W){return new zl(Wa(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let V;return V=typeof b=="object"?b.value:b,ch(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(b){const V=!!b.before,K=b.values||[];return new Kc(K,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const V=!b.before,K=b.values||[];return new Kc(K,V)})(i.endAt)),iw(t,l,d,c,p,"F",y,_)}function zw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function xE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Wa(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Wa(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Wa(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Wa(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(Wa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return li.create(i.compositeFilter.filters.map((a=>xE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function jw(r){return Cw[r]}function Bw(r){return Iw[r]}function qw(r){return Nw[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function Wa(r){return Je.fromServerFormat(r.fieldPath)}function DE(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(yv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(pv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(yv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(pv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:Bw(i.op),value:i.value}}})(r):r instanceof li?(function(i){const a=i.getFilters().map((l=>DE(l)));return a.length===1?a[0]:{compositeFilter:{op:qw(i.op),filters:a}}})(r):vt(54877,{filter:r})}function Hw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function OE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t,i,a,l,c=At.min(),d=At.min(),p=We.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.yt=t}}function Gw(r){const t=kw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.Cn=new Kw}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(lr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(lr.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class Kw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Le(ae.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Le(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VE=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(VE,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ho(0)}static cr(){return new ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="LruGarbageCollector",Yw=1048576;function Vv([r,t],[i,a]){const l=kt(r,i);return l===0?kt(t,a):l}class Xw{constructor(t){this.Ir=t,this.buffer=new Le(Vv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Vv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class $w{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(Ov,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vo(i)?lt(Ov,"Ignoring IndexedDB error during garbage collection: ",i):await _o(i)}await this.Vr(3e5)}))}}class Zw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(uh.ce);const a=new Xw(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Dv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(_=Date.now(),$a()<=Lt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function Jw(r,t){return new Zw(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.changes=new na((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ol(a.mutation,l,Nn.empty(),oe.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=Kr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=wl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Kr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=cs();const d=Dl(),p=(function(){return Dl()})();return i.forEach(((y,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof gr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Ol(A.mutation,_,A.mutation.getFieldMask(),oe.now())):d.set(_.key,Nn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new tR(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Dl();let l=new me(((d,p)=>d-p)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||Nn.empty();A=p.applyToLocalView(_,A),a.set(y,A);const b=(l.get(p.batchId)||zt()).add(y);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,b=gE();A.forEach((V=>{if(!c.has(V)){const K=TE(i.get(V),a.get(V));K!==null&&b.set(V,K),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):cE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(Kr());let p=Ul,y=c;return d.next((_=>Z.forEach(_,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{y=y.insert(A,V)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,zt()))).next((A=>({batchId:p,changes:mE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let l=wl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=wl();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(y=>{const _=(function(b,V){return new Eo(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((b,V)=>{d=d.insert(b,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,sn.newInvalidDocument(A)))}));let p=wl();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Ol(A.mutation,_,Nn.empty(),oe.now()),dh(i,_)&&(p=p.insert(y,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Gw(l.bundledQuery),readTime:Oi(l.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.overlays=new me(ft.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Kr();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=Kr(),c=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new me(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=Kr(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Kr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Tw(i,a));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this.Qr=new Le(Fe.$r),this.Ur=new Le(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Fe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Fe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ft(new ae([])),a=new Fe(i,t),l=new Fe(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new ae([])),a=new Fe(i,t),l=new Fe(i,t+1);let c=zt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Fe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Fe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||kt(t.Yr,i.Yr)}static Kr(t,i){return kt(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Le(Fe.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ew(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Fe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?wm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Fe(i,0),l=new Fe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Le(kt);return i.forEach((l=>{const c=new Fe(l,0),d=new Fe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new Fe(new ft(c),0);let p=new Le(kt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Fe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Fe(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t){this.ri=t,this.docs=(function(){return new me(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(i))}getEntries(t,i){let a=cs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():sn.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=cs();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||U1(M1(A),a)<=0||(l.has(A.key)||dh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new oR(this)}getSize(t){return Z.resolve(this.size)}}class oR extends Ww{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t){this.persistence=t,this.si=new na((i=>Im(i)),Nm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Um,this.targetCount=0,this.ai=ho.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ho(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(t,i){this.ui={},this.overlays={},this.ci=new uh(0),this.li=!1,this.li=!0,this.hi=new sR,this.referenceDelegate=t(this),this.Pi=new lR(this),this.indexManager=new Qw,this.remoteDocumentCache=(function(l){return new aR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Fw(i),this.Ii=new nR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new iR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new rR(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const l=new uR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class uR extends L1{constructor(t){super(),this.currentSequenceNumber=t}}class Pm{constructor(t){this.persistence=t,this.Ri=new Um,this.Vi=null}static mi(t){return new Pm(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=ft.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.pi=new na((a=>j1(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Jw(this,i)}static mi(t,i){return new Zc(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Vc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Lm(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sS()?8:k1(rn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new cR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?($a()<=Lt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):($a()<=Lt.DEBUG&&lt("QueryEngine","Query:",Za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?($a()<=Lt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(i))):Z.resolve())}ys(t,i){if(Tv(i))return Z.resolve(null);let a=Di(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=rm(i,null,"F"),a=Di(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,rm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return Tv(i)||l.isEqual(At.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):($a()<=Lt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Za(i)),this.vs(t,d,i,V1(l,Ul)).next((p=>p)))}))}Ds(t,i){let a=new Le(fE(t));return i.forEach(((l,c)=>{dh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return $a()<=Lt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Za(i)),this.ps.getDocumentsMatchingQuery(t,i,lr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="LocalStore",fR=3e8;class dR{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new me(kt),this.xs=new na((c=>Im(c)),Nm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function mR(r,t,i,a){return new dR(r,t,i,a)}async function UE(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=zt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function gR(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const b=_.batch,V=b.keys();let K=Z.resolve();return V.forEach((W=>{K=K.next((()=>A.getEntry(y,W))).next((st=>{const J=_.docVersions.get(W);Yt(J!==null,48541),st.version.compareTo(J)<0&&(b.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),A.addEntry(st)))}))})),K.next((()=>p.mutationQueue.removeMutationBatch(y,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=zt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function PE(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function pR(r,t){const i=St(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const V=l.get(b);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let K=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?K=K.withResumeToken(We.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,a)),l=l.insert(b,K),(function(st,J,dt){return st.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=fR?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(V,K,A)&&p.push(i.Pi.updateTargetData(c,K))}));let y=cs(),_=zt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(yR(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(At.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function yR(r,t,i){let a=zt(),l=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=cs();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(At.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):lt(km,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function _R(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=wm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function vR(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new er(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function cm(r,t,i){const a=St(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!vo(d))throw d;lt(km,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Mv(r,t,i){const a=St(r);let l=At.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const b=St(y),V=b.xs.get(A);return V!==void 0?Z.resolve(b.Ms.get(V)):b.Pi.getTargetData(_,A)})(a,d,Di(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:zt()))).next((p=>(ER(a,rw(t),p),{documents:p,Qs:c})))))}function ER(r,t,i){let a=r.Os.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Uv{constructor(){this.activeTargetIds=hw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TR{constructor(){this.Mo=new Uv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Uv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="ConnectivityMonitor";class Lv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(Pv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(Pv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function hm(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="RestConnection",bR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Gc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=hm(),p=this.zo(t,i.toUriEncodedString());lt(kd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),A=go(_);return this.Jo(t,p,y,a,A).then((b=>(lt(kd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw oo(kd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=bR[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class RR extends SR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=hm();return new Promise(((p,y)=>{const _=new k0;_.setWithCredentials(!0),_.listenOnce(z0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Oc.NO_ERROR:const b=_.getResponseJson();lt(en,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Oc.TIMEOUT:lt(en,`RPC '${t}' ${d} timed out`),y(new at(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const V=_.getStatus();if(lt(en,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const W=K?.error;if(W&&W.status&&W.message){const st=(function(dt){const gt=dt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(gt)>=0?gt:Y.UNKNOWN})(W.status);y(new at(st,W.message))}else y(new at(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new at(Y.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{lt(en,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);lt(en,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=hm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=q0(),p=B0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");lt(en,`Creating RPC '${t}' stream ${l}: ${A}`,y);const b=d.createWebChannel(A,y);this.I_(b);let V=!1,K=!1;const W=new wR({Yo:J=>{K?lt(en,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(V||(lt(en,`Opening RPC '${t}' stream ${l} transport.`),b.open(),V=!0),lt(en,`RPC '${t}' stream ${l} sending:`,J),b.send(J))},Zo:()=>b.close()}),st=(J,dt,gt)=>{J.listen(dt,(mt=>{try{gt(mt)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return st(b,Sl.EventType.OPEN,(()=>{K||(lt(en,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),st(b,Sl.EventType.CLOSE,(()=>{K||(K=!0,lt(en,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(b))})),st(b,Sl.EventType.ERROR,(J=>{K||(K=!0,oo(en,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new at(Y.UNAVAILABLE,"The operation could not be completed")))})),st(b,Sl.EventType.MESSAGE,(J=>{if(!K){const dt=J.data[0];Yt(!!dt,16349);const gt=dt,mt=gt?.error||gt[0]?.error;if(mt){lt(en,`RPC '${t}' stream ${l} received error:`,mt);const qt=mt.status;let Ht=(function(w){const R=De[w];if(R!==void 0)return bE(R)})(qt),xt=mt.message;Ht===void 0&&(Ht=Y.INTERNAL,xt="Unknown error status: "+qt+" with message "+mt.message),K=!0,W.a_(new at(Ht,xt)),b.close()}else lt(en,`RPC '${t}' stream ${l} received:`,dt),W.u_(dt)}})),st(p,j0.STAT_EVENT,(J=>{J.stat===Jd.PROXY?lt(en,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Jd.NOPROXY&&lt(en,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(r){return new xw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&lt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="PersistentStream";class kE{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(us(i.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new at(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(kv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(lt(kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CR extends kE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Vw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Oi(d.readTime):At.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=um(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=im(y)?{documents:Pw(c,y)}:{query:Lw(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=RE(c,d.resumeToken);const _=am(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=$c(c,d.snapshotVersion.toTimestamp());const _=am(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=zw(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=um(this.serializer),i.removeTarget=t,this.q_(i)}}class IR extends kE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Uw(t.writeResults,t.commitTime),a=Oi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=um(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Mw(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{}class xR extends NR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,om(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(Y.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,om(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="RemoteStore";class OR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ia(this)&&(lt(ta,"Restarting streams for network reachability change."),await(async function(y){const _=St(y);_.Ea.add(4),await Yl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await _h(_)})(this))}))})),this.Ra=new DR(a,l)}}async function _h(r){if(ia(r))for(const t of r.da)await t(!0)}async function Yl(r){for(const t of r.da)await t(!1)}function zE(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),qm(i)?Bm(i):To(i).O_()&&jm(i,t))}function zm(r,t){const i=St(r),a=To(i);i.Ia.delete(t),a.O_()&&jE(i,t),i.Ia.size===0&&(a.O_()?a.L_():ia(i)&&i.Ra.set("Unknown"))}function jm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}To(r).Y_(t)}function jE(r,t){r.Va.Ue(t),To(r).Z_(t)}function Bm(r){r.Va=new Rw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),To(r).start(),r.Ra.ua()}function qm(r){return ia(r)&&!To(r).x_()&&r.Ia.size>0}function ia(r){return St(r).Ea.size===0}function BE(r){r.Va=void 0}async function VR(r){r.Ra.set("Online")}async function MR(r){r.Ia.forEach(((t,i)=>{jm(r,t)}))}async function UR(r,t){BE(r),qm(r)?(r.Ra.ha(t),Bm(r)):r.Ra.set("Unknown")}async function PR(r,t,i){if(r.Ra.set("Online"),t instanceof wE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){lt(ta,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Jc(r,a)}else if(t instanceof Pc?r.Va.Ze(t):t instanceof SE?r.Va.st(t):r.Va.tt(t),!i.isEqual(At.min()))try{const a=await PE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(We.EMPTY_BYTE_STRING,A.snapshotVersion)),jE(c,y);const b=new er(A.target,y,_,A.sequenceNumber);jm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){lt(ta,"Failed to raise snapshot:",a),await Jc(r,a)}}async function Jc(r,t,i){if(!vo(t))throw t;r.Ea.add(1),await Yl(r),r.Ra.set("Offline"),i||(i=()=>PE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(ta,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await _h(r)}))}function qE(r,t){return t().catch((i=>Jc(r,i,t)))}async function vh(r){const t=St(r),i=fr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:wm;for(;LR(t);)try{const l=await _R(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,kR(t,l)}catch(l){await Jc(t,l)}HE(t)&&FE(t)}function LR(r){return ia(r)&&r.Ta.length<10}function kR(r,t){r.Ta.push(t);const i=fr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function HE(r){return ia(r)&&!fr(r).x_()&&r.Ta.length>0}function FE(r){fr(r).start()}async function zR(r){fr(r).ra()}async function jR(r){const t=fr(r);for(const i of r.Ta)t.ea(i.mutations)}async function BR(r,t,i){const a=r.Ta.shift(),l=Om.from(a,t,i);await qE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await vh(r)}async function qR(r,t){t&&fr(r).X_&&await(async function(a,l){if((function(d){return bw(d)&&d!==Y.ABORTED})(l.code)){const c=a.Ta.shift();fr(a).B_(),await qE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await vh(a)}})(r,t),HE(r)&&FE(r)}async function zv(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),lt(ta,"RemoteStore received new credentials");const a=ia(i);i.Ea.add(3),await Yl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await _h(i)}async function HR(r,t){const i=St(r);t?(i.Ea.delete(2),await _h(i)):t||(i.Ea.add(2),await Yl(i),i.Ra.set("Unknown"))}function To(r){return r.ma||(r.ma=(function(i,a,l){const c=St(i);return c.sa(),new CR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:VR.bind(null,r),t_:MR.bind(null,r),r_:UR.bind(null,r),H_:PR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),qm(r)?Bm(r):r.Ra.set("Unknown")):(await r.ma.stop(),BE(r))}))),r.ma}function fr(r){return r.fa||(r.fa=(function(i,a,l){const c=St(i);return c.sa(),new IR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:zR.bind(null,r),r_:qR.bind(null,r),ta:jR.bind(null,r),na:BR.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await vh(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(ta,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Hm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(r,t){if(us("AsyncQueue",`${t}: ${r}`),vo(r))return new at(Y.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=wl(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new to;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.ga=new me(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class fo{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new fo(t,i,to.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class GR{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),c=l.queries;l.queries=Bv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new at(Y.ABORTED,"Firestore shutting down"))}}function Bv(){return new na((r=>hE(r)),fh)}async function QR(r,t){const i=St(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new FR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Fm(d,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Gm(i)}async function KR(r,t){const i=St(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YR(r,t){const i=St(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Gm(i)}function XR(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Gm(r){r.Ca.forEach((t=>{t.next()}))}var fm,qv;(qv=fm||(fm={})).Ma="default",qv.Cache="cache";class $R{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new fo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=fo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t){this.key=t}}class QE{constructor(t){this.key=t}}class ZR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=fE(t),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new jv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const V=l.get(A),K=dh(this.query,b)?b:null,W=!!V&&this.mutatedKeys.has(V.key),st=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let J=!1;V&&K?V.data.isEqual(K.data)?W!==st&&(a.track({type:3,doc:K}),J=!0):this.su(V,K)||(a.track({type:2,doc:K}),J=!0,(y&&this.eu(K,y)>0||_&&this.eu(K,_)<0)&&(p=!0)):!V&&K?(a.track({type:0,doc:K}),J=!0):V&&!K&&(a.track({type:1,doc:V}),J=!0,(y||_)&&(p=!0)),J&&(K?(d=d.add(K),c=st?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(K,W){const st=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:J})}};return st(K)-st(W)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new fo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new QE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new GE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qm="SyncEngine";class JR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class WR{constructor(t){this.key=t,this.hu=!1}}class t2{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new na((p=>hE(p)),fh),this.Iu=new Map,this.Eu=new Set,this.du=new me(ft.comparator),this.Au=new Map,this.Ru=new Um,this.Vu={},this.mu=new Map,this.fu=ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function e2(r,t,i=!0){const a=JE(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await KE(a,t,i,!0),l}async function n2(r,t){const i=JE(r);await KE(i,t,!0,!1)}async function KE(r,t,i,a){const l=await vR(r.localStore,Di(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await i2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&zE(r.remoteStore,l),p}async function i2(r,t,i,a,l){r.pu=(b,V,K)=>(async function(st,J,dt,gt){let mt=J.view.ru(dt);mt.Cs&&(mt=await Mv(st.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,mt))));const qt=gt&&gt.targetChanges.get(J.targetId),Ht=gt&&gt.targetMismatches.get(J.targetId)!=null,xt=J.view.applyChanges(mt,st.isPrimaryClient,qt,Ht);return Fv(st,J.targetId,xt.au),xt.snapshot})(r,b,V,K);const c=await Mv(r.localStore,t,!0),d=new ZR(t,c.Qs),p=d.ru(c.documents),y=Kl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);Fv(r,i,_.au);const A=new JR(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function s2(r,t,i){const a=St(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!fh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await cm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&zm(a.remoteStore,l.targetId),dm(a,l.targetId)})).catch(_o)):(dm(a,l.targetId),await cm(a.localStore,l.targetId,!0))}async function r2(r,t){const i=St(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),zm(i.remoteStore,a.targetId))}async function a2(r,t,i){const a=d2(r);try{const l=await(function(d,p){const y=St(d),_=oe.now(),A=p.reduce(((K,W)=>K.add(W.key)),zt());let b,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let W=cs(),st=zt();return y.Ns.getEntries(K,A).next((J=>{W=J,W.forEach(((dt,gt)=>{gt.isValidDocument()||(st=st.add(dt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(K,W))).next((J=>{b=J;const dt=[];for(const gt of p){const mt=_w(gt,b.get(gt.key).overlayedDocument);mt!=null&&dt.push(new gr(gt.key,mt,nE(mt.value.mapValue),xn.exists(!0)))}return y.mutationQueue.addMutationBatch(K,_,dt,p)})).next((J=>{V=J;const dt=J.applyToLocalDocumentSet(b,st);return y.documentOverlayCache.saveOverlays(K,J.batchId,dt)}))})).then((()=>({batchId:V.batchId,changes:mE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new me(kt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Xl(a,l.changes),await vh(a.remoteStore)}catch(l){const c=Fm(l,"Failed to persist write");i.reject(c)}}async function YE(r,t){const i=St(r);try{const a=await pR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await Xl(i,a,t)}catch(a){await _o(a)}}function Hv(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=St(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,b)=>{for(const V of b.Sa)V.va(p)&&(_=!0)})),_&&Gm(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function o2(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new me(ft.comparator);d=d.insert(c,sn.newNoDocument(c,At.min()));const p=zt().add(c),y=new ph(At.min(),new Map,new me(kt),d,p);await YE(a,y),a.du=a.du.remove(c),a.Au.delete(t),Km(a)}else await cm(a.localStore,t,!1).then((()=>dm(a,t,i))).catch(_o)}async function l2(r,t){const i=St(r),a=t.batch.batchId;try{const l=await gR(i.localStore,t);$E(i,a,null),XE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xl(i,l)}catch(l){await _o(l)}}async function u2(r,t,i){const a=St(r);try{const l=await(function(d,p){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((b=>(Yt(b!==null,37113),A=b.keys(),y.mutationQueue.removeMutationBatch(_,b)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);$E(a,t,i),XE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Xl(a,l)}catch(l){await _o(l)}}function XE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function $E(r,t,i){const a=St(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function dm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||ZE(r,a)}))}function ZE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(zm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Km(r))}function Fv(r,t,i){for(const a of i)a instanceof GE?(r.Ru.addReference(a.key,t),c2(r,a)):a instanceof QE?(lt(Qm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||ZE(r,a.key)):vt(19791,{wu:a})}function c2(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(lt(Qm,"New document in limbo: "+i),r.Eu.add(a),Km(r))}function Km(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ft(ae.fromString(t)),a=r.fu.next();r.Au.set(a,new WR(i)),r.du=r.du.insert(i,a),zE(r.remoteStore,new er(Di(uE(i.path)),a,"TargetPurposeLimboResolution",uh.ce))}}async function Xl(r,t,i){const a=St(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Lm.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const A=St(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(_,(V=>Z.forEach(V.Es,(K=>A.persistence.referenceDelegate.addReference(b,V.targetId,K))).next((()=>Z.forEach(V.ds,(K=>A.persistence.referenceDelegate.removeReference(b,V.targetId,K)))))))))}catch(b){if(!vo(b))throw b;lt(km,"Failed to update sequence numbers: "+b)}for(const b of _){const V=b.targetId;if(!b.fromCache){const K=A.Ms.get(V),W=K.snapshotVersion,st=K.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(V,st)}}})(a.localStore,c))}async function h2(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){lt(Qm,"User change. New user:",t.toKey());const a=await UE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new at(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xl(i,a.Ls)}}function f2(r,t){const i=St(r),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function JE(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=YE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=f2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=o2.bind(null,t),t.Pu.H_=YR.bind(null,t.eventManager),t.Pu.yu=XR.bind(null,t.eventManager),t}function d2(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=l2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=u2.bind(null,t),t}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return mR(this.persistence,new hR,t.initialUser,this.serializer)}Cu(t){return new ME(Pm.mi,this.serializer)}Du(t){return new TR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class m2 extends Wc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof Zc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new $w(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new ME((a=>Zc.mi(a,i)),this.serializer)}}class mm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Hv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=h2.bind(null,this.syncEngine),await HR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new GR})()}createDatastore(t){const i=yh(t.databaseInfo.databaseId),a=(function(c){return new RR(c)})(t.databaseInfo);return(function(c,d,p,y){return new xR(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new OR(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Hv(this.syncEngine,i,0)),(function(){return Lv.v()?new Lv:new AR})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const b=new t2(l,c,d,p,y,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);lt(ta,"RemoteStore shutting down."),a.Ea.add(5),await Yl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mm.provider={build:()=>new mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):us("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="FirestoreClient";class p2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=Sm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{lt(dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt(dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Fm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function jd(r,t){r.asyncQueue.verifyOperationInProgress(),lt(dr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await UE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Gv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await y2(r);lt(dr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>zv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>zv(t.remoteStore,l))),r._onlineComponents=t}async function y2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(dr,"Using user provided OfflineComponentProvider");try{await jd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;oo("Error using user provided cache. Falling back to memory cache: "+i),await jd(r,new Wc)}}else lt(dr,"Using default OfflineComponentProvider"),await jd(r,new m2(void 0));return r._offlineComponents}async function WE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(dr,"Using user provided OnlineComponentProvider"),await Gv(r,r._uninitializedComponentsProvider._online)):(lt(dr,"Using default OnlineComponentProvider"),await Gv(r,new mm))),r._onlineComponents}function _2(r){return WE(r).then((t=>t.syncEngine))}async function v2(r){const t=await WE(r),i=t.eventManager;return i.onListen=e2.bind(null,t.syncEngine),i.onUnlisten=s2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=n2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=r2.bind(null,t.syncEngine),i}function E2(r,t,i={}){const a=new ar;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const A=new g2({next:V=>{A.Nu(),d.enqueueAndForget((()=>KR(c,b))),V.fromCache&&y.source==="server"?_.reject(new at(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(V)},error:V=>_.reject(V)}),b=new $R(p,A,{includeMetadataChanges:!0,qa:!0});return QR(c,b)})(await v2(r),r.asyncQueue,t,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firestore.googleapis.com",Kv=!0;class Yv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eT,this.ssl=Kv}else this.host=t.host,this.ssl=t.ssl??Kv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Yw)throw new at(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}O1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Eh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new A1;switch(a.type){case"firstParty":return new R1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Qv.get(i);a&&(lt("ComponentProvider","Removing Datastore"),Qv.delete(i),a.terminate())})(this),Promise.resolve()}}function T2(r,t,i,a={}){r=Wr(r,Eh);const l=go(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(N0(`https://${p}`),x0("Firestore",!0)),c.host!==eT&&c.host!==p&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!$r(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=nn.MOCK_USER;else{_=Xb(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new at(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new nn(b)}r._authCredentials=new b1(new F0(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new sa(this.firestore,t,this._query)}}class Pe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Gl(i,Pe._jsonSchema))return new Pe(t,a||null,new ft(ae.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Ve("string",Pe._jsonSchemaVersion),referencePath:Ve("string")};class or extends sa{constructor(t,i,a){super(t,i,uE(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new ft(t))}withConverter(t){return new or(this.firestore,t,this._path)}}function Bd(r,t,...i){if(r=ke(r),G0("collection","path",t),r instanceof Eh){const a=ae.fromString(t,...i);return ov(a),new or(r,null,a)}{if(!(r instanceof Pe||r instanceof or))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ae.fromString(t,...i));return ov(a),new or(r.firestore,null,a)}}function Cl(r,t,...i){if(r=ke(r),arguments.length===1&&(t=Sm.newId()),G0("doc","path",t),r instanceof Eh){const a=ae.fromString(t,...i);return av(a),new Pe(r,null,new ft(a))}{if(!(r instanceof Pe||r instanceof or))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ae.fromString(t,...i));return av(a),new Pe(r.firestore,r instanceof or?r.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="AsyncQueue";class $v{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LE(this,"async_queue_retry"),this._c=()=>{const a=zd();a&&lt(Xv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!vo(t))throw t;lt(Xv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",Zv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Hm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:Zv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Zv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class $l extends Eh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new $v,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $v(t),this._firestoreClient=void 0,await t}}}function A2(r,t){const i=typeof r=="object"?r:M0(),a=typeof r=="string"?r:Gc,l=Am(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Kb("firestore");c&&T2(l,...c)}return l}function Ym(r){if(r._terminated)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||b2(r),r._firestoreClient}function b2(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new H1(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,tT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new p2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(We.fromBase64String(t))}catch(i){throw new at(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Fn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gl(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ve("string",Fn._jsonSchemaVersion),bytes:Ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(Gl(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Ve("string",Vi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gl(t,Mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Mi(t.vectorValues);throw new at(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Ve("string",Mi._jsonSchemaVersion),vectorValues:Ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=/^__.*__$/;class w2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(t,this.data,i,this.fieldTransforms)}}class nT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new gr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function iT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class $m{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new $m({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return th(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(iT(this.Ac)&&S2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class R2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||yh(t)}Cc(t,i,a,l=!1){return new $m({Ac:t,methodName:i,Dc:a,path:Je.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Th(r){const t=r._freezeSettings(),i=yh(r._databaseId);return new R2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function sT(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);Zm("Data must be an object, but it was:",d,a);const p=oT(a,d);let y,_;if(c.merge)y=new Nn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const V=gm(t,b,i);if(!d.contains(V))throw new at(Y.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);uT(A,V)||A.push(V)}y=new Nn(A),_=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,_=d.fieldTransforms;return new w2(new yn(p),y,_)}class Ah extends Xm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ah}}function rT(r,t,i,a){const l=r.Cc(1,t,i);Zm("Data must be an object, but it was:",l,a);const c=[],d=yn.empty();mr(a,((y,_)=>{const A=Jm(t,y,i);_=ke(_);const b=l.yc(A);if(_ instanceof Ah)c.push(A);else{const V=Jl(_,b);V!=null&&(c.push(A),d.set(A,V))}}));const p=new Nn(c);return new nT(d,p,l.fieldTransforms)}function aT(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[gm(t,a,i)],y=[l];if(c.length%2!=0)throw new at(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(gm(t,c[V])),y.push(c[V+1]);const _=[],A=yn.empty();for(let V=p.length-1;V>=0;--V)if(!uT(_,p[V])){const K=p[V];let W=y[V];W=ke(W);const st=d.yc(K);if(W instanceof Ah)_.push(K);else{const J=Jl(W,st);J!=null&&(_.push(K),A.set(K,J))}}const b=new Nn(_);return new nT(A,b,d.fieldTransforms)}function C2(r,t,i,a=!1){return Jl(i,r.Cc(a?4:3,t))}function Jl(r,t){if(lT(r=ke(r)))return Zm("Unsupported field value:",t,r),oT(r,t);if(r instanceof Xm)return(function(a,l){if(!iT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Jl(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=ke(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return fw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=oe.fromDate(a);return{timestampValue:$c(l.serializer,c)}}if(a instanceof oe){const c=new oe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:$c(l.serializer,c)}}if(a instanceof Vi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Fn)return{bytesValue:RE(l.serializer,a._byteString)};if(a instanceof Pe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Mm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Mi)return(function(d,p){return{mapValue:{fields:{[tE]:{stringValue:eE},[Qc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return xm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${lh(a)}`)})(r,t)}function oT(r,t){const i={};return Y0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mr(r,((a,l)=>{const c=Jl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function lT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof oe||r instanceof Vi||r instanceof Fn||r instanceof Pe||r instanceof Xm||r instanceof Mi)}function Zm(r,t,i){if(!lT(i)||!Q0(i)){const a=lh(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function gm(r,t,i){if((t=ke(t))instanceof Zl)return t._internalPath;if(typeof t=="string")return Jm(r,t);throw th("Field path arguments must be of type string or ",r,!1,void 0,i)}const I2=new RegExp("[~\\*/\\[\\]]");function Jm(r,t,i){if(t.search(I2)>=0)throw th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Zl(...t.split("."))._internalPath}catch{throw th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function th(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new at(Y.INVALID_ARGUMENT,p+r+y)}function uT(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new N2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(bh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class N2 extends cT{data(){return super.data()}}function bh(r,t){return typeof t=="string"?Jm(r,t):t instanceof Zl?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class hT extends Wm{}function Jv(r,t,...i){let a=[];t instanceof Wm&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof tg)).length,p=c.filter((y=>y instanceof Sh)).length;if(d>1||d>0&&p>0)throw new at(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class Sh extends hT{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new Sh(t,i,a)}_apply(t){const i=this._parse(t);return fT(t._query,i),new sa(t.firestore,t.converter,sm(t._query,i))}_parse(t){const i=Th(t.firestore);return(function(c,d,p,y,_,A,b){let V;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){e0(b,A);const W=[];for(const st of b)W.push(t0(y,c,st));V={arrayValue:{values:W}}}else V=t0(y,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||e0(b,A),V=C2(p,d,b,A==="in"||A==="not-in");return Oe.create(_,A,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function D2(r,t,i){const a=t,l=bh("where",r);return Sh._create(l,a,i)}class tg extends Wm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new tg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:li.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)fT(d,y),d=sm(d,y)})(t._query,i),new sa(t.firestore,t.converter,sm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eg extends hT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new eg(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zl(c,d)})(t._query,this._field,this._direction);return new sa(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Eo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function Wv(r,t="asc"){const i=t,a=bh("orderBy",r);return eg._create(a,i)}function t0(r,t,i){if(typeof(i=ke(i))=="string"){if(i==="")throw new at(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cE(t)&&i.indexOf("/")!==-1)throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(ae.fromString(i));if(!ft.isDocumentKey(a))throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return gv(r,new ft(a))}if(i instanceof Pe)return gv(r,i._key);throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(i)}.`)}function e0(r,t){if(!Array.isArray(r)||r.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function fT(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class O2{convertValue(t,i="none"){switch(hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return mr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Qc].arrayValue?.values?.map((a=>be(a.doubleValue)));return new Mi(i)}convertGeoPoint(t){return new Vi(be(t.latitude),be(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Pl(t));default:return null}}convertTimestamp(t){const i=ur(t);return new oe(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ae.fromString(t);Yt(OE(a),9688,{name:t});const l=new Ll(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return l.isEqual(i)||us(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class xc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class eo extends cT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(bh("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=eo._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:Ve("string",eo._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Lc extends eo{data(t={}){return super.data(t)}}class no{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new xc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Lc(this._firestore,this._userDataWriter,a.key,a,new xc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Lc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new xc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Lc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new xc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:V2(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=no._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Sm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function V2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Ve("string",no._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class M2 extends O2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}function U2(r){r=Wr(r,sa);const t=Wr(r.firestore,$l),i=Ym(t),a=new M2(t);return x2(r._query),E2(i,r._query).then((l=>new no(t,a,r,l)))}function qd(r,t,i,...a){r=Wr(r,Pe);const l=Wr(r.firestore,$l),c=Th(l);let d;return d=typeof(t=ke(t))=="string"||t instanceof Zl?aT(c,"updateDoc",r._key,t,i,a):rT(c,"updateDoc",r._key,t),ng(l,[d.toMutation(r._key,xn.exists(!0))])}function P2(r,t){const i=Wr(r.firestore,$l),a=Cl(r),l=dT(r.converter,t);return ng(i,[sT(Th(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,xn.exists(!1))]).then((()=>a))}function ng(r,t){return(function(a,l){const c=new ar;return a.asyncQueue.enqueueAndForget((async()=>a2(await _2(a),l,c))),c.promise})(Ym(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Th(t)}set(t,i,a){this._verifyNotCommitted();const l=Hd(t,this._firestore),c=dT(l.converter,i,a),d=sT(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,xn.none())),this}update(t,i,a,...l){this._verifyNotCommitted();const c=Hd(t,this._firestore);let d;return d=typeof(i=ke(i))=="string"||i instanceof Zl?aT(this._dataReader,"WriteBatch.update",c._key,i,a,l):rT(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,xn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=Hd(t,this._firestore);return this._mutations=this._mutations.concat(new Dm(i._key,xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new at(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hd(r,t){if((r=ke(r)).firestore!==t)throw new at(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(r){return Ym(r=Wr(r,$l)),new L2(r,(t=>ng(r,t)))}(function(t,i=!0){(function(l){yo=l})(po),ao(new Zr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new $l(new S1(a.getProvider("auth-internal")),new C1(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),sr(nv,iv,t),sr(nv,iv,"esm2020")})();function mT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z2=mT,gT=new Hl("auth","Firebase",mT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Em("@firebase/auth");function j2(r,...t){eh.logLevel<=Lt.WARN&&eh.warn(`Auth (${po}): ${r}`,...t)}function kc(r,...t){eh.logLevel<=Lt.ERROR&&eh.error(`Auth (${po}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(r,...t){throw sg(r,...t)}function oi(r,...t){return sg(r,...t)}function ig(r,t,i){const a={...z2(),[t]:i};return new Hl("auth","Firebase",a).create(t,{appName:r.name})}function Xr(r){return ig(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function B2(r,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Li(r,"argument-error"),ig(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sg(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return gT.create(r,...t)}function Tt(r,t,...i){if(!r)throw sg(t,...i)}function as(r){const t="INTERNAL ASSERTION FAILED: "+r;throw kc(t),new Error(t)}function hs(r,t){r||as(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(){return typeof self<"u"&&self.location?.href||""}function q2(){return n0()==="http:"||n0()==="https:"}function n0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q2()||eS()||"connection"in navigator)?navigator.onLine:!0}function F2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,i){this.shortDelay=t,this.longDelay=i,hs(i>t,"Short delay should be less than long delay!"),this.isMobile=Jb()||nS()}get(){return H2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(r,t){hs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K2=new Wl(3e4,6e4);function ag(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Ao(r,t,i,a,l={}){return yT(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Fl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return tS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&go(r.emulatorConfig.host)&&(_.credentials="include"),pT.fetch()(await _T(r,r.config.apiHost,i,p),_)})}async function yT(r,t,i){r._canInitEmulator=!1;const a={...G2,...t};try{const l=new X2(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Dc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Dc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Dc(r,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw ig(r,A,_);Li(r,A)}}catch(l){if(l instanceof fs)throw l;Li(r,"network-request-failed",{message:String(l)})}}async function Y2(r,t,i,a,l={}){const c=await Ao(r,t,i,a,l);return"mfaPendingCredential"in c&&Li(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function _T(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?rg(r.config,l):`${r.config.apiScheme}://${l}`;return Q2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class X2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(oi(this.auth,"network-request-failed")),K2.get())})}}function Dc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=oi(r,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(r,t){return Ao(r,"POST","/v1/accounts:delete",t)}async function nh(r,t){return Ao(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Z2(r,t=!1){const i=ke(r),a=await i.getIdToken(t),l=og(a);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Vl(Fd(l.auth_time)),issuedAtTime:Vl(Fd(l.iat)),expirationTime:Vl(Fd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(r){return Number(r)*1e3}function og(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const l=w0(i);return l?JSON.parse(l):(kc("Failed to decode base64 JWT payload"),null)}catch(l){return kc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function i0(r){const t=og(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof fs&&J2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function J2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(r){const t=r.auth,i=await r.getIdToken(),a=await ql(r,nh(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?vT(l.providerUserInfo):[],d=eC(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function tC(r){const t=ke(r);await ih(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function vT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(r,t){const i=await yT(r,{},async()=>{const a=Fl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await _T(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&go(r.emulatorConfig.host)&&(y.credentials="include"),pT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function iC(r,t){return Ao(r,"POST","/v2/accounts:revokeToken",ag(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):i0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=i0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await nC(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new io;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ai{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new W2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await ql(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Z2(this,t)}reload(){return tC(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(Xr(this.auth));const t=await this.getIdToken();return await ql(this,$2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:V,isAnonymous:K,providerData:W,stsTokenManager:st}=i;Tt(b&&st,t,"internal-error");const J=io.fromJSON(this.name,st);Tt(typeof b=="string",t,"internal-error"),$s(a,t.name),$s(l,t.name),Tt(typeof V=="boolean",t,"internal-error"),Tt(typeof K=="boolean",t,"internal-error"),$s(c,t.name),$s(d,t.name),$s(p,t.name),$s(y,t.name),$s(_,t.name),$s(A,t.name);const dt=new ai({uid:b,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:A});return W&&Array.isArray(W)&&(dt.providerData=W.map(gt=>({...gt}))),y&&(dt._redirectEventId=y),dt}static async _fromIdTokenResponse(t,i,a=!1){const l=new io;l.updateFromServerResponse(i);const c=new ai({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await ih(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?vT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new io;p.updateFromIdToken(a);const y=new ai({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=new Map;function os(r){hs(r instanceof Function,"Expected a class definition");let t=s0.get(r);return t?(hs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,s0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}ET.type="NONE";const r0=ET;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(r,t,i){return`firebase:${r}:${t}:${i}`}class so{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await nh(this.auth,{idToken:t}).catch(()=>{});return i?ai._fromGetAccountInfoResponse(this.auth,i,t):null}return ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new so(os(r0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||os(r0);const d=zc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let b;if(typeof A=="string"){const V=await nh(t,{idToken:A}).catch(()=>{});if(!V)break;b=await ai._fromGetAccountInfoResponse(t,V,A)}else b=ai._fromJSON(t,A);_!==c&&(p=b),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new so(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new so(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ST(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RT(t))return"Blackberry";if(CT(t))return"Webos";if(AT(t))return"Safari";if((t.includes("chrome/")||bT(t))&&!t.includes("edge/"))return"Chrome";if(wT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function TT(r=rn()){return/firefox\//i.test(r)}function AT(r=rn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bT(r=rn()){return/crios\//i.test(r)}function ST(r=rn()){return/iemobile/i.test(r)}function wT(r=rn()){return/android/i.test(r)}function RT(r=rn()){return/blackberry/i.test(r)}function CT(r=rn()){return/webos/i.test(r)}function lg(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sC(r=rn()){return lg(r)&&!!window.navigator?.standalone}function rC(){return iS()&&document.documentMode===10}function IT(r=rn()){return lg(r)||wT(r)||CT(r)||RT(r)||/windows phone/i.test(r)||ST(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(r,t=[]){let i;switch(r){case"Browser":i=a0(rn());break;case"Worker":i=`${a0(rn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${po}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(r,t={}){return Ao(r,"GET","/v2/passwordPolicy",ag(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=6;class uC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??lC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o0(this),this.idTokenSubscription=new o0(this),this.beforeStateQueue=new aC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=os(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await nh(this,{idToken:t}),a=await ai._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ih(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=F2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ri(this.app))return Promise.reject(Xr(this));const i=t?ke(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ri(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await oC(this),i=new uC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await iC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&os(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[os(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=NT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&j2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function wh(r){return ke(r)}class o0{constructor(t){this.auth=t,this.observer=null,this.addObserver=hS(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hC(r){ug=r}function fC(r){return ug.loadJS(r)}function dC(){return ug.gapiScript}function mC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(r,t){const i=Am(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if($r(c,t??{}))return l;Li(l,"already-initialized")}return i.initialize({options:t})}function pC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(os);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function yC(r,t,i){const a=wh(r);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=xT(t),{host:d,port:p}=_C(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt($r(_,a.config.emulator)&&$r(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,go(d)?(N0(`${c}//${d}${y}`),x0("Auth",!0)):vC()}function xT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function _C(r){const t=xT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:l0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:l0(d)}}}function l0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function vC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return as("not implemented")}_getIdTokenResponse(t){return as("not implemented")}_linkToIdToken(t,i){return as("not implemented")}_getReauthenticationResolver(t){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(r,t){return Y2(r,"POST","/v1/accounts:signInWithIdp",ag(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="http://localhost";class ea extends DT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ea(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Li("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ea(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ro(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,ro(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ro(t,i)}buildRequest(){const t={requestUri:EC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Fl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends cg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends tu{constructor(){super("facebook.com")}static credential(t){return ea._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ea._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return rs.credentialFromTaggedObject(t)}static credentialFromError(t){return rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return rs.credential(i,a)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends tu{constructor(){super("github.com")}static credential(t){return ea._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends tu{constructor(){super("twitter.com")}static credential(t,i){return ea._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return tr.credential(i,a)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ai._fromIdTokenResponse(t,a,l),d=u0(a);return new mo({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=u0(a);return new mo({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function u0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends fs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new sh(t,i,a,l)}}function OT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(r,c,t,a):c})}async function TC(r,t,i=!1){const a=await ql(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return mo._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(r,t,i=!1){const{auth:a}=r;if(ri(a.app))return Promise.reject(Xr(a));const l="reauthenticate";try{const c=await ql(r,OT(a,l,t,r),i);Tt(c.idToken,a,"internal-error");const d=og(c.idToken);Tt(d,a,"internal-error");const{sub:p}=d;return Tt(r.uid===p,a,"user-mismatch"),mo._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Li(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(r,t,i=!1){if(ri(r.app))return Promise.reject(Xr(r));const a="signIn",l=await OT(r,a,t),c=await mo._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function SC(r,t,i,a){return ke(r).onIdTokenChanged(t,i,a)}function wC(r,t,i){return ke(r).beforeAuthStateChanged(t,i)}function RC(r,t,i,a){return ke(r).onAuthStateChanged(t,i,a)}function CC(r){return ke(r).signOut()}const rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=1e3,NC=10;class MT extends VT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);rC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,NC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},IC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}MT.type="LOCAL";const xC=MT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends VT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}UT.type="SESSION";const PT=UT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Rh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await DC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=hg("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const V=b;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function VC(r){Ui().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function MC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UC(){return navigator?.serviceWorker?.controller||null}function PC(){return LT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="firebaseLocalStorageDb",LC=1,ah="firebaseLocalStorage",zT="fbase_key";class eu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ch(r,t){return r.transaction([ah],t?"readwrite":"readonly").objectStore(ah)}function kC(){const r=indexedDB.deleteDatabase(kT);return new eu(r).toPromise()}function _m(){const r=indexedDB.open(kT,LC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(ah,{keyPath:zT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(ah)?t(a):(a.close(),await kC(),t(await _m()))})})}async function c0(r,t,i){const a=Ch(r,!0).put({[zT]:t,value:i});return new eu(a).toPromise()}async function zC(r,t){const i=Ch(r,!1).get(t),a=await new eu(i).toPromise();return a===void 0?null:a.value}function h0(r,t){const i=Ch(r,!0).delete(t);return new eu(i).toPromise()}const jC=800,BC=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>BC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(PC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MC(),!this.activeServiceWorker)return;this.sender=new OC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||UC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _m();return await c0(t,rh,"1"),await h0(t,rh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>c0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>zC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>h0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Ch(l,!1).getAll();return new eu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const qC=jT;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(r,t){return t?os(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends DT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ro(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ro(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function HC(r){return bC(r.auth,new fg(r),r.bypassAuthState)}function FC(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),AC(i,new fg(r),r.bypassAuthState)}async function GC(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),TC(i,new fg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return HC;case"linkViaPopup":case"linkViaRedirect":return GC;case"reauthViaPopup":case"reauthViaRedirect":return FC;default:Li(this.auth,"internal-error")}}resolve(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new Wl(2e3,1e4);async function KC(r,t,i){if(ri(r.app))return Promise.reject(oi(r,"operation-not-supported-in-this-environment"));const a=wh(r);B2(r,t,cg);const l=BT(a,i);return new Yr(a,"signInViaPopup",t,l).executeNotNull()}class Yr extends qT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Yr.currentPopupAction&&Yr.currentPopupAction.cancel(),Yr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const t=hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,QC.get())};t()}}Yr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="pendingRedirect",jc=new Map;class XC extends qT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=jc.get(this.auth._key());if(!t){try{const a=await $C(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}jc.set(this.auth._key(),t)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $C(r,t){const i=WC(t),a=JC(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function ZC(r,t){jc.set(r._key(),t)}function JC(r){return os(r._redirectPersistence)}function WC(r){return zc(YC,r.config.apiKey,r.name)}async function tI(r,t,i=!1){if(ri(r.app))return Promise.reject(Xr(r));const a=wh(r),l=BT(a,t),d=await new XC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=600*1e3;class nI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!HT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(oi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=eI&&this.cachedEventUids.clear(),this.cachedEventUids.has(f0(t))}saveEventToCache(t){this.cachedEventUids.add(f0(t)),this.lastProcessedEventTime=Date.now()}}function f0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function HT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function iI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(r,t={}){return Ao(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aI=/^https?/;async function oI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await sI(r);for(const i of t)try{if(lI(i))return}catch{}Li(r,"unauthorized-domain")}function lI(r){const t=pm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!aI.test(i))return!1;if(rI.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new Wl(3e4,6e4);function d0(){const r=Ui().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function cI(r){return new Promise((t,i)=>{function a(){d0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{d0(),i(oi(r,"network-request-failed"))},timeout:uI.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)a();else{const l=mC("iframefcb");return Ui()[l]=()=>{gapi.load?a():i(oi(r,"network-request-failed"))},fC(`${dC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Bc=null,t})}let Bc=null;function hI(r){return Bc=Bc||cI(r),Bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=new Wl(5e3,15e3),dI="__/auth/iframe",mI="emulator/auth/iframe",gI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yI(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?rg(t,mI):`https://${r.config.authDomain}/${dI}`,a={apiKey:t.apiKey,appName:r.name,v:po},l=pI.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Fl(a).slice(1)}`}async function _I(r){const t=await hI(r),i=Ui().gapi;return Tt(i,r,"internal-error"),t.open({where:document.body,url:yI(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gI,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=oi(r,"network-request-failed"),p=Ui().setTimeout(()=>{c(d)},fI.get());function y(){Ui().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EI=500,TI=600,AI="_blank",bI="http://localhost";class m0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SI(r,t,i,a=EI,l=TI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...vI,width:a.toString(),height:l.toString(),top:c,left:d},_=rn().toLowerCase();i&&(p=bT(_)?AI:i),TT(_)&&(t=t||bI,y.scrollbars="yes");const A=Object.entries(y).reduce((V,[K,W])=>`${V}${K}=${W},`,"");if(sC(_)&&p!=="_self")return wI(t||"",p),new m0(null);const b=window.open(t||"",p,A);Tt(b,r,"popup-blocked");try{b.focus()}catch{}return new m0(b)}function wI(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="__/auth/handler",CI="emulator/auth/handler",II=encodeURIComponent("fac");async function g0(r,t,i,a,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:po,eventId:l};if(t instanceof cg){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",cS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof tu){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await r._getAppCheckToken(),_=y?`#${II}=${encodeURIComponent(y)}`:"";return`${NI(r)}?${Fl(p).slice(1)}${_}`}function NI({config:r}){return r.emulator?rg(r,CI):`https://${r.authDomain}/${RI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="webStorageSupport";class xI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PT,this._completeRedirectFn=tI,this._overrideRedirectResult=ZC}async _openPopup(t,i,a,l){hs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await g0(t,i,a,pm(),l);return SI(t,c,hg())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await g0(t,i,a,pm(),l);return VC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(hs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await _I(t),a=new nI(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Gd,{type:Gd},l=>{const c=l?.[0]?.[Gd];c!==void 0&&i(!!c),Li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=oI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return IT()||AT()||lg()}}const DI=xI;var p0="@firebase/auth",y0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MI(r){ao(new Zr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NT(r)},_=new cC(a,l,c,y);return pC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ao(new Zr("auth-internal",t=>{const i=wh(t.getProvider("auth").getImmediate());return(a=>new OI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(p0,y0,VI(r)),sr(p0,y0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=300,PI=I0("authIdTokenMaxAge")||UI;let _0=null;const LI=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>PI)return;const l=i?.token;_0!==l&&(_0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function kI(r=M0()){const t=Am(r,"auth");if(t.isInitialized())return t.getImmediate();const i=gC(r,{popupRedirectResolver:DI,persistence:[qC,xC,PT]}),a=I0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=LI(c.toString());wC(i,d,()=>d(i.currentUser)),SC(i,p=>d(p))}}const l=R0("auth");return l&&yC(i,`http://${l}`),i}function zI(){return document.getElementsByTagName("head")?.[0]??document}hC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=oi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",zI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MI("Browser");var jI="firebase",BI="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(jI,BI,"app");const qI={apiKey:"AIzaSyBZMKACtQClHgV9_4hAwe4npKPwgBi_3ew",authDomain:"tibex-com-br.firebaseapp.com",projectId:"tibex-com-br",storageBucket:"tibex-com-br.appspot.com",messagingSenderId:"548414150725",appId:"1:548414150725:web:f7e1cc92b24205da582b2c"},FT=V0(qI),Zs=A2(FT),Qd=kI(FT),Gr="cAB72OOZXfgffWXh8Kbyxoo3cFo1",v0=5.97,E0=4.8,HI=r=>{if(!r)return"??";const t=r.trim().split(" ").filter(Boolean);return t.length>1?`${t[0][0]}${t[t.length-1][0]}`.toUpperCase():t.length===1&&t[0].length>1?t[0].substring(0,2).toUpperCase():t.length===1?t[0].substring(0,1).toUpperCase():"??"},FI=({user:r})=>{const[t,i]=Ct.useState(!1);if(Ct.useEffect(()=>{i(!1)},[r.photoURL]),r.photoURL&&!t)return S.jsx("img",{src:r.photoURL,alt:r.displayName||"User",className:"w-full h-full object-cover",onError:()=>i(!0)});const a=HI(r.displayName);return S.jsx("span",{className:"font-bold text-lg text-yellow-400",children:a})};function GI(){const[r,t]=Ct.useState("exchange"),[i,a]=Ct.useState("comprar"),[l,c]=Ct.useState(!1),[d,p]=Ct.useState(25),[y,_]=Ct.useState(0),[A,b]=Ct.useState(!1),[V,K]=Ct.useState(null),[W,st]=Ct.useState(5),J=Ct.useRef(null),dt=Ct.useRef(!1),[gt,mt]=Ct.useState("todas"),[qt,Ht]=Ct.useState(1),[xt,N]=Ct.useState([]),[w,R]=Ct.useState(null),[M,D]=Ct.useState(0),[P,C]=Ct.useState(0),[Wt,ve]=Ct.useState(0),H=typeof d=="number"?d:0,it=i==="comprar"?(H/25*v0).toFixed(2):(H/25*E0).toFixed(2),[et,Mt]=Ct.useState(null),[Nt,O]=Ct.useState(""),[G,nt]=Ct.useState(""),[ot,_t]=Ct.useState(""),[yt,Dt]=Ct.useState("CPF/CNPJ"),[ce,Xt]=Ct.useState(""),Gn=Ct.useRef(null),[ds,Qn]=Ct.useState(!0),[ki,_n]=Ct.useState(!1),[zi,vn]=Ct.useState(null),[ms,Kn]=Ct.useState(null);Ct.useEffect(()=>{const $=RC(Qd,rt=>{if(rt){const Et={uid:rt.uid,displayName:rt.displayName,email:rt.email,photoURL:rt.photoURL};Mt(Et),_t(rt.email||""),Ht(1),t("exchange")}else Mt(null),_t(""),N([]),c(!1),t("exchange");Qn(!1)});return()=>$()},[]);const ge=async()=>{const $=new rs;c(!1);try{await KC(Qd,$)}catch(rt){rt.code==="auth/cancelled-popup-request"||rt.code==="auth/popup-closed-by-user"?console.log("Login cancelado pelo usurio."):(console.error("Erro ao fazer login com Google:",rt),alert(`Erro ao fazer login: ${rt.message}`))}},pe=async()=>{try{await CC(Qd),c(!1)}catch($){console.error("Erro ao fazer logout:",$),alert("Erro ao fazer logout. Tente novamente.")}};Ct.useEffect(()=>{function $(rt){Gn.current&&!Gn.current.contains(rt.target)&&c(!1)}return l&&document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[l]),Ct.useEffect(()=>{if(Nt.trim().length<3){nt(""),vn(null),Kn(null);return}const rt=setTimeout(async()=>{_n(!0),vn(null);try{const Et=await fetch(`https://api.tibiadata.com/v4/character/${encodeURIComponent(Nt.trim())}`),re=await Et.json();Et.ok&&re.character&&re.character.character?(nt(re.character.character.world),Kn(re.character.character.level)):(nt(""),vn("Personagem no encontrado."),Kn(null))}catch(Et){nt(""),vn("Erro ao buscar dados do personagem."),Kn(null),console.error("Erro na API TibiaData:",Et)}finally{_n(!1)}},500);return()=>clearTimeout(rt)},[Nt]),Ct.useEffect(()=>{(async()=>{if(!et){N([]),Qn(!1);return}Qn(!0);try{const rt=et.uid===Gr;let Et;rt?Et=Jv(Bd(Zs,"orders"),Wv("createdAt","desc")):Et=Jv(Bd(Zs,"orders"),D2("userId","==",et.uid),Wv("createdAt","desc"));const Ge=(await U2(Et)).docs.map(ua=>({id:ua.id,...ua.data()}));N(Ge)}catch(rt){console.error("Erro ao buscar pedidos:",rt),alert("Erro ao carregar seus pedidos. Tente novamente.")}Qn(!1)})()},[et]),Ct.useEffect(()=>{if(et?.uid===Gr){const $=xt.filter(Et=>Et.type==="compra"&&Et.status==="Pago").reduce((Et,re)=>Et+re.quantity,0),rt=xt.filter(Et=>Et.type==="venda"&&Et.status==="Concludo").reduce((Et,re)=>Et+re.quantity,0);D($),C(rt),ve($-rt)}},[xt,et]);const ui=async()=>{if(!et){alert("Sesso expirada. Por favor, faa login novamente."),pe();return}if(!Nt||!G||i==="vender"&&!ce){alert("Por favor, preencha todos os campos obrigatrios!"),_(0);return}const $={userId:et.uid,userDisplayName:et.displayName,userEmail:et.email,type:i==="comprar"?"compra":"venda",date:new Date().toLocaleDateString("pt-BR"),charName:Nt,world:G,quantity:d,value:it,status:"Pendente",createdAt:oe.now()};i==="vender"&&($.pixKey=ce,$.keyType=yt);try{const rt=await P2(Bd(Zs,"orders"),$);N(Et=>[{...$,id:rt.id},...Et]),K(rt.id),_(4)}catch(rt){console.error("Erro ao adicionar documento: ",rt),alert("Erro ao enviar o pedido. Tente novamente.")}},pr=($,rt="Texto")=>{navigator.clipboard.writeText($).then(()=>{alert(`${rt} copiado!`)}).catch(Et=>{console.error(`Erro ao copiar ${rt}: `,Et),alert("No foi possvel copiar o texto.")})},ra=$=>{R(rt=>rt===$?null:$)},ze=xt.filter($=>gt==="todas"?!0:gt==="compras"?$.type==="compra":gt==="pago"?$.status==="Pago":gt==="vendas"?$.type==="venda":!1),Yn=4,ci=Math.ceil(ze.length/Yn),gs=qt*Yn,hi=gs-Yn,aa=ze.slice(hi,gs),ps=!et||!Nt.trim()||!G||ki||!!zi||typeof d!="number"||isNaN(d)||d<25||i==="vender"&&!ce.trim(),yr=!A,ys=y>0,je=()=>{p(25),O(""),nt(""),vn(null),Xt(""),Kn(null),Dt("CPF/CNPJ"),_(0),b(!1),K(null),dt.current=!1},Me=()=>{const $=typeof d=="string"&&d!==""?parseInt(d,10):d;if(typeof $!="number"||isNaN($)||$<25){p(25);return}const rt=Math.round($/25)*25;p(Math.max(25,rt))},ln=$=>{const{value:rt}=$.target;if(yt==="CPF/CNPJ"||yt==="Telefone"){const Et=rt.replace(/\D/g,"");Xt(Et.slice(0,15))}else Xt(rt)},de=$=>{Dt($.target.value),Xt("")},oa=async()=>{if(!V)return;dt.current=!0,J.current&&clearInterval(J.current);const $=Cl(Zs,"orders",V);try{await qd($,{status:"Pago"}),N(rt=>rt.map(Et=>Et.id===V?{...Et,status:"Pago"}:Et)),_(6)}catch(rt){console.error("Erro ao simular pagamento: ",rt),alert("No foi possvel confirmar o pagamento.")}},_s=$=>{const rt=$.target.value;rt.length>0?O(rt.charAt(0).toUpperCase()+rt.slice(1)):O("")},la=async $=>{if(!window.confirm('Tem certeza que deseja marcar este pedido como "Concludo"? Esta ao no pode ser desfeita.'))return;const rt=k2(Zs);try{const Et=Cl(Zs,"orders",$);rt.update(Et,{status:"Concludo"}),await rt.commit(),N(re=>re.map(Ge=>Ge.id===$?{...Ge,status:"Concludo"}:Ge))}catch(Et){console.error("Erro ao concluir o pedido:",Et),alert("Ocorreu um erro ao tentar concluir o pedido. Tente novamente.")}};Ct.useEffect(()=>{if(y===4&&V)return st(5),J.current=setInterval(()=>{st($=>{if($<=1){J.current&&clearInterval(J.current);const rt=Cl(Zs,"orders",V);return qd(rt,{status:"Expirado"}),N(Et=>Et.map(re=>re.id===V?{...re,status:"Expirado"}:re)),_(5),0}return $-1})},1e3),()=>{if(J.current&&clearInterval(J.current),y===4&&V&&!dt.current){const $=Cl(Zs,"orders",V);qd($,{status:"Expirado"})}}},[y,V,xt]);const Dn=({currentStep:$})=>S.jsx("div",{className:"flex justify-center items-center gap-4 my-6",children:[1,2,3,4].map(rt=>S.jsx("div",{className:`w-4 h-4 rounded-full transition-colors ${$===rt?"bg-green-500":$>rt?"bg-slate-600":"bg-blue-500"}`},rt))});return S.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 to-slate-800 text-white",children:[S.jsx("header",{className:"pt-6",children:S.jsxs("div",{className:"container mx-auto px-4 max-w-lg relative",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-5xl font-bold text-yellow-500 mb-1",children:"Tibex"}),S.jsx("p",{className:"text-xl text-gray-300",children:"Tibia Exchange"}),S.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Sua fonte de ",S.jsx("span",{className:"text-yellow-500 font-semibold",children:"Tibia Coins"}),"."]})]}),S.jsxs("div",{ref:Gn,className:"absolute top-1/2 right-4 -translate-y-1/2",children:[S.jsx("button",{onClick:()=>!ys&&c(!l),disabled:ys,className:`w-12 h-12 rounded-full bg-slate-800 border-2 flex items-center justify-center transition-colors overflow-hidden ${ys?"border-slate-700 cursor-not-allowed opacity-50":et?"border-green-500 hover:bg-green-500/20":"border-slate-600 hover:bg-slate-500/20"}`,children:et?S.jsx(FI,{user:et}):S.jsx(kb,{className:"text-slate-400",size:24})}),l&&S.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-slate-700 rounded-md shadow-lg z-10 border border-slate-600",children:et?S.jsxs("div",{className:"p-2 text-gray-200",children:[S.jsxs("div",{className:"px-4 py-2 text-sm text-gray-300 break-words",children:[S.jsx("p",{className:"font-semibold",children:et.displayName}),S.jsx("p",{className:"truncate",children:et.email})]}),S.jsx("button",{onClick:()=>{t("dashboard"),c(!1),je(),mt(et?.uid===Gr?"pago":"compras")},className:"block w-full text-left px-4 py-2 text-sm text-gray-200 rounded-md hover:bg-slate-600",children:"Meus Pedidos"}),S.jsx("div",{className:"border-t border-slate-600 my-1"}),S.jsx("button",{onClick:pe,className:"block w-full text-left px-4 py-2 text-sm text-red-400 rounded-md hover:bg-slate-600",children:"Logout"})]}):S.jsx("div",{className:"p-2",children:S.jsxs("button",{onClick:ge,className:"flex items-center justify-center gap-2 w-full px-4 py-2 text-sm bg-white text-gray-700 font-medium rounded-md hover:bg-gray-100 whitespace-nowrap border border-slate-300",children:[S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 0 24 24",width:"18",children:[S.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),S.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),S.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),S.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),S.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]}),"Entrar com Google"]})})})]})]})}),r==="exchange"?S.jsx("div",{className:"container mx-auto px-4 max-w-lg",children:y===0?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"w-fit mx-auto text-center py-2 mt-3 mb-3 bg-black/20 rounded-lg text-gray-400 text-sm px-4",children:[S.jsxs("p",{children:["Compre TC a R$ ",v0.toFixed(2).replace(".",",")," / 25 TC"]}),S.jsxs("p",{children:["Venda TC a R$ ",E0.toFixed(2).replace(".",",")," / 25 TC"]})]}),S.jsxs("div",{className:"flex gap-2 mb-6",children:[S.jsx("button",{onClick:()=>{a("comprar"),je()},className:`flex-1 py-3 rounded-lg font-semibold transition-colors ${i==="comprar"?"bg-yellow-600 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"}`,children:"Comprar TC"}),S.jsx("button",{onClick:()=>{a("vender"),je()},className:`flex-1 py-3 rounded-lg font-semibold transition-colors ${i==="vender"?"bg-blue-600 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"}`,children:"Vender TC"})]}),S.jsxs("div",{className:`bg-slate-800 rounded-lg p-6 border transition-colors ${i==="comprar"?"border-yellow-600":"border-blue-600"}`,children:[S.jsx("h2",{className:"text-2xl font-semibold mb-6",children:i==="comprar"?"Comprar Tibia Coins (Receber TC)":"Vender Tibia Coins (Receber PIX)"}),S.jsxs("div",{children:[S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:i==="comprar"?"Quantidade de Tibia Coins (Mltiplos de 25)":"Quantidade de Tibia Coins a Vender"}),S.jsx("input",{type:"number",value:d,onChange:$=>p($.target.value===""?"":parseInt($.target.value,10)),onBlur:Me,className:"w-full bg-slate-700 text-white px-4 py-3 rounded-lg border border-slate-600 focus:border-yellow-500 focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]}),S.jsxs("div",{className:"mb-6 bg-slate-700 rounded-lg p-4",children:[S.jsx("p",{className:"text-sm text-gray-400 mb-1",children:i==="comprar"?"Valor Total (PIX a Pagar):":"Valor Total (PIX a Receber):"}),S.jsxs("p",{className:"text-3xl font-bold text-green-400",children:["R$ ",it]})]}),i==="vender"&&S.jsxs(S.Fragment,{children:[S.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Dados do Pagamento PIX"}),S.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Tipo de Chave"}),S.jsxs("select",{value:yt,onChange:de,className:"w-full bg-slate-700 text-white px-4 py-3 rounded-lg border border-slate-600 focus:border-yellow-500 focus:outline-none",children:[S.jsx("option",{children:"CPF/CNPJ"}),S.jsx("option",{children:"E-mail"}),S.jsx("option",{children:"Telefone"}),S.jsx("option",{children:"Chave Aleatria"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Chave PIX"}),S.jsx("input",{type:"text",value:ce,onChange:ln,maxLength:yt==="CPF/CNPJ"||yt==="Telefone"?15:void 0,placeholder:yt==="CPF/CNPJ"||yt==="Telefone"?"Apenas nmeros":"Sua chave PIX",className:"w-full bg-slate-700 text-white px-4 py-3 rounded-lg border border-slate-600 focus:border-yellow-500 focus:outline-none placeholder-gray-500"})]})]}),S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"E-mail (Para Notificaes)"}),S.jsx("input",{type:"email",value:ot,placeholder:"Faa login para preenchimento automtico",readOnly:!0,className:"w-full px-4 py-3 rounded-lg border border-slate-600 focus:border-yellow-500 focus:outline-none placeholder-gray-500 bg-slate-900 cursor-not-allowed text-gray-400"})]})]}),S.jsx("h3",{className:"text-xl font-semibold mb-4",children:i==="comprar"?"Dados para Receber In-Game":"Seu Char"}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Nome do Char (Exato)"}),S.jsx("input",{type:"text",value:Nt,onChange:_s,placeholder:i==="comprar"?"Ex: Craban":"Ex: Eternal Oblivion",className:"w-full bg-slate-700 text-white px-4 py-3 rounded-lg border border-slate-600 focus:border-yellow-500 focus:outline-none placeholder-gray-500"})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"World (Servidor)"}),S.jsx("input",{type:"text",value:G,placeholder:ki?"Buscando...":zi||"Aguardando nome do personagem...",readOnly:!0,className:`w-full px-4 py-3 rounded-lg border border-slate-600 focus:border-yellow-500 focus:outline-none transition-all bg-slate-900 cursor-not-allowed ${G?"text-green-400 font-semibold":"text-gray-400"} ${zi?"placeholder:text-red-400":"placeholder:text-gray-500"}`})]}),i==="comprar"&&S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"E-mail (Para Notificaes)"}),S.jsx("input",{type:"email",value:ot,placeholder:"Faa login para preenchimento automtico",readOnly:!0,className:"w-full px-4 py-3 rounded-lg border border-slate-600 focus:border-yellow-500 focus:outline-none placeholder-gray-500 bg-slate-900 cursor-not-allowed text-gray-400"})]}),S.jsx("button",{onClick:()=>_(1),disabled:ps,className:`w-full text-white font-bold py-4 rounded-lg transition-colors text-lg ${ps?"bg-slate-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:et?ps?i==="comprar"?"Finalizar Compra":"Finalizar Venda":"Avanar":"FAA LOGIN PARA CONTINUAR"})]})]})]}):S.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl w-full max-w-md mx-auto mt-6 border border-slate-700 p-6",children:[S.jsx(Dn,{currentStep:y}),y===1&&S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-center text-yellow-400 mb-6",children:"Etapa 1: Detalhes do Produto"}),S.jsxs("div",{className:"space-y-2 text-lg",children:[S.jsxs("p",{children:[S.jsx("span",{className:"text-gray-400",children:"Quantidade:"})," ",d," Tibia Coins"]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-gray-400",children:"Pagamento:"})," PIX"]})]})]}),y===2&&et&&S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-center text-yellow-400 mb-6",children:"Etapa 2: Seus Dados"}),S.jsxs("div",{className:"space-y-2 text-lg",children:[S.jsxs("p",{children:[S.jsx("span",{className:"text-gray-400",children:"Nome:"})," ",et.displayName]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-gray-400",children:"E-mail:"})," ",et.email]}),S.jsx("div",{className:"border-t border-slate-700 my-3 pt-2"}),S.jsxs("p",{children:[S.jsx("span",{className:"text-gray-400",children:"Personagem:"})," ",Nt]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-gray-400",children:"Level:"})," ",ms||"N/A"]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-gray-400",children:"Servidor:"})," ",G]})]})]}),y===3&&et&&S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-center text-yellow-400 mb-6",children:"Etapa 3: Resumo e Confirmao"}),S.jsxs("div",{className:"space-y-2 text-lg mb-6",children:[S.jsxs("p",{children:[S.jsx("span",{className:"text-gray-400",children:"Quantidade:"})," ",d," Tibia Coins"]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-gray-400",children:"Valor:"})," R$ ",it]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-gray-400",children:"Pagamento:"})," PIX"]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-gray-400",children:"E-mail:"})," ",et.email]}),S.jsx("div",{className:"border-t border-slate-700 my-3 pt-2"}),S.jsxs("p",{children:[S.jsx("span",{className:"text-gray-400",children:"Personagem:"})," ",Nt]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-gray-400",children:"Level:"})," ",ms||"N/A"]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-gray-400",children:"Servidor:"})," ",G]})]}),S.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[S.jsx("input",{type:"checkbox",id:"terms",checked:A,onChange:$=>b($.target.checked),className:"w-4 h-4 accent-yellow-500"}),S.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-300",children:["Eu aceito os ",S.jsx("a",{href:"https://tibex.com.br/tos",className:"underline hover:text-yellow-400",children:"termos de privacidade e uso"})," dos servios."]})]})]}),y===4&&S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-center text-yellow-400 mb-6",children:"Etapa 4: Pagamento"}),S.jsx("p",{className:"text-center text-gray-300 mb-4",children:"Realize o pagamento para concluir seu pedido."}),S.jsxs("div",{className:"bg-slate-700 p-4 rounded-lg text-center",children:[S.jsx("p",{className:"text-gray-400",children:"Chave PIX (Banco do Brasil API):"}),S.jsx("p",{className:"font-mono text-lg text-yellow-300 break-all",children:"[CHAVE PIX GERADA AQUI]"})]}),S.jsx("p",{className:"text-center text-xs text-slate-500 mt-2 mb-4",children:"*Ao atualizar ou fechar esta pgina, o pedido ser cancelado. Ser necessrio criar um novo pedido."}),S.jsx("div",{className:"text-center mt-4",children:S.jsx("button",{onClick:oa,className:"text-sm bg-gray-600 hover:bg-gray-500 px-3 py-1 rounded-md",children:"[SIMULAR PAGAMENTO]"})}),S.jsx("div",{className:"mt-6",children:W>0?S.jsxs(S.Fragment,{children:[S.jsx("p",{className:"text-center text-sm text-red-400 mb-2",children:"O pedido ser cancelado em:"}),S.jsx("div",{className:"w-full bg-slate-700 rounded-full h-4 overflow-hidden",children:S.jsx("div",{className:"bg-red-600 h-4 rounded-full",style:{width:`${W/5*100}%`,transition:"width 1s linear"}})}),S.jsxs("p",{className:"text-center font-bold text-xl text-red-500 mt-2",children:[W,"s"]})]}):S.jsx("p",{className:"text-center text-red-500 font-bold",children:"Pedido Expirado!"})}),S.jsx("div",{className:"text-center mt-6",children:S.jsx("button",{onClick:je,className:"px-6 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg",children:"Fazer Novo Pedido"})})]}),y===5&&S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-center text-red-500 mb-6",children:"Pedido Expirado"}),S.jsxs("div",{className:"text-center text-gray-300 space-y-2",children:[S.jsx("p",{children:"O tempo para pagamento do seu pedido expirou."}),S.jsxs("p",{className:"text-sm text-gray-400",children:["ID do Pedido: ",S.jsx("span",{className:"font-mono bg-slate-700 px-2 py-1 rounded",children:V})]}),S.jsx("p",{className:"text-sm text-gray-400",children:"Nenhum valor foi cobrado."})]})]}),y===6&&S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-center text-green-400 mb-6",children:"Pagamento Confirmado!"}),S.jsxs("div",{className:"text-center text-gray-300 space-y-2",children:[S.jsx("p",{children:"Seu pedido foi recebido e ser processado em breve."}),S.jsxs("p",{className:"text-sm text-gray-400",children:["ID do Pedido: ",S.jsx("span",{className:"font-mono bg-slate-700 px-2 py-1 rounded",children:V})]}),S.jsxs("p",{children:["Voc receber os Tibia Coins no personagem ",S.jsx("span",{className:"font-semibold text-yellow-400",children:Nt}),"."]})]})]}),y<4&&S.jsxs("div",{className:"flex justify-between mt-8",children:[S.jsx("button",{onClick:()=>{y===3&&b(!1),_($=>$-1)},className:"px-6 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg",children:"Voltar"}),y===3?S.jsx("button",{onClick:ui,disabled:yr,className:`px-6 py-2 rounded-lg font-bold ${yr?"bg-slate-500 cursor-not-allowed":"bg-green-600 hover:bg-green-500"}`,children:"Comprar"}):S.jsx("button",{onClick:()=>_($=>$+1),className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg",children:"Avanar"})]}),(y===5||y===6)&&S.jsx("div",{className:"text-center mt-8",children:S.jsx("button",{onClick:je,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-bold",children:"Fazer Novo Pedido"})})]})}):S.jsxs("div",{className:"container mx-auto px-4 max-w-lg",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsx("h2",{className:"text-2xl font-semibold",children:" "}),S.jsx("button",{onClick:()=>{t("exchange"),je()},className:"text-sm text-yellow-500 hover:underline",children:"Voltar"})]}),et?.uid===Gr&&S.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 text-center",children:[S.jsxs("div",{className:"bg-green-800/50 p-4 rounded-lg border border-green-700",children:[S.jsx("p",{className:"text-sm text-green-300",children:"Total de Coins Recebidas"}),S.jsxs("p",{className:"text-2xl font-bold",children:[M.toLocaleString("pt-BR")," TC"]})]}),S.jsxs("div",{className:"bg-red-800/50 p-4 rounded-lg border border-red-700",children:[S.jsx("p",{className:"text-sm text-red-300",children:"Total de Coins Enviadas"}),S.jsxs("p",{className:"text-2xl font-bold",children:[P.toLocaleString("pt-BR")," TC"]})]}),S.jsxs("div",{className:"bg-blue-800/50 p-4 rounded-lg border border-blue-700",children:[S.jsx("p",{className:"text-sm text-blue-300",children:"Estoque Atual"}),S.jsxs("p",{className:`text-2xl font-bold ${Wt<0?"text-red-500":Wt>=25?"text-green-500":"text-white"}`,children:[Wt.toLocaleString("pt-BR")," TC"]})]})]}),S.jsxs("div",{className:"flex gap-2 mb-6",children:[et?.uid===Gr?S.jsx("button",{onClick:()=>{mt("pago"),Ht(1),R(null)},className:`flex-1 py-3 rounded-lg font-semibold transition-colors ${gt==="pago"?"bg-green-600 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"}`,children:"Pago"}):S.jsx("button",{onClick:()=>{mt("todas"),Ht(1),R(null)},className:`flex-1 py-3 rounded-lg font-semibold transition-colors ${gt==="todas"?"bg-yellow-600 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"}`,children:"Todas"}),S.jsx("button",{onClick:()=>{mt("compras"),Ht(1),R(null)},className:`flex-1 py-3 rounded-lg font-semibold transition-colors ${gt==="compras"?"bg-yellow-600 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"}`,children:"Compras"}),S.jsx("button",{onClick:()=>{mt("vendas"),Ht(1),R(null)},className:`flex-1 py-3 rounded-lg font-semibold transition-colors ${gt==="vendas"?"bg-blue-600 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"}`,children:"Vendas"})]}),S.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700 min-h-[400px] flex flex-col justify-between",children:[ds?S.jsx("p",{className:"text-center text-gray-400 pt-16",children:"Carregando pedidos..."}):S.jsx("div",{className:"space-y-4",children:aa.length>0?aa.map($=>$.id&&S.jsxs("div",{className:`rounded-lg transition-all duration-300 ${$.type==="compra"&&$.status==="Pago"?"bg-green-900/40 border border-green-700/50":"bg-slate-700"}`,children:[S.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-slate-600/50 rounded-lg",onClick:()=>ra($.id),children:[S.jsxs("div",{children:[S.jsxs("p",{className:"font-bold text-lg",children:[$.type==="compra"?"Compra":"Venda"," de ",$.quantity," TC"]}),S.jsxs("p",{className:"text-sm text-gray-400",children:[$.date," - ",$.charName," (",$.world,")"]})]}),S.jsxs("div",{className:"text-right",children:[S.jsxs("p",{className:"font-bold text-lg text-green-400",children:["R$ ",$.value]}),S.jsx("p",{className:`text-sm font-semibold ${$.status==="Concludo"?"text-green-500":$.status==="Pendente"?"text-yellow-500":"text-red-500"}`,children:$.status})]})]}),w===$.id&&S.jsxs("div",{className:"border-t border-slate-600 p-4 text-gray-300 space-y-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"font-semibold",children:"ID do Pedido:"}),S.jsx("span",{className:"text-sm bg-slate-800 px-2 py-1 rounded",children:$.id}),S.jsx("button",{onClick:()=>pr($.id,"ID do Pedido"),className:"p-1 hover:bg-slate-600 rounded",children:S.jsx(xd,{size:16})})]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-semibold",children:"Data:"})," ",$.createdAt.toDate().toLocaleString("pt-BR")]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"font-semibold",children:"Personagem:"}),S.jsx("span",{children:$.charName}),et?.uid===Gr&&$.type==="compra"&&$.status==="Pago"&&S.jsx("button",{onClick:()=>pr($.charName,"Nome do Personagem"),className:"p-1 hover:bg-slate-600 rounded",children:S.jsx(xd,{size:16})})]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-semibold",children:"Mundo:"})," ",$.world]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-semibold",children:"Quantidade:"})," ",$.quantity," Tibia Coins"]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-semibold",children:"Valor:"})," R$ ",$.value]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-semibold",children:"Status:"})," ",S.jsx("span",{className:`font-bold ${$.status==="Concludo"?"text-green-400":$.status==="Pendente"?"text-yellow-400":"text-red-400"}`,children:$.status})]}),et?.uid===Gr&&S.jsxs("div",{className:"border-t border-slate-600 pt-2 mt-2",children:[S.jsx("p",{className:"font-semibold text-yellow-400",children:"Info do Cliente (Admin):"}),S.jsxs("p",{children:[S.jsx("span",{className:"font-semibold",children:"Nome:"})," ",$.userDisplayName]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-semibold",children:"Email:"})," ",$.userEmail]}),$.type==="venda"&&$.pixKey&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("span",{className:"font-semibold",children:["Chave PIX (",$.keyType,"):"]}),S.jsx("span",{children:$.pixKey}),S.jsx("button",{onClick:()=>pr($.pixKey,"Chave PIX"),className:"p-1 hover:bg-slate-600 rounded",children:S.jsx(xd,{size:16})})]}),S.jsxs("p",{children:[S.jsx("span",{className:"font-semibold",children:"User ID:"})," ",S.jsx("span",{className:"text-sm",children:$.userId})]}),$.type==="compra"&&S.jsxs("div",{className:"border-t border-slate-600/50 pt-2 mt-2",children:[S.jsx("p",{className:"font-semibold text-cyan-400",children:"Prxima Ao:"}),$.status==="Pago"?S.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[S.jsx("span",{children:"Enviar TC - Pedido Pago"}),S.jsx("button",{onClick:()=>la($.id),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-3 rounded-md text-sm",children:"Concluir"})]}):$.status==="Concludo"?S.jsx("span",{children:"TC Enviado"}):$.status==="Pendente"?S.jsx("span",{className:"text-yellow-400",children:"Aguardando Pagamento"}):S.jsx("span",{className:"text-gray-500",children:"Nenhuma ao pendente"})]})]})]})]},$.id)):S.jsx("p",{className:"text-center text-gray-400 pt-16",children:"Nenhum pedido encontrado."})}),ci>1&&S.jsxs("div",{className:"flex justify-center items-center gap-4 mt-6",children:[S.jsx("button",{onClick:()=>Ht($=>Math.max(1,$-1)),disabled:qt===1,className:"px-4 py-2 bg-slate-600 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),S.jsxs("span",{className:"text-gray-300",children:["Pgina ",qt," de ",ci]}),S.jsx("button",{onClick:()=>Ht($=>Math.min(ci,$+1)),disabled:qt===ci,className:"px-4 py-2 bg-slate-600 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Prxima"})]})]})]}),S.jsx("footer",{className:"text-center py-8 mt-12 text-gray-500 text-sm",children:S.jsx("p",{children:"Tibex - Tibia Exchange  Todos os direitos reservados."})})]})}xb.createRoot(document.getElementById("root")).render(S.jsx(Ct.StrictMode,{children:S.jsx(GI,{})}));
